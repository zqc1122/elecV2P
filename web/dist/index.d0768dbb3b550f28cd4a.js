(()=>{var e={432:function(e){"undefined"!=typeof self&&self,e.exports=function(e){var t={};function s(i){if(t[i])return t[i].exports;var n=t[i]={i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,s),n.l=!0,n.exports}return s.m=e,s.c=t,s.d=function(e,t,i){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(i,n,function(t){return e[t]}.bind(null,n));return i},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s="fb15")}({"0029":function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},"0185":function(e,t,s){var i=s("e5fa");e.exports=function(e){return Object(i(e))}},"01f9":function(e,t,s){"use strict";var i=s("2d00"),n=s("5ca1"),a=s("2aba"),r=s("32e9"),o=s("84f2"),l=s("41a0"),c=s("7f20"),u=s("38fd"),h=s("2b4c")("iterator"),d=!([].keys&&"next"in[].keys()),p="@@iterator",m="keys",f="values",v=function(){return this};e.exports=function(e,t,s,g,_,b,y){l(s,t,g);var $,w,k,C=function(e){if(!d&&e in O)return O[e];switch(e){case m:case f:return function(){return new s(this,e)}}return function(){return new s(this,e)}},x=t+" Iterator",T=_==f,S=!1,O=e.prototype,E=O[h]||O[p]||_&&O[_],j=E||C(_),N=_?T?C("entries"):j:void 0,P="Array"==t&&O.entries||E;if(P&&(k=u(P.call(new e)))!==Object.prototype&&k.next&&(c(k,x,!0),i||"function"==typeof k[h]||r(k,h,v)),T&&E&&E.name!==f&&(S=!0,j=function(){return E.call(this)}),i&&!y||!d&&!S&&O[h]||r(O,h,j),o[t]=j,o[x]=v,_)if($={values:T?j:C(f),keys:b?j:C(m),entries:N},y)for(w in $)w in O||a(O,w,$[w]);else n(n.P+n.F*(d||S),t,$);return $}},"02f4":function(e,t,s){var i=s("4588"),n=s("be13");e.exports=function(e){return function(t,s){var a,r,o=String(n(t)),l=i(s),c=o.length;return l<0||l>=c?e?"":void 0:(a=o.charCodeAt(l))<55296||a>56319||l+1===c||(r=o.charCodeAt(l+1))<56320||r>57343?e?o.charAt(l):a:e?o.slice(l,l+2):r-56320+(a-55296<<10)+65536}}},"0a49":function(e,t,s){var i=s("9b43"),n=s("626a"),a=s("4bf8"),r=s("9def"),o=s("cd1c");e.exports=function(e,t){var s=1==e,l=2==e,c=3==e,u=4==e,h=6==e,d=5==e||h,p=t||o;return function(t,o,m){for(var f,v,g=a(t),_=n(g),b=i(o,m,3),y=r(_.length),$=0,w=s?p(t,y):l?p(t,0):void 0;y>$;$++)if((d||$ in _)&&(v=b(f=_[$],$,g),e))if(s)w[$]=v;else if(v)switch(e){case 3:return!0;case 5:return f;case 6:return $;case 2:w.push(f)}else if(u)return!1;return h?-1:c||u?u:w}}},"0a91":function(e,t,s){s("b42c"),s("93c4"),e.exports=s("b77f")},"0bfb":function(e,t,s){"use strict";var i=s("cb7c");e.exports=function(){var e=i(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},"0d58":function(e,t,s){var i=s("ce10"),n=s("e11e");e.exports=Object.keys||function(e){return i(e,n)}},"0f89":function(e,t,s){var i=s("6f8a");e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},"103a":function(e,t,s){var i=s("da3c").document;e.exports=i&&i.documentElement},1169:function(e,t,s){var i=s("2d95");e.exports=Array.isArray||function(e){return"Array"==i(e)}},"11e9":function(e,t,s){var i=s("52a7"),n=s("4630"),a=s("6821"),r=s("6a99"),o=s("69a8"),l=s("c69a"),c=Object.getOwnPropertyDescriptor;t.f=s("9e1e")?c:function(e,t){if(e=a(e),t=r(t,!0),l)try{return c(e,t)}catch(e){}if(o(e,t))return n(!i.f.call(e,t),e[t])}},"12fd":function(e,t,s){var i=s("6f8a"),n=s("da3c").document,a=i(n)&&i(n.createElement);e.exports=function(e){return a?n.createElement(e):{}}},1495:function(e,t,s){var i=s("86cc"),n=s("cb7c"),a=s("0d58");e.exports=s("9e1e")?Object.defineProperties:function(e,t){n(e);for(var s,r=a(t),o=r.length,l=0;o>l;)i.f(e,s=r[l++],t[s]);return e}},1938:function(e,t,s){var i=s("d13f");i(i.S,"Array",{isArray:s("b5aa")})},"1b55":function(e,t,s){var i=s("7772")("wks"),n=s("7b00"),a=s("da3c").Symbol,r="function"==typeof a;(e.exports=function(e){return i[e]||(i[e]=r&&a[e]||(r?a:n)("Symbol."+e))}).store=i},"1b8f":function(e,t,s){var i=s("a812"),n=Math.max,a=Math.min;e.exports=function(e,t){return(e=i(e))<0?n(e+t,0):a(e,t)}},"1c01":function(e,t,s){var i=s("5ca1");i(i.S+i.F*!s("9e1e"),"Object",{defineProperty:s("86cc").f})},"1fa8":function(e,t,s){var i=s("cb7c");e.exports=function(e,t,s,n){try{return n?t(i(s)[0],s[1]):t(s)}catch(t){var a=e.return;throw void 0!==a&&i(a.call(e)),t}}},"230e":function(e,t,s){var i=s("d3f4"),n=s("7726").document,a=i(n)&&i(n.createElement);e.exports=function(e){return a?n.createElement(e):{}}},2312:function(e,t,s){e.exports=s("8ce0")},"23c6":function(e,t,s){var i=s("2d95"),n=s("2b4c")("toStringTag"),a="Arguments"==i(function(){return arguments}()),r=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,s,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(s=r(t=Object(e),n))?s:a?i(t):"Object"==(o=i(t))&&"function"==typeof t.callee?"Arguments":o}},2418:function(e,t,s){var i=s("6a9b"),n=s("a5ab"),a=s("1b8f");e.exports=function(e){return function(t,s,r){var o,l=i(t),c=n(l.length),u=a(r,c);if(e&&s!=s){for(;c>u;)if((o=l[u++])!=o)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===s)return e||u||0;return!e&&-1}}},"245b":function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},2621:function(e,t){t.f=Object.getOwnPropertySymbols},2695:function(e,t,s){var i=s("43c8"),n=s("6a9b"),a=s("2418")(!1),r=s("5d8f")("IE_PROTO");e.exports=function(e,t){var s,o=n(e),l=0,c=[];for(s in o)s!=r&&i(o,s)&&c.push(s);for(;t.length>l;)i(o,s=t[l++])&&(~a(c,s)||c.push(s));return c}},"27ee":function(e,t,s){var i=s("23c6"),n=s("2b4c")("iterator"),a=s("84f2");e.exports=s("8378").getIteratorMethod=function(e){if(null!=e)return e[n]||e["@@iterator"]||a[i(e)]}},"2a4e":function(e,t,s){var i=s("a812"),n=s("e5fa");e.exports=function(e){return function(t,s){var a,r,o=String(n(t)),l=i(s),c=o.length;return l<0||l>=c?e?"":void 0:(a=o.charCodeAt(l))<55296||a>56319||l+1===c||(r=o.charCodeAt(l+1))<56320||r>57343?e?o.charAt(l):a:e?o.slice(l,l+2):r-56320+(a-55296<<10)+65536}}},"2aba":function(e,t,s){var i=s("7726"),n=s("32e9"),a=s("69a8"),r=s("ca5a")("src"),o="toString",l=Function[o],c=(""+l).split(o);s("8378").inspectSource=function(e){return l.call(e)},(e.exports=function(e,t,s,o){var l="function"==typeof s;l&&(a(s,"name")||n(s,"name",t)),e[t]!==s&&(l&&(a(s,r)||n(s,r,e[t]?""+e[t]:c.join(String(t)))),e===i?e[t]=s:o?e[t]?e[t]=s:n(e,t,s):(delete e[t],n(e,t,s)))})(Function.prototype,o,(function(){return"function"==typeof this&&this[r]||l.call(this)}))},"2aeb":function(e,t,s){var i=s("cb7c"),n=s("1495"),a=s("e11e"),r=s("613b")("IE_PROTO"),o=function(){},l="prototype",c=function(){var e,t=s("230e")("iframe"),i=a.length,n="<",r=">";for(t.style.display="none",s("fab2").appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write(n+"script"+r+"document.F=Object"+n+"/script"+r),e.close(),c=e.F;i--;)delete c[l][a[i]];return c()};e.exports=Object.create||function(e,t){var s;return null!==e?(o[l]=i(e),s=new o,o[l]=null,s[r]=e):s=c(),void 0===t?s:n(s,t)}},"2b4c":function(e,t,s){var i=s("5537")("wks"),n=s("ca5a"),a=s("7726").Symbol,r="function"==typeof a;(e.exports=function(e){return i[e]||(i[e]=r&&a[e]||(r?a:n)("Symbol."+e))}).store=i},"2d00":function(e,t){e.exports=!1},"2d95":function(e,t){var s={}.toString;e.exports=function(e){return s.call(e).slice(8,-1)}},"2ea1":function(e,t,s){var i=s("6f8a");e.exports=function(e,t){if(!i(e))return e;var s,n;if(t&&"function"==typeof(s=e.toString)&&!i(n=s.call(e)))return n;if("function"==typeof(s=e.valueOf)&&!i(n=s.call(e)))return n;if(!t&&"function"==typeof(s=e.toString)&&!i(n=s.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},"2f21":function(e,t,s){"use strict";var i=s("79e5");e.exports=function(e,t){return!!e&&i((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},"2fdb":function(e,t,s){"use strict";var i=s("5ca1"),n=s("d2c8"),a="includes";i(i.P+i.F*s("5147")(a),"String",{includes:function(e){return!!~n(this,e,a).indexOf(e,arguments.length>1?arguments[1]:void 0)}})},"32e9":function(e,t,s){var i=s("86cc"),n=s("4630");e.exports=s("9e1e")?function(e,t,s){return i.f(e,t,n(1,s))}:function(e,t,s){return e[t]=s,e}},"33a4":function(e,t,s){var i=s("84f2"),n=s("2b4c")("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||a[n]===e)}},3425:function(e,t,s){"use strict";var i=function(){var e,t=this,s=t.$createElement,i=t._self._c||s;return i("div",{class:[(e={},e[t.classNameActive]=t.enabled,e[t.classNameDragging]=t.dragging,e[t.classNameResizing]=t.resizing,e[t.classNameDraggable]=t.draggable,e[t.classNameResizable]=t.resizable,e),t.className],style:t.style,on:{mousedown:t.elementMouseDown,touchstart:t.elementTouchDown}},[t._l(t.actualHandles,(function(e){return i("div",{key:e,class:[t.classNameHandle,t.classNameHandle+"-"+e],style:{display:t.enabled?"block":"none"},on:{mousedown:function(s){s.stopPropagation(),s.preventDefault(),t.handleDown(e,s)},touchstart:function(s){s.stopPropagation(),s.preventDefault(),t.handleTouchDown(e,s)}}},[t._t(e)],2)})),t._v(" "),t._t("default")],2)},n=[],a=(s("1c01"),s("58b2"),s("8e6e"),s("f3e2"),s("456d"),s("85f2")),r=s.n(a);function o(e,t,s){return t in e?r()(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}s("3b2b");var l=s("a745"),c=s.n(l);function u(e){if(c()(e))return e}var h=s("5d73"),d=s.n(h),p=s("c8bb"),m=s.n(p);function f(e,t){if(m()(Object(e))||"[object Arguments]"===Object.prototype.toString.call(e)){var s=[],i=!0,n=!1,a=void 0;try{for(var r,o=d()(e);!(i=(r=o.next()).done)&&(s.push(r.value),!t||s.length!==t);i=!0);}catch(e){n=!0,a=e}finally{try{i||null==o.return||o.return()}finally{if(n)throw a}}return s}}function v(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function g(e,t){return u(e)||f(e,t)||v()}function _(e){return"function"==typeof e||"[object Function]"===Object.prototype.toString.call(e)}function b(e,t,s){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,n=g("number"==typeof i?[i,i]:i,2),a=n[0],r=n[1];return[Math.round(t/a/e[0])*e[0],Math.round(s/r/e[1])*e[1]]}function y(e,t,s){return e-t-s}function $(e,t,s){return e-t-s}function w(e,t,s){return null!==t&&e<t?t:null!==s&&s<e?s:e}function k(e,t,s){var i=e,n=["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].find((function(e){return _(i[e])}));if(!_(i[n]))return!1;do{if(i[n](t))return!0;if(i===s)return!1;i=i.parentNode}while(i);return!1}function C(e){var t=window.getComputedStyle(e);return[parseFloat(t.getPropertyValue("width"),10),parseFloat(t.getPropertyValue("height"),10)]}function x(e,t,s){e&&(e.attachEvent?e.attachEvent("on"+t,s):e.addEventListener?e.addEventListener(t,s,!0):e["on"+t]=s)}function T(e,t,s){e&&(e.detachEvent?e.detachEvent("on"+t,s):e.removeEventListener?e.removeEventListener(t,s,!0):e["on"+t]=null)}function S(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function O(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?S(s,!0).forEach((function(t){o(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):S(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}s("6762"),s("2fdb"),s("d25f"),s("ac6a"),s("cadf"),s("5df3"),s("4f7f"),s("c5f6"),s("7514"),s("6b54"),s("87b3");var E={mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"},touch:{start:"touchstart",move:"touchmove",stop:"touchend"}},j={userSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none",MsUserSelect:"none"},N={userSelect:"auto",MozUserSelect:"auto",WebkitUserSelect:"auto",MsUserSelect:"auto"},P=E.mouse,A={replace:!0,name:"vue-draggable-resizable",props:{className:{type:String,default:"vdr"},classNameDraggable:{type:String,default:"draggable"},classNameResizable:{type:String,default:"resizable"},classNameDragging:{type:String,default:"dragging"},classNameResizing:{type:String,default:"resizing"},classNameActive:{type:String,default:"active"},classNameHandle:{type:String,default:"handle"},disableUserSelect:{type:Boolean,default:!0},enableNativeDrag:{type:Boolean,default:!1},preventDeactivation:{type:Boolean,default:!1},active:{type:Boolean,default:!1},draggable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},lockAspectRatio:{type:Boolean,default:!1},w:{type:[Number,String],default:200,validator:function(e){return"number"==typeof e?e>0:"auto"===e}},h:{type:[Number,String],default:200,validator:function(e){return"number"==typeof e?e>0:"auto"===e}},minWidth:{type:Number,default:0,validator:function(e){return e>=0}},minHeight:{type:Number,default:0,validator:function(e){return e>=0}},maxWidth:{type:Number,default:null,validator:function(e){return e>=0}},maxHeight:{type:Number,default:null,validator:function(e){return e>=0}},x:{type:Number,default:0},y:{type:Number,default:0},z:{type:[String,Number],default:"auto",validator:function(e){return"string"==typeof e?"auto"===e:e>=0}},handles:{type:Array,default:function(){return["tl","tm","tr","mr","br","bm","bl","ml"]},validator:function(e){var t=new Set(["tl","tm","tr","mr","br","bm","bl","ml"]);return new Set(e.filter((function(e){return t.has(e)}))).size===e.length}},dragHandle:{type:String,default:null},dragCancel:{type:String,default:null},axis:{type:String,default:"both",validator:function(e){return["x","y","both"].includes(e)}},grid:{type:Array,default:function(){return[1,1]}},parent:{type:Boolean,default:!1},scale:{type:[Number,Array],default:1,validator:function(e){return"number"==typeof e?e>0:2===e.length&&e[0]>0&&e[1]>0}},onDragStart:{type:Function,default:function(){return!0}},onDrag:{type:Function,default:function(){return!0}},onResizeStart:{type:Function,default:function(){return!0}},onResize:{type:Function,default:function(){return!0}}},data:function(){return{left:this.x,top:this.y,right:null,bottom:null,width:null,height:null,widthTouched:!1,heightTouched:!1,aspectFactor:null,parentWidth:null,parentHeight:null,minW:this.minWidth,minH:this.minHeight,maxW:this.maxWidth,maxH:this.maxHeight,handle:null,enabled:this.active,resizing:!1,dragging:!1,dragEnable:!1,resizeEnable:!1,zIndex:this.z}},created:function(){this.maxWidth&&this.minWidth>this.maxWidth&&console.warn("[Vdr warn]: Invalid prop: minWidth cannot be greater than maxWidth"),this.maxWidth&&this.minHeight>this.maxHeight&&console.warn("[Vdr warn]: Invalid prop: minHeight cannot be greater than maxHeight"),this.resetBoundsAndMouseState()},mounted:function(){this.enableNativeDrag||(this.$el.ondragstart=function(){return!1});var e=g(this.getParentSize(),2),t=e[0],s=e[1];this.parentWidth=t,this.parentHeight=s;var i=g(C(this.$el),2),n=i[0],a=i[1];this.aspectFactor=("auto"!==this.w?this.w:n)/("auto"!==this.h?this.h:a),this.width="auto"!==this.w?this.w:n,this.height="auto"!==this.h?this.h:a,this.right=this.parentWidth-this.width-this.left,this.bottom=this.parentHeight-this.height-this.top,this.active&&this.$emit("activated"),x(document.documentElement,"mousedown",this.deselect),x(document.documentElement,"touchend touchcancel",this.deselect),x(window,"resize",this.checkParentSize)},beforeDestroy:function(){T(document.documentElement,"mousedown",this.deselect),T(document.documentElement,"touchstart",this.handleUp),T(document.documentElement,"mousemove",this.move),T(document.documentElement,"touchmove",this.move),T(document.documentElement,"mouseup",this.handleUp),T(document.documentElement,"touchend touchcancel",this.deselect),T(window,"resize",this.checkParentSize)},methods:{resetBoundsAndMouseState:function(){this.mouseClickPosition={mouseX:0,mouseY:0,x:0,y:0,w:0,h:0},this.bounds={minLeft:null,maxLeft:null,minRight:null,maxRight:null,minTop:null,maxTop:null,minBottom:null,maxBottom:null}},checkParentSize:function(){if(this.parent){var e=g(this.getParentSize(),2),t=e[0],s=e[1];this.parentWidth=t,this.parentHeight=s,this.right=this.parentWidth-this.width-this.left,this.bottom=this.parentHeight-this.height-this.top}},getParentSize:function(){if(this.parent){var e=window.getComputedStyle(this.$el.parentNode,null);return[parseInt(e.getPropertyValue("width"),10),parseInt(e.getPropertyValue("height"),10)]}return[null,null]},elementTouchDown:function(e){P=E.touch,this.elementDown(e)},elementMouseDown:function(e){P=E.mouse,this.elementDown(e)},elementDown:function(e){if(!(e instanceof MouseEvent&&1!==e.which)){var t=e.target||e.srcElement;if(this.$el.contains(t)){if(!1===this.onDragStart(e))return;if(this.dragHandle&&!k(t,this.dragHandle,this.$el)||this.dragCancel&&k(t,this.dragCancel,this.$el))return void(this.dragging=!1);this.enabled||(this.enabled=!0,this.$emit("activated"),this.$emit("update:active",!0)),this.draggable&&(this.dragEnable=!0),this.mouseClickPosition.mouseX=e.touches?e.touches[0].pageX:e.pageX,this.mouseClickPosition.mouseY=e.touches?e.touches[0].pageY:e.pageY,this.mouseClickPosition.left=this.left,this.mouseClickPosition.right=this.right,this.mouseClickPosition.top=this.top,this.mouseClickPosition.bottom=this.bottom,this.parent&&(this.bounds=this.calcDragLimits()),x(document.documentElement,P.move,this.move),x(document.documentElement,P.stop,this.handleUp)}}},calcDragLimits:function(){return{minLeft:this.left%this.grid[0],maxLeft:Math.floor((this.parentWidth-this.width-this.left)/this.grid[0])*this.grid[0]+this.left,minRight:this.right%this.grid[0],maxRight:Math.floor((this.parentWidth-this.width-this.right)/this.grid[0])*this.grid[0]+this.right,minTop:this.top%this.grid[1],maxTop:Math.floor((this.parentHeight-this.height-this.top)/this.grid[1])*this.grid[1]+this.top,minBottom:this.bottom%this.grid[1],maxBottom:Math.floor((this.parentHeight-this.height-this.bottom)/this.grid[1])*this.grid[1]+this.bottom}},deselect:function(e){var t=e.target||e.srcElement,s=new RegExp(this.className+"-([trmbl]{2})","");this.$el.contains(t)||s.test(t.className)||(this.enabled&&!this.preventDeactivation&&(this.enabled=!1,this.$emit("deactivated"),this.$emit("update:active",!1)),T(document.documentElement,P.move,this.handleResize)),this.resetBoundsAndMouseState()},handleTouchDown:function(e,t){P=E.touch,this.handleDown(e,t)},handleDown:function(e,t){t instanceof MouseEvent&&1!==t.which||!1!==this.onResizeStart(e,t)&&(t.stopPropagation&&t.stopPropagation(),this.lockAspectRatio&&!e.includes("m")?this.handle="m"+e.substring(1):this.handle=e,this.resizeEnable=!0,this.mouseClickPosition.mouseX=t.touches?t.touches[0].pageX:t.pageX,this.mouseClickPosition.mouseY=t.touches?t.touches[0].pageY:t.pageY,this.mouseClickPosition.left=this.left,this.mouseClickPosition.right=this.right,this.mouseClickPosition.top=this.top,this.mouseClickPosition.bottom=this.bottom,this.bounds=this.calcResizeLimits(),x(document.documentElement,P.move,this.handleResize),x(document.documentElement,P.stop,this.handleUp))},calcResizeLimits:function(){var e=this.minW,t=this.minH,s=this.maxW,i=this.maxH,n=this.aspectFactor,a=g(this.grid,2),r=a[0],o=a[1],l=this.width,c=this.height,u=this.left,h=this.top,d=this.right,p=this.bottom;this.lockAspectRatio&&(e/t>n?t=e/n:e=n*t,s&&i?(s=Math.min(s,n*i),i=Math.min(i,s/n)):s?i=s/n:i&&(s=n*i)),s-=s%r,i-=i%o;var m={minLeft:null,maxLeft:null,minTop:null,maxTop:null,minRight:null,maxRight:null,minBottom:null,maxBottom:null};return this.parent?(m.minLeft=u%r,m.maxLeft=u+Math.floor((l-e)/r)*r,m.minTop=h%o,m.maxTop=h+Math.floor((c-t)/o)*o,m.minRight=d%r,m.maxRight=d+Math.floor((l-e)/r)*r,m.minBottom=p%o,m.maxBottom=p+Math.floor((c-t)/o)*o,s&&(m.minLeft=Math.max(m.minLeft,this.parentWidth-d-s),m.minRight=Math.max(m.minRight,this.parentWidth-u-s)),i&&(m.minTop=Math.max(m.minTop,this.parentHeight-p-i),m.minBottom=Math.max(m.minBottom,this.parentHeight-h-i)),this.lockAspectRatio&&(m.minLeft=Math.max(m.minLeft,u-h*n),m.minTop=Math.max(m.minTop,h-u/n),m.minRight=Math.max(m.minRight,d-p*n),m.minBottom=Math.max(m.minBottom,p-d/n))):(m.minLeft=null,m.maxLeft=u+Math.floor((l-e)/r)*r,m.minTop=null,m.maxTop=h+Math.floor((c-t)/o)*o,m.minRight=null,m.maxRight=d+Math.floor((l-e)/r)*r,m.minBottom=null,m.maxBottom=p+Math.floor((c-t)/o)*o,s&&(m.minLeft=-(d+s),m.minRight=-(u+s)),i&&(m.minTop=-(p+i),m.minBottom=-(h+i)),this.lockAspectRatio&&s&&i&&(m.minLeft=Math.min(m.minLeft,-(d+s)),m.minTop=Math.min(m.minTop,-(i+p)),m.minRight=Math.min(m.minRight,-u-s),m.minBottom=Math.min(m.minBottom,-h-i))),m},move:function(e){this.resizing?this.handleResize(e):this.dragEnable&&this.handleDrag(e)},handleDrag:function(e){var t=this.axis,s=this.grid,i=this.bounds,n=this.mouseClickPosition,a=g(b(s,t&&"y"!==t?n.mouseX-(e.touches?e.touches[0].pageX:e.pageX):0,t&&"x"!==t?n.mouseY-(e.touches?e.touches[0].pageY:e.pageY):0,this.scale),2),r=a[0],o=a[1],l=w(n.left-r,i.minLeft,i.maxLeft),c=w(n.top-o,i.minTop,i.maxTop);if(!1!==this.onDrag(l,c)){var u=w(n.right+r,i.minRight,i.maxRight),h=w(n.bottom+o,i.minBottom,i.maxBottom);this.left=l,this.top=c,this.right=u,this.bottom=h,this.$emit("dragging",this.left,this.top),this.dragging=!0}},moveHorizontally:function(e){var t=g(b(this.grid,e,this.top,1),2),s=t[0],i=(t[1],w(s,this.bounds.minLeft,this.bounds.maxLeft));this.left=i,this.right=this.parentWidth-this.width-i},moveVertically:function(e){var t=g(b(this.grid,this.left,e,1),2),s=w((t[0],t[1]),this.bounds.minTop,this.bounds.maxTop);this.top=s,this.bottom=this.parentHeight-this.height-s},handleResize:function(e){var t=this.left,s=this.top,i=this.right,n=this.bottom,a=this.mouseClickPosition,r=(this.lockAspectRatio,this.aspectFactor),o=a.mouseX-(e.touches?e.touches[0].pageX:e.pageX),l=a.mouseY-(e.touches?e.touches[0].pageY:e.pageY);!this.widthTouched&&o&&(this.widthTouched=!0),!this.heightTouched&&l&&(this.heightTouched=!0);var c=g(b(this.grid,o,l,this.scale),2),u=c[0],h=c[1];this.handle.includes("b")?(n=w(a.bottom+h,this.bounds.minBottom,this.bounds.maxBottom),this.lockAspectRatio&&this.resizingOnY&&(i=this.right-(this.bottom-n)*r)):this.handle.includes("t")&&(s=w(a.top-h,this.bounds.minTop,this.bounds.maxTop),this.lockAspectRatio&&this.resizingOnY&&(t=this.left-(this.top-s)*r)),this.handle.includes("r")?(i=w(a.right+u,this.bounds.minRight,this.bounds.maxRight),this.lockAspectRatio&&this.resizingOnX&&(n=this.bottom-(this.right-i)/r)):this.handle.includes("l")&&(t=w(a.left-u,this.bounds.minLeft,this.bounds.maxLeft),this.lockAspectRatio&&this.resizingOnX&&(s=this.top-(this.left-t)/r));var d=y(this.parentWidth,t,i),p=$(this.parentHeight,s,n);!1!==this.onResize(this.handle,t,s,d,p)&&(this.left=t,this.top=s,this.right=i,this.bottom=n,this.width=d,this.height=p,this.$emit("resizing",this.left,this.top,this.width,this.height),this.resizing=!0)},changeWidth:function(e){var t=g(b(this.grid,e,0,1),2),s=t[0],i=(t[1],w(this.parentWidth-s-this.left,this.bounds.minRight,this.bounds.maxRight)),n=this.bottom;this.lockAspectRatio&&(n=this.bottom-(this.right-i)/this.aspectFactor);var a=y(this.parentWidth,this.left,i),r=$(this.parentHeight,this.top,n);this.right=i,this.bottom=n,this.width=a,this.height=r},changeHeight:function(e){var t=g(b(this.grid,0,e,1),2),s=(t[0],t[1]),i=w(this.parentHeight-s-this.top,this.bounds.minBottom,this.bounds.maxBottom),n=this.right;this.lockAspectRatio&&(n=this.right-(this.bottom-i)*this.aspectFactor);var a=y(this.parentWidth,this.left,n),r=$(this.parentHeight,this.top,i);this.right=n,this.bottom=i,this.width=a,this.height=r},handleUp:function(e){this.handle=null,this.resetBoundsAndMouseState(),this.dragEnable=!1,this.resizeEnable=!1,this.resizing&&(this.resizing=!1,this.$emit("resizestop",this.left,this.top,this.width,this.height)),this.dragging&&(this.dragging=!1,this.$emit("dragstop",this.left,this.top)),T(document.documentElement,P.move,this.handleResize)}},computed:{style:function(){return O({transform:"translate(".concat(this.left,"px, ").concat(this.top,"px)"),width:this.computedWidth,height:this.computedHeight,zIndex:this.zIndex},this.dragging&&this.disableUserSelect?j:N)},actualHandles:function(){return this.resizable?this.handles:[]},computedWidth:function(){return"auto"!==this.w||this.widthTouched?this.width+"px":"auto"},computedHeight:function(){return"auto"!==this.h||this.heightTouched?this.height+"px":"auto"},resizingOnX:function(){return Boolean(this.handle)&&(this.handle.includes("l")||this.handle.includes("r"))},resizingOnY:function(){return Boolean(this.handle)&&(this.handle.includes("t")||this.handle.includes("b"))},isCornerHandle:function(){return Boolean(this.handle)&&["tl","tr","br","bl"].includes(this.handle)}},watch:{active:function(e){this.enabled=e,e?this.$emit("activated"):this.$emit("deactivated")},z:function(e){(e>=0||"auto"===e)&&(this.zIndex=e)},x:function(e){this.resizing||this.dragging||(this.parent&&(this.bounds=this.calcDragLimits()),this.moveHorizontally(e))},y:function(e){this.resizing||this.dragging||(this.parent&&(this.bounds=this.calcDragLimits()),this.moveVertically(e))},lockAspectRatio:function(e){this.aspectFactor=e?this.width/this.height:void 0},minWidth:function(e){e>0&&e<=this.width&&(this.minW=e)},minHeight:function(e){e>0&&e<=this.height&&(this.minH=e)},maxWidth:function(e){this.maxW=e},maxHeight:function(e){this.maxH=e},w:function(e){this.resizing||this.dragging||(this.parent&&(this.bounds=this.calcResizeLimits()),this.changeWidth(e))},h:function(e){this.resizing||this.dragging||(this.parent&&(this.bounds=this.calcResizeLimits()),this.changeHeight(e))}}};function I(e,t,s,i,n,a,r,o){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=s,c._compiled=!0),i&&(c.functional=!0),a&&(c._scopeId="data-v-"+a),r?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},c._ssrRegister=l):n&&(l=o?function(){n.call(this,this.$root.$options.shadowRoot)}:n),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var h=c.beforeCreate;c.beforeCreate=h?[].concat(h,l):[l]}return{exports:e,options:c}}var R=I(A,i,n,!1,null,null,null);t.a=R.exports},3846:function(e,t,s){s("9e1e")&&"g"!=/./g.flags&&s("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:s("0bfb")})},"38fd":function(e,t,s){var i=s("69a8"),n=s("4bf8"),a=s("613b")("IE_PROTO"),r=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=n(e),i(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?r:null}},"3adc":function(e,t,s){var i=s("0f89"),n=s("a47f"),a=s("2ea1"),r=Object.defineProperty;t.f=s("7d95")?Object.defineProperty:function(e,t,s){if(i(e),t=a(t,!0),i(s),n)try{return r(e,t,s)}catch(e){}if("get"in s||"set"in s)throw TypeError("Accessors not supported!");return"value"in s&&(e[t]=s.value),e}},"3b2b":function(e,t,s){var i=s("7726"),n=s("5dbc"),a=s("86cc").f,r=s("9093").f,o=s("aae3"),l=s("0bfb"),c=i.RegExp,u=c,h=c.prototype,d=/a/g,p=/a/g,m=new c(d)!==d;if(s("9e1e")&&(!m||s("79e5")((function(){return p[s("2b4c")("match")]=!1,c(d)!=d||c(p)==p||"/a/i"!=c(d,"i")})))){c=function(e,t){var s=this instanceof c,i=o(e),a=void 0===t;return!s&&i&&e.constructor===c&&a?e:n(m?new u(i&&!a?e.source:e,t):u((i=e instanceof c)?e.source:e,i&&a?l.call(e):t),s?this:h,c)};for(var f=function(e){e in c||a(c,e,{configurable:!0,get:function(){return u[e]},set:function(t){u[e]=t}})},v=r(u),g=0;v.length>g;)f(v[g++]);h.constructor=c,c.prototype=h,s("2aba")(i,"RegExp",c)}s("7a56")("RegExp")},"41a0":function(e,t,s){"use strict";var i=s("2aeb"),n=s("4630"),a=s("7f20"),r={};s("32e9")(r,s("2b4c")("iterator"),(function(){return this})),e.exports=function(e,t,s){e.prototype=i(r,{next:n(1,s)}),a(e,t+" Iterator")}},"43c8":function(e,t){var s={}.hasOwnProperty;e.exports=function(e,t){return s.call(e,t)}},"456d":function(e,t,s){var i=s("4bf8"),n=s("0d58");s("5eda")("keys",(function(){return function(e){return n(i(e))}}))},4588:function(e,t){var s=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:s)(e)}},4630:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"4a59":function(e,t,s){var i=s("9b43"),n=s("1fa8"),a=s("33a4"),r=s("cb7c"),o=s("9def"),l=s("27ee"),c={},u={};t=e.exports=function(e,t,s,h,d){var p,m,f,v,g=d?function(){return e}:l(e),_=i(s,h,t?2:1),b=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(a(g)){for(p=o(e.length);p>b;b++)if((v=t?_(r(m=e[b])[0],m[1]):_(e[b]))===c||v===u)return v}else for(f=g.call(e);!(m=f.next()).done;)if((v=n(f,_,m.value,t))===c||v===u)return v},t.BREAK=c,t.RETURN=u},"4bf8":function(e,t,s){var i=s("be13");e.exports=function(e){return Object(i(e))}},"4f7f":function(e,t,s){"use strict";var i=s("c26b"),n=s("b39a"),a="Set";e.exports=s("e0b8")(a,(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return i.def(n(this,a),e=0===e?0:e,e)}},i)},5147:function(e,t,s){var i=s("2b4c")("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(s){try{return t[i]=!1,!"/./"[e](t)}catch(e){}}return!0}},"52a7":function(e,t){t.f={}.propertyIsEnumerable},5537:function(e,t,s){var i=s("8378"),n=s("7726"),a="__core-js_shared__",r=n[a]||(n[a]={});(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:i.version,mode:s("2d00")?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},"58b2":function(e,t,s){var i=s("5ca1");i(i.S+i.F*!s("9e1e"),"Object",{defineProperties:s("1495")})},"5ca1":function(e,t,s){var i=s("7726"),n=s("8378"),a=s("32e9"),r=s("2aba"),o=s("9b43"),l="prototype",c=function(e,t,s){var u,h,d,p,m=e&c.F,f=e&c.G,v=e&c.S,g=e&c.P,_=e&c.B,b=f?i:v?i[t]||(i[t]={}):(i[t]||{})[l],y=f?n:n[t]||(n[t]={}),$=y[l]||(y[l]={});for(u in f&&(s=t),s)d=((h=!m&&b&&void 0!==b[u])?b:s)[u],p=_&&h?o(d,i):g&&"function"==typeof d?o(Function.call,d):d,b&&r(b,u,d,e&c.U),y[u]!=d&&a(y,u,p),g&&$[u]!=d&&($[u]=d)};i.core=n,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},"5cc5":function(e,t,s){var i=s("2b4c")("iterator"),n=!1;try{var a=[7][i]();a.return=function(){n=!0},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!n)return!1;var s=!1;try{var a=[7],r=a[i]();r.next=function(){return{done:s=!0}},a[i]=function(){return r},e(a)}catch(e){}return s}},"5ce7":function(e,t,s){"use strict";var i=s("7108"),n=s("f845"),a=s("c0d8"),r={};s("8ce0")(r,s("1b55")("iterator"),(function(){return this})),e.exports=function(e,t,s){e.prototype=i(r,{next:n(1,s)}),a(e,t+" Iterator")}},"5d73":function(e,t,s){e.exports=s("0a91")},"5d8f":function(e,t,s){var i=s("7772")("keys"),n=s("7b00");e.exports=function(e){return i[e]||(i[e]=n(e))}},"5dbc":function(e,t,s){var i=s("d3f4"),n=s("8b97").set;e.exports=function(e,t,s){var a,r=t.constructor;return r!==s&&"function"==typeof r&&(a=r.prototype)!==s.prototype&&i(a)&&n&&n(e,a),e}},"5df3":function(e,t,s){"use strict";var i=s("02f4")(!0);s("01f9")(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,s=this._i;return s>=t.length?{value:void 0,done:!0}:(e=i(t,s),this._i+=e.length,{value:e,done:!1})}))},"5eda":function(e,t,s){var i=s("5ca1"),n=s("8378"),a=s("79e5");e.exports=function(e,t){var s=(n.Object||{})[e]||Object[e],r={};r[e]=t(s),i(i.S+i.F*a((function(){s(1)})),"Object",r)}},"613b":function(e,t,s){var i=s("5537")("keys"),n=s("ca5a");e.exports=function(e){return i[e]||(i[e]=n(e))}},"626a":function(e,t,s){var i=s("2d95");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},6762:function(e,t,s){"use strict";var i=s("5ca1"),n=s("c366")(!0);i(i.P,"Array",{includes:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),s("9c6c")("includes")},"67ab":function(e,t,s){var i=s("ca5a")("meta"),n=s("d3f4"),a=s("69a8"),r=s("86cc").f,o=0,l=Object.isExtensible||function(){return!0},c=!s("79e5")((function(){return l(Object.preventExtensions({}))})),u=function(e){r(e,i,{value:{i:"O"+ ++o,w:{}}})},h=function(e,t){if(!n(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,i)){if(!l(e))return"F";if(!t)return"E";u(e)}return e[i].i},d=function(e,t){if(!a(e,i)){if(!l(e))return!0;if(!t)return!1;u(e)}return e[i].w},p=function(e){return c&&m.NEED&&l(e)&&!a(e,i)&&u(e),e},m=e.exports={KEY:i,NEED:!1,fastKey:h,getWeak:d,onFreeze:p}},6821:function(e,t,s){var i=s("626a"),n=s("be13");e.exports=function(e){return i(n(e))}},"69a8":function(e,t){var s={}.hasOwnProperty;e.exports=function(e,t){return s.call(e,t)}},"6a99":function(e,t,s){var i=s("d3f4");e.exports=function(e,t){if(!i(e))return e;var s,n;if(t&&"function"==typeof(s=e.toString)&&!i(n=s.call(e)))return n;if("function"==typeof(s=e.valueOf)&&!i(n=s.call(e)))return n;if(!t&&"function"==typeof(s=e.toString)&&!i(n=s.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},"6a9b":function(e,t,s){var i=s("8bab"),n=s("e5fa");e.exports=function(e){return i(n(e))}},"6b54":function(e,t,s){"use strict";s("3846");var i=s("cb7c"),n=s("0bfb"),a=s("9e1e"),r="toString",o=/./[r],l=function(e){s("2aba")(RegExp.prototype,r,e,!0)};s("79e5")((function(){return"/a/b"!=o.call({source:"a",flags:"b"})}))?l((function(){var e=i(this);return"/".concat(e.source,"/","flags"in e?e.flags:!a&&e instanceof RegExp?n.call(e):void 0)})):o.name!=r&&l((function(){return o.call(this)}))},"6e1f":function(e,t){var s={}.toString;e.exports=function(e){return s.call(e).slice(8,-1)}},"6f42":function(e,t,s){},"6f8a":function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},7108:function(e,t,s){var i=s("0f89"),n=s("f568"),a=s("0029"),r=s("5d8f")("IE_PROTO"),o=function(){},l="prototype",c=function(){var e,t=s("12fd")("iframe"),i=a.length,n="<",r=">";for(t.style.display="none",s("103a").appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write(n+"script"+r+"document.F=Object"+n+"/script"+r),e.close(),c=e.F;i--;)delete c[l][a[i]];return c()};e.exports=Object.create||function(e,t){var s;return null!==e?(o[l]=i(e),s=new o,o[l]=null,s[r]=e):s=c(),void 0===t?s:n(s,t)}},7514:function(e,t,s){"use strict";var i=s("5ca1"),n=s("0a49")(5),a="find",r=!0;a in[]&&Array(1)[a]((function(){r=!1})),i(i.P+i.F*r,"Array",{find:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),s("9c6c")(a)},7633:function(e,t,s){var i=s("2695"),n=s("0029");e.exports=Object.keys||function(e){return i(e,n)}},7726:function(e,t){var s=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=s)},7772:function(e,t,s){var i=s("a7d3"),n=s("da3c"),a="__core-js_shared__",r=n[a]||(n[a]={});(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:i.version,mode:s("b457")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},"77f1":function(e,t,s){var i=s("4588"),n=Math.max,a=Math.min;e.exports=function(e,t){return(e=i(e))<0?n(e+t,0):a(e,t)}},"79e5":function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},"7a56":function(e,t,s){"use strict";var i=s("7726"),n=s("86cc"),a=s("9e1e"),r=s("2b4c")("species");e.exports=function(e){var t=i[e];a&&t&&!t[r]&&n.f(t,r,{configurable:!0,get:function(){return this}})}},"7b00":function(e,t){var s=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++s+i).toString(36))}},"7d8a":function(e,t,s){var i=s("6e1f"),n=s("1b55")("toStringTag"),a="Arguments"==i(function(){return arguments}()),r=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,s,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(s=r(t=Object(e),n))?s:a?i(t):"Object"==(o=i(t))&&"function"==typeof t.callee?"Arguments":o}},"7d95":function(e,t,s){e.exports=!s("d782")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},"7f20":function(e,t,s){var i=s("86cc").f,n=s("69a8"),a=s("2b4c")("toStringTag");e.exports=function(e,t,s){e&&!n(e=s?e:e.prototype,a)&&i(e,a,{configurable:!0,value:t})}},8378:function(e,t){var s=e.exports={version:"2.6.1"};"number"==typeof __e&&(__e=s)},"84f2":function(e,t){e.exports={}},"85f2":function(e,t,s){e.exports=s("ec5b")},"86cc":function(e,t,s){var i=s("cb7c"),n=s("c69a"),a=s("6a99"),r=Object.defineProperty;t.f=s("9e1e")?Object.defineProperty:function(e,t,s){if(i(e),t=a(t,!0),i(s),n)try{return r(e,t,s)}catch(e){}if("get"in s||"set"in s)throw TypeError("Accessors not supported!");return"value"in s&&(e[t]=s.value),e}},"87b3":function(e,t,s){var i=Date.prototype,n="Invalid Date",a="toString",r=i[a],o=i.getTime;new Date(NaN)+""!=n&&s("2aba")(i,a,(function(){var e=o.call(this);return e==e?r.call(this):n}))},8875:function(e,t,s){var i,n,a,r;"undefined"!=typeof self&&self,r=function(){function e(){if(document.currentScript)return document.currentScript;try{throw new Error}catch(u){var e,t,s,i=/@([^@]*):(\d+):(\d+)\s*$/gi,n=/.*at [^(]*\((.*):(.+):(.+)\)$/gi.exec(u.stack)||i.exec(u.stack),a=n&&n[1]||!1,r=n&&n[2]||!1,o=document.location.href.replace(document.location.hash,""),l=document.getElementsByTagName("script");a===o&&(e=document.documentElement.outerHTML,t=new RegExp("(?:[^\\n]+?\\n){0,"+(r-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),s=e.replace(t,"$1").trim());for(var c=0;c<l.length;c++){if("interactive"===l[c].readyState)return l[c];if(l[c].src===a)return l[c];if(a===o&&l[c].innerHTML&&l[c].innerHTML.trim()===s)return l[c]}return null}}return e},n=[],void 0===(a="function"==typeof(i=r)?i.apply(t,n):i)||(e.exports=a)},"89ca":function(e,t,s){s("b42c"),s("93c4"),e.exports=s("d38f")},"8b97":function(e,t,s){var i=s("d3f4"),n=s("cb7c"),a=function(e,t){if(n(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,i){try{(i=s("9b43")(Function.call,s("11e9").f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,s){return a(e,s),t?e.__proto__=s:i(e,s),e}}({},!1):void 0),check:a}},"8bab":function(e,t,s){var i=s("6e1f");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},"8ce0":function(e,t,s){var i=s("3adc"),n=s("f845");e.exports=s("7d95")?function(e,t,s){return i.f(e,t,n(1,s))}:function(e,t,s){return e[t]=s,e}},"8e6e":function(e,t,s){var i=s("5ca1"),n=s("990b"),a=s("6821"),r=s("11e9"),o=s("f1ae");i(i.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,s,i=a(e),l=r.f,c=n(i),u={},h=0;c.length>h;)void 0!==(s=l(i,t=c[h++]))&&o(u,t,s);return u}})},9093:function(e,t,s){var i=s("ce10"),n=s("e11e").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,n)}},"93c4":function(e,t,s){"use strict";var i=s("2a4e")(!0);s("e4a9")(String,"String",(function(e){this._t=String(e),this._i=0}),(function(){var e,t=this._t,s=this._i;return s>=t.length?{value:void 0,done:!0}:(e=i(t,s),this._i+=e.length,{value:e,done:!1})}))},"990b":function(e,t,s){var i=s("9093"),n=s("2621"),a=s("cb7c"),r=s("7726").Reflect;e.exports=r&&r.ownKeys||function(e){var t=i.f(a(e)),s=n.f;return s?t.concat(s(e)):t}},"9b43":function(e,t,s){var i=s("d8e8");e.exports=function(e,t,s){if(i(e),void 0===t)return e;switch(s){case 1:return function(s){return e.call(t,s)};case 2:return function(s,i){return e.call(t,s,i)};case 3:return function(s,i,n){return e.call(t,s,i,n)}}return function(){return e.apply(t,arguments)}}},"9c6c":function(e,t,s){var i=s("2b4c")("unscopables"),n=Array.prototype;null==n[i]&&s("32e9")(n,i,{}),e.exports=function(e){n[i][e]=!0}},"9def":function(e,t,s){var i=s("4588"),n=Math.min;e.exports=function(e){return e>0?n(i(e),9007199254740991):0}},"9e1e":function(e,t,s){e.exports=!s("79e5")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},a47f:function(e,t,s){e.exports=!s("7d95")&&!s("d782")((function(){return 7!=Object.defineProperty(s("12fd")("div"),"a",{get:function(){return 7}}).a}))},a5ab:function(e,t,s){var i=s("a812"),n=Math.min;e.exports=function(e){return e>0?n(i(e),9007199254740991):0}},a745:function(e,t,s){e.exports=s("d604")},a7d3:function(e,t){var s=e.exports={version:"2.6.9"};"number"==typeof __e&&(__e=s)},a812:function(e,t){var s=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:s)(e)}},aa77:function(e,t,s){var i=s("5ca1"),n=s("be13"),a=s("79e5"),r=s("fdef"),o="["+r+"]",l="​",c=RegExp("^"+o+o+"*"),u=RegExp(o+o+"*$"),h=function(e,t,s){var n={},o=a((function(){return!!r[e]()||l[e]()!=l})),c=n[e]=o?t(d):r[e];s&&(n[s]=c),i(i.P+i.F*o,"String",n)},d=h.trim=function(e,t){return e=String(n(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(u,"")),e};e.exports=h},aae3:function(e,t,s){var i=s("d3f4"),n=s("2d95"),a=s("2b4c")("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==n(e))}},ac6a:function(e,t,s){for(var i=s("cadf"),n=s("0d58"),a=s("2aba"),r=s("7726"),o=s("32e9"),l=s("84f2"),c=s("2b4c"),u=c("iterator"),h=c("toStringTag"),d=l.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},m=n(p),f=0;f<m.length;f++){var v,g=m[f],_=p[g],b=r[g],y=b&&b.prototype;if(y&&(y[u]||o(y,u,d),y[h]||o(y,h,g),l[g]=d,_))for(v in i)y[v]||a(y,v,i[v],!0)}},b22a:function(e,t){e.exports={}},b39a:function(e,t,s){var i=s("d3f4");e.exports=function(e,t){if(!i(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},b3e7:function(e,t){e.exports=function(){}},b42c:function(e,t,s){s("fa54");for(var i=s("da3c"),n=s("8ce0"),a=s("b22a"),r=s("1b55")("toStringTag"),o="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),l=0;l<o.length;l++){var c=o[l],u=i[c],h=u&&u.prototype;h&&!h[r]&&n(h,r,c),a[c]=a.Array}},b457:function(e,t){e.exports=!0},b5aa:function(e,t,s){var i=s("6e1f");e.exports=Array.isArray||function(e){return"Array"==i(e)}},b635:function(e,t,s){"use strict";(function(e){s.d(t,"b",(function(){return n})),s("6f42");var i=s("3425");function n(e){n.installed||(n.installed=!0,e.component("VueDraggableResizable",i.a))}var a={install:n},r=null;"undefined"!=typeof window?r=window.Vue:void 0!==e&&(r=e.Vue),r&&r.use(a),t.a=i.a}).call(this,s("c8ba"))},b77f:function(e,t,s){var i=s("0f89"),n=s("f159");e.exports=s("a7d3").getIterator=function(e){var t=n(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return i(t.call(e))}},bc25:function(e,t,s){var i=s("f2fe");e.exports=function(e,t,s){if(i(e),void 0===t)return e;switch(s){case 1:return function(s){return e.call(t,s)};case 2:return function(s,i){return e.call(t,s,i)};case 3:return function(s,i,n){return e.call(t,s,i,n)}}return function(){return e.apply(t,arguments)}}},be13:function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},c0d8:function(e,t,s){var i=s("3adc").f,n=s("43c8"),a=s("1b55")("toStringTag");e.exports=function(e,t,s){e&&!n(e=s?e:e.prototype,a)&&i(e,a,{configurable:!0,value:t})}},c26b:function(e,t,s){"use strict";var i=s("86cc").f,n=s("2aeb"),a=s("dcbc"),r=s("9b43"),o=s("f605"),l=s("4a59"),c=s("01f9"),u=s("d53b"),h=s("7a56"),d=s("9e1e"),p=s("67ab").fastKey,m=s("b39a"),f=d?"_s":"size",v=function(e,t){var s,i=p(t);if("F"!==i)return e._i[i];for(s=e._f;s;s=s.n)if(s.k==t)return s};e.exports={getConstructor:function(e,t,s,c){var u=e((function(e,i){o(e,u,t,"_i"),e._t=t,e._i=n(null),e._f=void 0,e._l=void 0,e[f]=0,null!=i&&l(i,s,e[c],e)}));return a(u.prototype,{clear:function(){for(var e=m(this,t),s=e._i,i=e._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete s[i.i];e._f=e._l=void 0,e[f]=0},delete:function(e){var s=m(this,t),i=v(s,e);if(i){var n=i.n,a=i.p;delete s._i[i.i],i.r=!0,a&&(a.n=n),n&&(n.p=a),s._f==i&&(s._f=n),s._l==i&&(s._l=a),s[f]--}return!!i},forEach:function(e){m(this,t);for(var s,i=r(e,arguments.length>1?arguments[1]:void 0,3);s=s?s.n:this._f;)for(i(s.v,s.k,this);s&&s.r;)s=s.p},has:function(e){return!!v(m(this,t),e)}}),d&&i(u.prototype,"size",{get:function(){return m(this,t)[f]}}),u},def:function(e,t,s){var i,n,a=v(e,t);return a?a.v=s:(e._l=a={i:n=p(t,!0),k:t,v:s,p:i=e._l,n:void 0,r:!1},e._f||(e._f=a),i&&(i.n=a),e[f]++,"F"!==n&&(e._i[n]=a)),e},getEntry:v,setStrong:function(e,t,s){c(e,t,(function(e,s){this._t=m(e,t),this._k=s,this._l=void 0}),(function(){for(var e=this,t=e._k,s=e._l;s&&s.r;)s=s.p;return e._t&&(e._l=s=s?s.n:e._t._f)?u(0,"keys"==t?s.k:"values"==t?s.v:[s.k,s.v]):(e._t=void 0,u(1))}),s?"entries":"values",!s,!0),h(t)}}},c366:function(e,t,s){var i=s("6821"),n=s("9def"),a=s("77f1");e.exports=function(e){return function(t,s,r){var o,l=i(t),c=n(l.length),u=a(r,c);if(e&&s!=s){for(;c>u;)if((o=l[u++])!=o)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===s)return e||u||0;return!e&&-1}}},c5f6:function(e,t,s){"use strict";var i=s("7726"),n=s("69a8"),a=s("2d95"),r=s("5dbc"),o=s("6a99"),l=s("79e5"),c=s("9093").f,u=s("11e9").f,h=s("86cc").f,d=s("aa77").trim,p="Number",m=i[p],f=m,v=m.prototype,g=a(s("2aeb")(v))==p,_="trim"in String.prototype,b=function(e){var t=o(e,!1);if("string"==typeof t&&t.length>2){var s,i,n,a=(t=_?t.trim():d(t,3)).charCodeAt(0);if(43===a||45===a){if(88===(s=t.charCodeAt(2))||120===s)return NaN}else if(48===a){switch(t.charCodeAt(1)){case 66:case 98:i=2,n=49;break;case 79:case 111:i=8,n=55;break;default:return+t}for(var r,l=t.slice(2),c=0,u=l.length;c<u;c++)if((r=l.charCodeAt(c))<48||r>n)return NaN;return parseInt(l,i)}}return+t};if(!m(" 0o1")||!m("0b1")||m("+0x1")){m=function(e){var t=arguments.length<1?0:e,s=this;return s instanceof m&&(g?l((function(){v.valueOf.call(s)})):a(s)!=p)?r(new f(b(t)),s,m):b(t)};for(var y,$=s("9e1e")?c(f):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;$.length>w;w++)n(f,y=$[w])&&!n(m,y)&&h(m,y,u(f,y));m.prototype=v,v.constructor=m,s("2aba")(i,p,m)}},c69a:function(e,t,s){e.exports=!s("9e1e")&&!s("79e5")((function(){return 7!=Object.defineProperty(s("230e")("div"),"a",{get:function(){return 7}}).a}))},c8ba:function(e,t){var s;s=function(){return this}();try{s=s||new Function("return this")()}catch(e){"object"==typeof window&&(s=window)}e.exports=s},c8bb:function(e,t,s){e.exports=s("89ca")},ca5a:function(e,t){var s=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++s+i).toString(36))}},cadf:function(e,t,s){"use strict";var i=s("9c6c"),n=s("d53b"),a=s("84f2"),r=s("6821");e.exports=s("01f9")(Array,"Array",(function(e,t){this._t=r(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,s=this._i++;return!e||s>=e.length?(this._t=void 0,n(1)):n(0,"keys"==t?s:"values"==t?e[s]:[s,e[s]])}),"values"),a.Arguments=a.Array,i("keys"),i("values"),i("entries")},cb7c:function(e,t,s){var i=s("d3f4");e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},cd1c:function(e,t,s){var i=s("e853");e.exports=function(e,t){return new(i(e))(t)}},ce10:function(e,t,s){var i=s("69a8"),n=s("6821"),a=s("c366")(!1),r=s("613b")("IE_PROTO");e.exports=function(e,t){var s,o=n(e),l=0,c=[];for(s in o)s!=r&&i(o,s)&&c.push(s);for(;t.length>l;)i(o,s=t[l++])&&(~a(c,s)||c.push(s));return c}},d13f:function(e,t,s){var i=s("da3c"),n=s("a7d3"),a=s("bc25"),r=s("8ce0"),o=s("43c8"),l="prototype",c=function(e,t,s){var u,h,d,p=e&c.F,m=e&c.G,f=e&c.S,v=e&c.P,g=e&c.B,_=e&c.W,b=m?n:n[t]||(n[t]={}),y=b[l],$=m?i:f?i[t]:(i[t]||{})[l];for(u in m&&(s=t),s)(h=!p&&$&&void 0!==$[u])&&o(b,u)||(d=h?$[u]:s[u],b[u]=m&&"function"!=typeof $[u]?s[u]:g&&h?a(d,i):_&&$[u]==d?function(e){var t=function(t,s,i){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,s)}return new e(t,s,i)}return e.apply(this,arguments)};return t[l]=e[l],t}(d):v&&"function"==typeof d?a(Function.call,d):d,v&&((b.virtual||(b.virtual={}))[u]=d,e&c.R&&y&&!y[u]&&r(y,u,d)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},d25f:function(e,t,s){"use strict";var i=s("5ca1"),n=s("0a49")(2);i(i.P+i.F*!s("2f21")([].filter,!0),"Array",{filter:function(e){return n(this,e,arguments[1])}})},d2c8:function(e,t,s){var i=s("aae3"),n=s("be13");e.exports=function(e,t,s){if(i(t))throw TypeError("String#"+s+" doesn't accept regex!");return String(n(e))}},d38f:function(e,t,s){var i=s("7d8a"),n=s("1b55")("iterator"),a=s("b22a");e.exports=s("a7d3").isIterable=function(e){var t=Object(e);return void 0!==t[n]||"@@iterator"in t||a.hasOwnProperty(i(t))}},d3f4:function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},d53b:function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},d604:function(e,t,s){s("1938"),e.exports=s("a7d3").Array.isArray},d782:function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},d8e8:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},da3c:function(e,t){var s=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=s)},dcbc:function(e,t,s){var i=s("2aba");e.exports=function(e,t,s){for(var n in t)i(e,n,t[n],s);return e}},e0b8:function(e,t,s){"use strict";var i=s("7726"),n=s("5ca1"),a=s("2aba"),r=s("dcbc"),o=s("67ab"),l=s("4a59"),c=s("f605"),u=s("d3f4"),h=s("79e5"),d=s("5cc5"),p=s("7f20"),m=s("5dbc");e.exports=function(e,t,s,f,v,g){var _=i[e],b=_,y=v?"set":"add",$=b&&b.prototype,w={},k=function(e){var t=$[e];a($,e,"delete"==e||"has"==e?function(e){return!(g&&!u(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return g&&!u(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,s){return t.call(this,0===e?0:e,s),this})};if("function"==typeof b&&(g||$.forEach&&!h((function(){(new b).entries().next()})))){var C=new b,x=C[y](g?{}:-0,1)!=C,T=h((function(){C.has(1)})),S=d((function(e){new b(e)})),O=!g&&h((function(){for(var e=new b,t=5;t--;)e[y](t,t);return!e.has(-0)}));S||(b=t((function(t,s){c(t,b,e);var i=m(new _,t,b);return null!=s&&l(s,v,i[y],i),i})),b.prototype=$,$.constructor=b),(T||O)&&(k("delete"),k("has"),v&&k("get")),(O||x)&&k(y),g&&$.clear&&delete $.clear}else b=f.getConstructor(t,e,v,y),r(b.prototype,s),o.NEED=!0;return p(b,e),w[e]=b,n(n.G+n.W+n.F*(b!=_),w),g||f.setStrong(b,e,v),b}},e11e:function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},e341:function(e,t,s){var i=s("d13f");i(i.S+i.F*!s("7d95"),"Object",{defineProperty:s("3adc").f})},e4a9:function(e,t,s){"use strict";var i=s("b457"),n=s("d13f"),a=s("2312"),r=s("8ce0"),o=s("b22a"),l=s("5ce7"),c=s("c0d8"),u=s("ff0c"),h=s("1b55")("iterator"),d=!([].keys&&"next"in[].keys()),p="@@iterator",m="keys",f="values",v=function(){return this};e.exports=function(e,t,s,g,_,b,y){l(s,t,g);var $,w,k,C=function(e){if(!d&&e in O)return O[e];switch(e){case m:case f:return function(){return new s(this,e)}}return function(){return new s(this,e)}},x=t+" Iterator",T=_==f,S=!1,O=e.prototype,E=O[h]||O[p]||_&&O[_],j=E||C(_),N=_?T?C("entries"):j:void 0,P="Array"==t&&O.entries||E;if(P&&(k=u(P.call(new e)))!==Object.prototype&&k.next&&(c(k,x,!0),i||"function"==typeof k[h]||r(k,h,v)),T&&E&&E.name!==f&&(S=!0,j=function(){return E.call(this)}),i&&!y||!d&&!S&&O[h]||r(O,h,j),o[t]=j,o[x]=v,_)if($={values:T?j:C(f),keys:b?j:C(m),entries:N},y)for(w in $)w in O||a(O,w,$[w]);else n(n.P+n.F*(d||S),t,$);return $}},e5fa:function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},e853:function(e,t,s){var i=s("d3f4"),n=s("1169"),a=s("2b4c")("species");e.exports=function(e){var t;return n(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!n(t.prototype)||(t=void 0),i(t)&&null===(t=t[a])&&(t=void 0)),void 0===t?Array:t}},ec5b:function(e,t,s){s("e341");var i=s("a7d3").Object;e.exports=function(e,t,s){return i.defineProperty(e,t,s)}},f159:function(e,t,s){var i=s("7d8a"),n=s("1b55")("iterator"),a=s("b22a");e.exports=s("a7d3").getIteratorMethod=function(e){if(null!=e)return e[n]||e["@@iterator"]||a[i(e)]}},f1ae:function(e,t,s){"use strict";var i=s("86cc"),n=s("4630");e.exports=function(e,t,s){t in e?i.f(e,t,n(0,s)):e[t]=s}},f2fe:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},f3e2:function(e,t,s){"use strict";var i=s("5ca1"),n=s("0a49")(0),a=s("2f21")([].forEach,!0);i(i.P+i.F*!a,"Array",{forEach:function(e){return n(this,e,arguments[1])}})},f568:function(e,t,s){var i=s("3adc"),n=s("0f89"),a=s("7633");e.exports=s("7d95")?Object.defineProperties:function(e,t){n(e);for(var s,r=a(t),o=r.length,l=0;o>l;)i.f(e,s=r[l++],t[s]);return e}},f605:function(e,t){e.exports=function(e,t,s,i){if(!(e instanceof t)||void 0!==i&&i in e)throw TypeError(s+": incorrect invocation!");return e}},f845:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},fa54:function(e,t,s){"use strict";var i=s("b3e7"),n=s("245b"),a=s("b22a"),r=s("6a9b");e.exports=s("e4a9")(Array,"Array",(function(e,t){this._t=r(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,s=this._i++;return!e||s>=e.length?(this._t=void 0,n(1)):n(0,"keys"==t?s:"values"==t?e[s]:[s,e[s]])}),"values"),a.Arguments=a.Array,i("keys"),i("values"),i("entries")},fab2:function(e,t,s){var i=s("7726").document;e.exports=i&&i.documentElement},fb15:function(e,t,s){"use strict";if(s.r(t),s.d(t,"install",(function(){return r.b})),"undefined"!=typeof window){var i=window.document.currentScript,n=s("8875");i=n(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:n});var a=i&&i.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);a&&(s.p=a[1])}var r=s("b635");t.default=r.a},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},ff0c:function(e,t,s){var i=s("43c8"),n=s("0185"),a=s("5d8f")("IE_PROTO"),r=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=n(e),i(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?r:null}}}).default},724:e=>{const t=["#0c0c0c","#c50f1f","#13a10e","#c19c00","#0037da","#881798","#3a96dd","#cccccc","#767676","#e74856","#16c60c","#f9f1a5","#3b78ff","#b4009e","#61d6d6","#f2f2f2"],s=["00","5f","87","af","d7","ff"];for(let e=16;e<232;e++)t.push((e-16).toString(6).padStart(3,"0").split("").reduce(((e,t)=>e+s[t]),"#"));t.push("#080808","#121212","#1c1c1c","#262626","#303030","#3a3a3a","#444444","#4e4e4e","#585858","#626262","#6c6c6c","#767676","#808080","#8a8a8a","#949494","#9e9e9e","#a8a8a8","#b2b2b2","#bcbcbc","#c6c6c6","#d0d0d0","#dadada","#e4e4e4","#eeeeee");const i=new Map([["0",""],["1","font-weight: bold;"],["2","opacity:0.5;"],["3","font-style: italic;"],["4","text-decoration-line: underline;"],["5",""],["7","color: #0c0c0c; background-color: #767676"],["8","display: none;"],["9","text-decoration-line: line-through;"],["30",`color: ${t[0]};`],["90",`color: ${t[8]};`],["31",`color: ${t[1]};`],["91",`color: ${t[9]};`],["32",`color: ${t[2]};`],["92",`color: ${t[10]};`],["33",`color: ${t[3]};`],["93",`color: ${t[11]};`],["34",`color: ${t[4]};`],["94",`color: ${t[12]};`],["35",`color: ${t[5]};`],["95",`color: ${t[13]};`],["36",`color: ${t[6]};`],["96",`color: ${t[14]};`],["37",`color: ${t[7]};`],["97",`color: ${t[15]};`],["40",`background-color: ${t[0]};`],["100",`background-color: ${t[8]};`],["41",`background-color: ${t[1]};`],["101",`background-color: ${t[9]};`],["42",`background-color: ${t[2]};`],["102",`background-color: ${t[10]};`],["43",`background-color: ${t[3]};`],["103",`background-color: ${t[11]};`],["44",`background-color: ${t[4]};`],["104",`background-color: ${t[12]};`],["45",`background-color: ${t[5]};`],["105",`background-color: ${t[13]};`],["46",`background-color: ${t[6]};`],["106",`background-color: ${t[14]};`],["47",`background-color: ${t[7]};`],["107",`background-color: ${t[15]};`]]),n=new Set(["","21","22","23","24","25","27","28","29","39","49"]);e.exports={ansiHtml:function(e){if(!/(?:(?:\u001b\[)|\u009b)(?:(?:[0-9]{1,3})?(?:(?:;[0-9]{0,3})*)?[A-M|f-m])|\u001b[A-M]/.test(e))return e;let s=0,a=e.replace(/\033\[([\d;]*)([A-M|f-m])/g,((e,a,r)=>{if("m"!==r)return"";if("0"===a){if(s>0){let e="</span>".repeat(s);return s=0,e}return""}return n.has(a)?s>0?(s--,"</span>"):"":(s++,i.has(a)?`<span style="${i.get(a)}">`:`<span style="${function(e=""){if(!e)return"";let s=e.split(";"),n="";for(let e=0;e<s.length;e++){let a=s[e];i.has(a)?n+=i.get(a):"38"!==a?"48"!==a||("5"===s[e+1]&&s[e+2]?(n+=`background-color: ${t[Number(s[e+2])]};`,e+=2):"2"===s[e+1]&&s[e+2]&&s[e+3]&&s[e+4]&&(n+=`background-color: rgb(${Number(s[e+2])}, ${Number(s[e+3])}, ${Number(s[e+4])});`,e+=4)):"5"===s[e+1]&&s[e+2]?(n+=`color: ${t[Number(s[e+2])]};`,e+=2):"2"===s[e+1]&&s[e+2]&&s[e+3]&&s[e+4]&&(n+=`color: rgb(${Number(s[e+2])}, ${Number(s[e+3])}, ${Number(s[e+4])});`,e+=4)}return n}(a)}">`)}));return s>0&&(a+="</span>".repeat(s)),a}}}},t={};function s(i){var n=t[i];if(void 0!==n)return n.exports;var a=t[i]={exports:{}};return e[i].call(a.exports,a,a.exports,s),a.exports}s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;s.g.importScripts&&(e=s.g.location+"");var t=s.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var i=t.getElementsByTagName("script");if(i.length)for(var n=i.length-1;n>-1&&(!e||!/^http(s?):/.test(e));)e=i[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=e})(),(()=>{"use strict";var e={};s.r(e),s.d(e,{UUID:()=>Da,bEmpty:()=>Aa,bufferToHex:()=>qa,ebufDecrypt:()=>Za,ebufEncrypt:()=>Xa,escapeHtml:()=>za,euid:()=>Ra,hDays:()=>Ua,hexToBuffer:()=>Ja,iRandom:()=>Fa,kSize:()=>Qa,logHead:()=>Ba,logHtml:()=>Va,randomColor:()=>Ya,sBool:()=>Pa,sJson:()=>ja,sString:()=>Na,sTime:()=>Ha,sType:()=>Ea,sUrl:()=>Ia,strToHex:()=>Wa,surlName:()=>Ga});var t={};s.r(t),s.d(t,{copy:()=>Wr,copyToClipboard:()=>Yr,downloadFile:()=>zr,evalRun:()=>no,focusOn:()=>Mr,getCursorPos:()=>Ir,getFile:()=>Xr,getTitle:()=>ao,getUA:()=>Zr,hashToLogo:()=>so,injectCss:()=>Gr,injectJs:()=>Vr,injectMeta:()=>Kr,insertText:()=>eo,isPwa:()=>qr,open:()=>Ar,qs:()=>lo,removeItem:()=>Jr,saveAsFile:()=>Br,scrollBottom:()=>Hr,scrollView:()=>Ur,setTitle:()=>ro,store:()=>Lr,vue2Proto:()=>co,wsOffline:()=>oo});var i={};s.r(i),s.d(i,{hasBrowserEnv:()=>nc,hasStandardBrowserEnv:()=>rc,hasStandardBrowserWebWorkerEnv:()=>oc,navigator:()=>ac,origin:()=>lc});
/*!
 * Vue.js v2.7.16
 * (c) 2014-2023 Evan You
 * Released under the MIT License.
 */
var n=Object.freeze({}),a=Array.isArray;function r(e){return null==e}function o(e){return null!=e}function l(e){return!0===e}function c(e){return"string"==typeof e||"number"==typeof e||"symbol"==typeof e||"boolean"==typeof e}function u(e){return"function"==typeof e}function h(e){return null!==e&&"object"==typeof e}var d=Object.prototype.toString;function p(e){return"[object Object]"===d.call(e)}function m(e){return"[object RegExp]"===d.call(e)}function f(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function v(e){return o(e)&&"function"==typeof e.then&&"function"==typeof e.catch}function g(e){return null==e?"":Array.isArray(e)||p(e)&&e.toString===d?JSON.stringify(e,_,2):String(e)}function _(e,t){return t&&t.__v_isRef?t.value:t}function b(e){var t=parseFloat(e);return isNaN(t)?e:t}function y(e,t){for(var s=Object.create(null),i=e.split(","),n=0;n<i.length;n++)s[i[n]]=!0;return t?function(e){return s[e.toLowerCase()]}:function(e){return s[e]}}y("slot,component",!0);var $=y("key,ref,slot,slot-scope,is");function w(e,t){var s=e.length;if(s){if(t===e[s-1])return void(e.length=s-1);var i=e.indexOf(t);if(i>-1)return e.splice(i,1)}}var k=Object.prototype.hasOwnProperty;function C(e,t){return k.call(e,t)}function x(e){var t=Object.create(null);return function(s){return t[s]||(t[s]=e(s))}}var T=/-(\w)/g,S=x((function(e){return e.replace(T,(function(e,t){return t?t.toUpperCase():""}))})),O=x((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),E=/\B([A-Z])/g,j=x((function(e){return e.replace(E,"-$1").toLowerCase()}));var N=Function.prototype.bind?function(e,t){return e.bind(t)}:function(e,t){function s(s){var i=arguments.length;return i?i>1?e.apply(t,arguments):e.call(t,s):e.call(t)}return s._length=e.length,s};function P(e,t){t=t||0;for(var s=e.length-t,i=new Array(s);s--;)i[s]=e[s+t];return i}function A(e,t){for(var s in t)e[s]=t[s];return e}function I(e){for(var t={},s=0;s<e.length;s++)e[s]&&A(t,e[s]);return t}function R(e,t,s){}var D=function(e,t,s){return!1},F=function(e){return e};function L(e,t){if(e===t)return!0;var s=h(e),i=h(t);if(!s||!i)return!s&&!i&&String(e)===String(t);try{var n=Array.isArray(e),a=Array.isArray(t);if(n&&a)return e.length===t.length&&e.every((function(e,s){return L(e,t[s])}));if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(n||a)return!1;var r=Object.keys(e),o=Object.keys(t);return r.length===o.length&&r.every((function(s){return L(e[s],t[s])}))}catch(e){return!1}}function H(e,t){for(var s=0;s<e.length;s++)if(L(e[s],t))return s;return-1}function U(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}function M(e,t){return e===t?0===e&&1/e!=1/t:e==e||t==t}var B="data-server-rendered",z=["component","directive","filter"],V=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch","renderTracked","renderTriggered"],G={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:D,isReservedAttr:D,isUnknownElement:D,getTagNamespace:R,parsePlatformTagName:F,mustUseProp:D,async:!0,_lifecycleHooks:V},K=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function q(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function J(e,t,s,i){Object.defineProperty(e,t,{value:s,enumerable:!!i,writable:!0,configurable:!0})}var W=new RegExp("[^".concat(K.source,".$_\\d]"));var Y="__proto__"in{},X="undefined"!=typeof window,Z=X&&window.navigator.userAgent.toLowerCase(),Q=Z&&/msie|trident/.test(Z),ee=Z&&Z.indexOf("msie 9.0")>0,te=Z&&Z.indexOf("edge/")>0;Z&&Z.indexOf("android");var se=Z&&/iphone|ipad|ipod|ios/.test(Z);Z&&/chrome\/\d+/.test(Z),Z&&/phantomjs/.test(Z);var ie,ne=Z&&Z.match(/firefox\/(\d+)/),ae={}.watch,re=!1;if(X)try{var oe={};Object.defineProperty(oe,"passive",{get:function(){re=!0}}),window.addEventListener("test-passive",null,oe)}catch(e){}var le=function(){return void 0===ie&&(ie=!X&&void 0!==s.g&&(s.g.process&&"server"===s.g.process.env.VUE_ENV)),ie},ce=X&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function ue(e){return"function"==typeof e&&/native code/.test(e.toString())}var he,de="undefined"!=typeof Symbol&&ue(Symbol)&&"undefined"!=typeof Reflect&&ue(Reflect.ownKeys);he="undefined"!=typeof Set&&ue(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var pe=null;function me(e){void 0===e&&(e=null),e||pe&&pe._scope.off(),pe=e,e&&e._scope.on()}var fe=function(){function e(e,t,s,i,n,a,r,o){this.tag=e,this.data=t,this.children=s,this.text=i,this.elm=n,this.ns=void 0,this.context=a,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=r,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=o,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1}return Object.defineProperty(e.prototype,"child",{get:function(){return this.componentInstance},enumerable:!1,configurable:!0}),e}(),ve=function(e){void 0===e&&(e="");var t=new fe;return t.text=e,t.isComment=!0,t};function ge(e){return new fe(void 0,void 0,void 0,String(e))}function _e(e){var t=new fe(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}"function"==typeof SuppressedError&&SuppressedError;var be=0,ye=[],$e=function(){function e(){this._pending=!1,this.id=be++,this.subs=[]}return e.prototype.addSub=function(e){this.subs.push(e)},e.prototype.removeSub=function(e){this.subs[this.subs.indexOf(e)]=null,this._pending||(this._pending=!0,ye.push(this))},e.prototype.depend=function(t){e.target&&e.target.addDep(this)},e.prototype.notify=function(e){var t=this.subs.filter((function(e){return e}));for(var s=0,i=t.length;s<i;s++){0,t[s].update()}},e}();$e.target=null;var we=[];function ke(e){we.push(e),$e.target=e}function Ce(){we.pop(),$e.target=we[we.length-1]}var xe=Array.prototype,Te=Object.create(xe);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(e){var t=xe[e];J(Te,e,(function(){for(var s=[],i=0;i<arguments.length;i++)s[i]=arguments[i];var n,a=t.apply(this,s),r=this.__ob__;switch(e){case"push":case"unshift":n=s;break;case"splice":n=s.slice(2)}return n&&r.observeArray(n),r.dep.notify(),a}))}));var Se=Object.getOwnPropertyNames(Te),Oe={},Ee=!0;function je(e){Ee=e}var Ne={notify:R,depend:R,addSub:R,removeSub:R},Pe=function(){function e(e,t,s){if(void 0===t&&(t=!1),void 0===s&&(s=!1),this.value=e,this.shallow=t,this.mock=s,this.dep=s?Ne:new $e,this.vmCount=0,J(e,"__ob__",this),a(e)){if(!s)if(Y)e.__proto__=Te;else for(var i=0,n=Se.length;i<n;i++){J(e,o=Se[i],Te[o])}t||this.observeArray(e)}else{var r=Object.keys(e);for(i=0;i<r.length;i++){var o;Ie(e,o=r[i],Oe,void 0,t,s)}}}return e.prototype.observeArray=function(e){for(var t=0,s=e.length;t<s;t++)Ae(e[t],!1,this.mock)},e}();function Ae(e,t,s){return e&&C(e,"__ob__")&&e.__ob__ instanceof Pe?e.__ob__:!Ee||!s&&le()||!a(e)&&!p(e)||!Object.isExtensible(e)||e.__v_skip||Me(e)||e instanceof fe?void 0:new Pe(e,t,s)}function Ie(e,t,s,i,n,r,o){void 0===o&&(o=!1);var l=new $e,c=Object.getOwnPropertyDescriptor(e,t);if(!c||!1!==c.configurable){var u=c&&c.get,h=c&&c.set;u&&!h||s!==Oe&&2!==arguments.length||(s=e[t]);var d=n?s&&s.__ob__:Ae(s,!1,r);return Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=u?u.call(e):s;return $e.target&&(l.depend(),d&&(d.dep.depend(),a(t)&&Fe(t))),Me(t)&&!n?t.value:t},set:function(t){var i=u?u.call(e):s;if(M(i,t)){if(h)h.call(e,t);else{if(u)return;if(!n&&Me(i)&&!Me(t))return void(i.value=t);s=t}d=n?t&&t.__ob__:Ae(t,!1,r),l.notify()}}}),l}}function Re(e,t,s){if(!Ue(e)){var i=e.__ob__;return a(e)&&f(t)?(e.length=Math.max(e.length,t),e.splice(t,1,s),i&&!i.shallow&&i.mock&&Ae(s,!1,!0),s):t in e&&!(t in Object.prototype)?(e[t]=s,s):e._isVue||i&&i.vmCount?s:i?(Ie(i.value,t,s,void 0,i.shallow,i.mock),i.dep.notify(),s):(e[t]=s,s)}}function De(e,t){if(a(e)&&f(t))e.splice(t,1);else{var s=e.__ob__;e._isVue||s&&s.vmCount||Ue(e)||C(e,t)&&(delete e[t],s&&s.dep.notify())}}function Fe(e){for(var t=void 0,s=0,i=e.length;s<i;s++)(t=e[s])&&t.__ob__&&t.__ob__.dep.depend(),a(t)&&Fe(t)}function Le(e){return He(e,!0),J(e,"__v_isShallow",!0),e}function He(e,t){if(!Ue(e)){Ae(e,t,le());0}}function Ue(e){return!(!e||!e.__v_isReadonly)}function Me(e){return!(!e||!0!==e.__v_isRef)}function Be(e,t,s){Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:function(){var e=t[s];if(Me(e))return e.value;var i=e&&e.__ob__;return i&&i.dep.depend(),e},set:function(e){var i=t[s];Me(i)&&!Me(e)?i.value=e:t[s]=e}})}var ze="watcher";"".concat(ze," callback"),"".concat(ze," getter"),"".concat(ze," cleanup");var Ve;var Ge=function(){function e(e){void 0===e&&(e=!1),this.detached=e,this.active=!0,this.effects=[],this.cleanups=[],this.parent=Ve,!e&&Ve&&(this.index=(Ve.scopes||(Ve.scopes=[])).push(this)-1)}return e.prototype.run=function(e){if(this.active){var t=Ve;try{return Ve=this,e()}finally{Ve=t}}else 0},e.prototype.on=function(){Ve=this},e.prototype.off=function(){Ve=this.parent},e.prototype.stop=function(e){if(this.active){var t=void 0,s=void 0;for(t=0,s=this.effects.length;t<s;t++)this.effects[t].teardown();for(t=0,s=this.cleanups.length;t<s;t++)this.cleanups[t]();if(this.scopes)for(t=0,s=this.scopes.length;t<s;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){var i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this.active=!1}},e}();function Ke(e){var t=e._provided,s=e.$parent&&e.$parent._provided;return s===t?e._provided=Object.create(s):t}var qe=x((function(e){var t="&"===e.charAt(0),s="~"===(e=t?e.slice(1):e).charAt(0),i="!"===(e=s?e.slice(1):e).charAt(0);return{name:e=i?e.slice(1):e,once:s,capture:i,passive:t}}));function Je(e,t){function s(){var e=s.fns;if(!a(e))return It(e,null,arguments,t,"v-on handler");for(var i=e.slice(),n=0;n<i.length;n++)It(i[n],null,arguments,t,"v-on handler")}return s.fns=e,s}function We(e,t,s,i,n,a){var o,c,u,h;for(o in e)c=e[o],u=t[o],h=qe(o),r(c)||(r(u)?(r(c.fns)&&(c=e[o]=Je(c,a)),l(h.once)&&(c=e[o]=n(h.name,c,h.capture)),s(h.name,c,h.capture,h.passive,h.params)):c!==u&&(u.fns=c,e[o]=u));for(o in t)r(e[o])&&i((h=qe(o)).name,t[o],h.capture)}function Ye(e,t,s){var i;e instanceof fe&&(e=e.data.hook||(e.data.hook={}));var n=e[t];function a(){s.apply(this,arguments),w(i.fns,a)}r(n)?i=Je([a]):o(n.fns)&&l(n.merged)?(i=n).fns.push(a):i=Je([n,a]),i.merged=!0,e[t]=i}function Xe(e,t,s,i,n){if(o(t)){if(C(t,s))return e[s]=t[s],n||delete t[s],!0;if(C(t,i))return e[s]=t[i],n||delete t[i],!0}return!1}function Ze(e){return c(e)?[ge(e)]:a(e)?et(e):void 0}function Qe(e){return o(e)&&o(e.text)&&!1===e.isComment}function et(e,t){var s,i,n,u,h=[];for(s=0;s<e.length;s++)r(i=e[s])||"boolean"==typeof i||(u=h[n=h.length-1],a(i)?i.length>0&&(Qe((i=et(i,"".concat(t||"","_").concat(s)))[0])&&Qe(u)&&(h[n]=ge(u.text+i[0].text),i.shift()),h.push.apply(h,i)):c(i)?Qe(u)?h[n]=ge(u.text+i):""!==i&&h.push(ge(i)):Qe(i)&&Qe(u)?h[n]=ge(u.text+i.text):(l(e._isVList)&&o(i.tag)&&r(i.key)&&o(t)&&(i.key="__vlist".concat(t,"_").concat(s,"__")),h.push(i)));return h}function tt(e,t){var s,i,n,r,l=null;if(a(e)||"string"==typeof e)for(l=new Array(e.length),s=0,i=e.length;s<i;s++)l[s]=t(e[s],s);else if("number"==typeof e)for(l=new Array(e),s=0;s<e;s++)l[s]=t(s+1,s);else if(h(e))if(de&&e[Symbol.iterator]){l=[];for(var c=e[Symbol.iterator](),u=c.next();!u.done;)l.push(t(u.value,l.length)),u=c.next()}else for(n=Object.keys(e),l=new Array(n.length),s=0,i=n.length;s<i;s++)r=n[s],l[s]=t(e[r],r,s);return o(l)||(l=[]),l._isVList=!0,l}function st(e,t,s,i){var n,a=this.$scopedSlots[e];a?(s=s||{},i&&(s=A(A({},i),s)),n=a(s)||(u(t)?t():t)):n=this.$slots[e]||(u(t)?t():t);var r=s&&s.slot;return r?this.$createElement("template",{slot:r},n):n}function it(e){return Hs(this.$options,"filters",e,!0)||F}function nt(e,t){return a(e)?-1===e.indexOf(t):e!==t}function at(e,t,s,i,n){var a=G.keyCodes[t]||s;return n&&i&&!G.keyCodes[t]?nt(n,i):a?nt(a,e):i?j(i)!==t:void 0===e}function rt(e,t,s,i,n){if(s)if(h(s)){a(s)&&(s=I(s));var r=void 0,o=function(a){if("class"===a||"style"===a||$(a))r=e;else{var o=e.attrs&&e.attrs.type;r=i||G.mustUseProp(t,o,a)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var l=S(a),c=j(a);l in r||c in r||(r[a]=s[a],n&&((e.on||(e.on={}))["update:".concat(a)]=function(e){s[a]=e}))};for(var l in s)o(l)}else;return e}function ot(e,t){var s=this._staticTrees||(this._staticTrees=[]),i=s[e];return i&&!t||ct(i=s[e]=this.$options.staticRenderFns[e].call(this._renderProxy,this._c,this),"__static__".concat(e),!1),i}function lt(e,t,s){return ct(e,"__once__".concat(t).concat(s?"_".concat(s):""),!0),e}function ct(e,t,s){if(a(e))for(var i=0;i<e.length;i++)e[i]&&"string"!=typeof e[i]&&ut(e[i],"".concat(t,"_").concat(i),s);else ut(e,t,s)}function ut(e,t,s){e.isStatic=!0,e.key=t,e.isOnce=s}function ht(e,t){if(t)if(p(t)){var s=e.on=e.on?A({},e.on):{};for(var i in t){var n=s[i],a=t[i];s[i]=n?[].concat(n,a):a}}else;return e}function dt(e,t,s,i){t=t||{$stable:!s};for(var n=0;n<e.length;n++){var r=e[n];a(r)?dt(r,t,s):r&&(r.proxy&&(r.fn.proxy=!0),t[r.key]=r.fn)}return i&&(t.$key=i),t}function pt(e,t){for(var s=0;s<t.length;s+=2){var i=t[s];"string"==typeof i&&i&&(e[t[s]]=t[s+1])}return e}function mt(e,t){return"string"==typeof e?t+e:e}function ft(e){e._o=lt,e._n=b,e._s=g,e._l=tt,e._t=st,e._q=L,e._i=H,e._m=ot,e._f=it,e._k=at,e._b=rt,e._v=ge,e._e=ve,e._u=dt,e._g=ht,e._d=pt,e._p=mt}function vt(e,t){if(!e||!e.length)return{};for(var s={},i=0,n=e.length;i<n;i++){var a=e[i],r=a.data;if(r&&r.attrs&&r.attrs.slot&&delete r.attrs.slot,a.context!==t&&a.fnContext!==t||!r||null==r.slot)(s.default||(s.default=[])).push(a);else{var o=r.slot,l=s[o]||(s[o]=[]);"template"===a.tag?l.push.apply(l,a.children||[]):l.push(a)}}for(var c in s)s[c].every(gt)&&delete s[c];return s}function gt(e){return e.isComment&&!e.asyncFactory||" "===e.text}function _t(e){return e.isComment&&e.asyncFactory}function bt(e,t,s,i){var a,r=Object.keys(s).length>0,o=t?!!t.$stable:!r,l=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(o&&i&&i!==n&&l===i.$key&&!r&&!i.$hasNormal)return i;for(var c in a={},t)t[c]&&"$"!==c[0]&&(a[c]=yt(e,s,c,t[c]))}else a={};for(var u in s)u in a||(a[u]=$t(s,u));return t&&Object.isExtensible(t)&&(t._normalized=a),J(a,"$stable",o),J(a,"$key",l),J(a,"$hasNormal",r),a}function yt(e,t,s,i){var n=function(){var t=pe;me(e);var s=arguments.length?i.apply(null,arguments):i({}),n=(s=s&&"object"==typeof s&&!a(s)?[s]:Ze(s))&&s[0];return me(t),s&&(!n||1===s.length&&n.isComment&&!_t(n))?void 0:s};return i.proxy&&Object.defineProperty(t,s,{get:n,enumerable:!0,configurable:!0}),n}function $t(e,t){return function(){return e[t]}}function wt(e){return{get attrs(){if(!e._attrsProxy){var t=e._attrsProxy={};J(t,"_v_attr_proxy",!0),kt(t,e.$attrs,n,e,"$attrs")}return e._attrsProxy},get listeners(){e._listenersProxy||kt(e._listenersProxy={},e.$listeners,n,e,"$listeners");return e._listenersProxy},get slots(){return function(e){e._slotsProxy||xt(e._slotsProxy={},e.$scopedSlots);return e._slotsProxy}(e)},emit:N(e.$emit,e),expose:function(t){t&&Object.keys(t).forEach((function(s){return Be(e,t,s)}))}}}function kt(e,t,s,i,n){var a=!1;for(var r in t)r in e?t[r]!==s[r]&&(a=!0):(a=!0,Ct(e,r,i,n));for(var r in e)r in t||(a=!0,delete e[r]);return a}function Ct(e,t,s,i){Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){return s[i][t]}})}function xt(e,t){for(var s in t)e[s]=t[s];for(var s in e)s in t||delete e[s]}var Tt=null;function St(e,t){return(e.__esModule||de&&"Module"===e[Symbol.toStringTag])&&(e=e.default),h(e)?t.extend(e):e}function Ot(e){if(a(e))for(var t=0;t<e.length;t++){var s=e[t];if(o(s)&&(o(s.componentOptions)||_t(s)))return s}}var Et=1,jt=2;function Nt(e,t,s,i,n,r){return(a(s)||c(s))&&(n=i,i=s,s=void 0),l(r)&&(n=jt),function(e,t,s,i,n){if(o(s)&&o(s.__ob__))return ve();o(s)&&o(s.is)&&(t=s.is);if(!t)return ve();0;a(i)&&u(i[0])&&((s=s||{}).scopedSlots={default:i[0]},i.length=0);n===jt?i=Ze(i):n===Et&&(i=function(e){for(var t=0;t<e.length;t++)if(a(e[t]))return Array.prototype.concat.apply([],e);return e}(i));var r,l;if("string"==typeof t){var c=void 0;l=e.$vnode&&e.$vnode.ns||G.getTagNamespace(t),r=G.isReservedTag(t)?new fe(G.parsePlatformTagName(t),s,i,void 0,void 0,e):s&&s.pre||!o(c=Hs(e.$options,"components",t))?new fe(t,s,i,void 0,void 0,e):Es(c,s,e,i,t)}else r=Es(t,s,e,i);return a(r)?r:o(r)?(o(l)&&Pt(r,l),o(s)&&function(e){h(e.style)&&Wt(e.style);h(e.class)&&Wt(e.class)}(s),r):ve()}(e,t,s,i,n)}function Pt(e,t,s){if(e.ns=t,"foreignObject"===e.tag&&(t=void 0,s=!0),o(e.children))for(var i=0,n=e.children.length;i<n;i++){var a=e.children[i];o(a.tag)&&(r(a.ns)||l(s)&&"svg"!==a.tag)&&Pt(a,t,s)}}function At(e,t,s){ke();try{if(t)for(var i=t;i=i.$parent;){var n=i.$options.errorCaptured;if(n)for(var a=0;a<n.length;a++)try{if(!1===n[a].call(i,e,t,s))return}catch(e){Rt(e,i,"errorCaptured hook")}}Rt(e,t,s)}finally{Ce()}}function It(e,t,s,i,n){var a;try{(a=s?e.apply(t,s):e.call(t))&&!a._isVue&&v(a)&&!a._handled&&(a.catch((function(e){return At(e,i,n+" (Promise/async)")})),a._handled=!0)}catch(e){At(e,i,n)}return a}function Rt(e,t,s){if(G.errorHandler)try{return G.errorHandler.call(null,e,t,s)}catch(t){t!==e&&Dt(t,null,"config.errorHandler")}Dt(e,t,s)}function Dt(e,t,s){if(!X||"undefined"==typeof console)throw e;console.error(e)}var Ft,Lt=!1,Ht=[],Ut=!1;function Mt(){Ut=!1;var e=Ht.slice(0);Ht.length=0;for(var t=0;t<e.length;t++)e[t]()}if("undefined"!=typeof Promise&&ue(Promise)){var Bt=Promise.resolve();Ft=function(){Bt.then(Mt),se&&setTimeout(R)},Lt=!0}else if(Q||"undefined"==typeof MutationObserver||!ue(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Ft="undefined"!=typeof setImmediate&&ue(setImmediate)?function(){setImmediate(Mt)}:function(){setTimeout(Mt,0)};else{var zt=1,Vt=new MutationObserver(Mt),Gt=document.createTextNode(String(zt));Vt.observe(Gt,{characterData:!0}),Ft=function(){zt=(zt+1)%2,Gt.data=String(zt)},Lt=!0}function Kt(e,t){var s;if(Ht.push((function(){if(e)try{e.call(t)}catch(e){At(e,t,"nextTick")}else s&&s(t)})),Ut||(Ut=!0,Ft()),!e&&"undefined"!=typeof Promise)return new Promise((function(e){s=e}))}function qt(e){return function(t,s){if(void 0===s&&(s=pe),s)return function(e,t,s){var i=e.$options;i[t]=Rs(i[t],s)}(s,e,t)}}qt("beforeMount"),qt("mounted"),qt("beforeUpdate"),qt("updated"),qt("beforeDestroy"),qt("destroyed"),qt("activated"),qt("deactivated"),qt("serverPrefetch"),qt("renderTracked"),qt("renderTriggered"),qt("errorCaptured");var Jt=new he;function Wt(e){return Yt(e,Jt),Jt.clear(),e}function Yt(e,t){var s,i,n=a(e);if(!(!n&&!h(e)||e.__v_skip||Object.isFrozen(e)||e instanceof fe)){if(e.__ob__){var r=e.__ob__.dep.id;if(t.has(r))return;t.add(r)}if(n)for(s=e.length;s--;)Yt(e[s],t);else if(Me(e))Yt(e.value,t);else for(s=(i=Object.keys(e)).length;s--;)Yt(e[i[s]],t)}}var Xt,Zt=0,Qt=function(){function e(e,t,s,i,n){var a,r;a=this,void 0===(r=Ve&&!Ve._vm?Ve:e?e._scope:void 0)&&(r=Ve),r&&r.active&&r.effects.push(a),(this.vm=e)&&n&&(e._watcher=this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync,this.before=i.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=s,this.id=++Zt,this.active=!0,this.post=!1,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new he,this.newDepIds=new he,this.expression="",u(t)?this.getter=t:(this.getter=function(e){if(!W.test(e)){var t=e.split(".");return function(e){for(var s=0;s<t.length;s++){if(!e)return;e=e[t[s]]}return e}}}(t),this.getter||(this.getter=R)),this.value=this.lazy?void 0:this.get()}return e.prototype.get=function(){var e;ke(this);var t=this.vm;try{e=this.getter.call(t,t)}catch(e){if(!this.user)throw e;At(e,t,'getter for watcher "'.concat(this.expression,'"'))}finally{this.deep&&Wt(e),Ce(),this.cleanupDeps()}return e},e.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},e.prototype.cleanupDeps=function(){for(var e=this.deps.length;e--;){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var s=this.depIds;this.depIds=this.newDepIds,this.newDepIds=s,this.newDepIds.clear(),s=this.deps,this.deps=this.newDeps,this.newDeps=s,this.newDeps.length=0},e.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():$s(this)},e.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||h(e)||this.deep){var t=this.value;if(this.value=e,this.user){var s='callback for watcher "'.concat(this.expression,'"');It(this.cb,this.vm,[e,t],this.vm,s)}else this.cb.call(this.vm,e,t)}}},e.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},e.prototype.depend=function(){for(var e=this.deps.length;e--;)this.deps[e].depend()},e.prototype.teardown=function(){if(this.vm&&!this.vm._isBeingDestroyed&&w(this.vm._scope.effects,this),this.active){for(var e=this.deps.length;e--;)this.deps[e].removeSub(this);this.active=!1,this.onStop&&this.onStop()}},e}();function es(e,t){Xt.$on(e,t)}function ts(e,t){Xt.$off(e,t)}function ss(e,t){var s=Xt;return function i(){null!==t.apply(null,arguments)&&s.$off(e,i)}}function is(e,t,s){Xt=e,We(t,s||{},es,ts,ss,e),Xt=void 0}var ns=null;function as(e){var t=ns;return ns=e,function(){ns=t}}function rs(e){for(;e&&(e=e.$parent);)if(e._inactive)return!0;return!1}function os(e,t){if(t){if(e._directInactive=!1,rs(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var s=0;s<e.$children.length;s++)os(e.$children[s]);cs(e,"activated")}}function ls(e,t){if(!(t&&(e._directInactive=!0,rs(e))||e._inactive)){e._inactive=!0;for(var s=0;s<e.$children.length;s++)ls(e.$children[s]);cs(e,"deactivated")}}function cs(e,t,s,i){void 0===i&&(i=!0),ke();var n=pe,a=Ve;i&&me(e);var r=e.$options[t],o="".concat(t," hook");if(r)for(var l=0,c=r.length;l<c;l++)It(r[l],e,s||null,e,o);e._hasHookEvent&&e.$emit("hook:"+t),i&&(me(n),a&&a.on()),Ce()}var us=[],hs=[],ds={},ps=!1,ms=!1,fs=0;var vs=0,gs=Date.now;if(X&&!Q){var _s=window.performance;_s&&"function"==typeof _s.now&&gs()>document.createEvent("Event").timeStamp&&(gs=function(){return _s.now()})}var bs=function(e,t){if(e.post){if(!t.post)return 1}else if(t.post)return-1;return e.id-t.id};function ys(){var e,t;for(vs=gs(),ms=!0,us.sort(bs),fs=0;fs<us.length;fs++)(e=us[fs]).before&&e.before(),t=e.id,ds[t]=null,e.run();var s=hs.slice(),i=us.slice();fs=us.length=hs.length=0,ds={},ps=ms=!1,function(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,os(e[t],!0)}(s),function(e){var t=e.length;for(;t--;){var s=e[t],i=s.vm;i&&i._watcher===s&&i._isMounted&&!i._isDestroyed&&cs(i,"updated")}}(i),function(){for(var e=0;e<ye.length;e++){var t=ye[e];t.subs=t.subs.filter((function(e){return e})),t._pending=!1}ye.length=0}(),ce&&G.devtools&&ce.emit("flush")}function $s(e){var t=e.id;if(null==ds[t]&&(e!==$e.target||!e.noRecurse)){if(ds[t]=!0,ms){for(var s=us.length-1;s>fs&&us[s].id>e.id;)s--;us.splice(s+1,0,e)}else us.push(e);ps||(ps=!0,Kt(ys))}}function ws(e,t){if(e){for(var s=Object.create(null),i=de?Reflect.ownKeys(e):Object.keys(e),n=0;n<i.length;n++){var a=i[n];if("__ob__"!==a){var r=e[a].from;if(r in t._provided)s[a]=t._provided[r];else if("default"in e[a]){var o=e[a].default;s[a]=u(o)?o.call(t):o}else 0}}return s}}function ks(e,t,s,i,r){var o,c=this,u=r.options;C(i,"_uid")?(o=Object.create(i))._original=i:(o=i,i=i._original);var h=l(u._compiled),d=!h;this.data=e,this.props=t,this.children=s,this.parent=i,this.listeners=e.on||n,this.injections=ws(u.inject,i),this.slots=function(){return c.$slots||bt(i,e.scopedSlots,c.$slots=vt(s,i)),c.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return bt(i,e.scopedSlots,this.slots())}}),h&&(this.$options=u,this.$slots=this.slots(),this.$scopedSlots=bt(i,e.scopedSlots,this.$slots)),u._scopeId?this._c=function(e,t,s,n){var r=Nt(o,e,t,s,n,d);return r&&!a(r)&&(r.fnScopeId=u._scopeId,r.fnContext=i),r}:this._c=function(e,t,s,i){return Nt(o,e,t,s,i,d)}}function Cs(e,t,s,i,n){var a=_e(e);return a.fnContext=s,a.fnOptions=i,t.slot&&((a.data||(a.data={})).slot=t.slot),a}function xs(e,t){for(var s in t)e[S(s)]=t[s]}function Ts(e){return e.name||e.__name||e._componentTag}ft(ks.prototype);var Ss={init:function(e,t){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var s=e;Ss.prepatch(s,s)}else{(e.componentInstance=function(e,t){var s={_isComponent:!0,_parentVnode:e,parent:t},i=e.data.inlineTemplate;o(i)&&(s.render=i.render,s.staticRenderFns=i.staticRenderFns);return new e.componentOptions.Ctor(s)}(e,ns)).$mount(t?e.elm:void 0,t)}},prepatch:function(e,t){var s=t.componentOptions;!function(e,t,s,i,a){var r=i.data.scopedSlots,o=e.$scopedSlots,l=!!(r&&!r.$stable||o!==n&&!o.$stable||r&&e.$scopedSlots.$key!==r.$key||!r&&e.$scopedSlots.$key),c=!!(a||e.$options._renderChildren||l),u=e.$vnode;e.$options._parentVnode=i,e.$vnode=i,e._vnode&&(e._vnode.parent=i),e.$options._renderChildren=a;var h=i.data.attrs||n;e._attrsProxy&&kt(e._attrsProxy,h,u.data&&u.data.attrs||n,e,"$attrs")&&(c=!0),e.$attrs=h,s=s||n;var d=e.$options._parentListeners;if(e._listenersProxy&&kt(e._listenersProxy,s,d||n,e,"$listeners"),e.$listeners=e.$options._parentListeners=s,is(e,s,d),t&&e.$options.props){je(!1);for(var p=e._props,m=e.$options._propKeys||[],f=0;f<m.length;f++){var v=m[f],g=e.$options.props;p[v]=Us(v,g,t,e)}je(!0),e.$options.propsData=t}c&&(e.$slots=vt(a,i.context),e.$forceUpdate())}(t.componentInstance=e.componentInstance,s.propsData,s.listeners,t,s.children)},insert:function(e){var t,s=e.context,i=e.componentInstance;i._isMounted||(i._isMounted=!0,cs(i,"mounted")),e.data.keepAlive&&(s._isMounted?((t=i)._inactive=!1,hs.push(t)):os(i,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?ls(t,!0):t.$destroy())}},Os=Object.keys(Ss);function Es(e,t,s,i,c){if(!r(e)){var u=s.$options._base;if(h(e)&&(e=u.extend(e)),"function"==typeof e){var d;if(r(e.cid)&&(e=function(e,t){if(l(e.error)&&o(e.errorComp))return e.errorComp;if(o(e.resolved))return e.resolved;var s=Tt;if(s&&o(e.owners)&&-1===e.owners.indexOf(s)&&e.owners.push(s),l(e.loading)&&o(e.loadingComp))return e.loadingComp;if(s&&!o(e.owners)){var i=e.owners=[s],n=!0,a=null,c=null;s.$on("hook:destroyed",(function(){return w(i,s)}));var u=function(e){for(var t=0,s=i.length;t<s;t++)i[t].$forceUpdate();e&&(i.length=0,null!==a&&(clearTimeout(a),a=null),null!==c&&(clearTimeout(c),c=null))},d=U((function(s){e.resolved=St(s,t),n?i.length=0:u(!0)})),p=U((function(t){o(e.errorComp)&&(e.error=!0,u(!0))})),m=e(d,p);return h(m)&&(v(m)?r(e.resolved)&&m.then(d,p):v(m.component)&&(m.component.then(d,p),o(m.error)&&(e.errorComp=St(m.error,t)),o(m.loading)&&(e.loadingComp=St(m.loading,t),0===m.delay?e.loading=!0:a=setTimeout((function(){a=null,r(e.resolved)&&r(e.error)&&(e.loading=!0,u(!1))}),m.delay||200)),o(m.timeout)&&(c=setTimeout((function(){c=null,r(e.resolved)&&p(null)}),m.timeout)))),n=!1,e.loading?e.loadingComp:e.resolved}}(d=e,u),void 0===e))return function(e,t,s,i,n){var a=ve();return a.asyncFactory=e,a.asyncMeta={data:t,context:s,children:i,tag:n},a}(d,t,s,i,c);t=t||{},ei(e),o(t.model)&&function(e,t){var s=e.model&&e.model.prop||"value",i=e.model&&e.model.event||"input";(t.attrs||(t.attrs={}))[s]=t.model.value;var n=t.on||(t.on={}),r=n[i],l=t.model.callback;o(r)?(a(r)?-1===r.indexOf(l):r!==l)&&(n[i]=[l].concat(r)):n[i]=l}(e.options,t);var p=function(e,t){var s=t.options.props;if(!r(s)){var i={},n=e.attrs,a=e.props;if(o(n)||o(a))for(var l in s){var c=j(l);Xe(i,a,l,c,!0)||Xe(i,n,l,c,!1)}return i}}(t,e);if(l(e.options.functional))return function(e,t,s,i,r){var l=e.options,c={},u=l.props;if(o(u))for(var h in u)c[h]=Us(h,u,t||n);else o(s.attrs)&&xs(c,s.attrs),o(s.props)&&xs(c,s.props);var d=new ks(s,c,r,i,e),p=l.render.call(null,d._c,d);if(p instanceof fe)return Cs(p,s,d.parent,l);if(a(p)){for(var m=Ze(p)||[],f=new Array(m.length),v=0;v<m.length;v++)f[v]=Cs(m[v],s,d.parent,l);return f}}(e,p,t,s,i);var m=t.on;if(t.on=t.nativeOn,l(e.options.abstract)){var f=t.slot;t={},f&&(t.slot=f)}!function(e){for(var t=e.hook||(e.hook={}),s=0;s<Os.length;s++){var i=Os[s],n=t[i],a=Ss[i];n===a||n&&n._merged||(t[i]=n?js(a,n):a)}}(t);var g=Ts(e.options)||c;return new fe("vue-component-".concat(e.cid).concat(g?"-".concat(g):""),t,void 0,void 0,void 0,s,{Ctor:e,propsData:p,listeners:m,tag:c,children:i},d)}}}function js(e,t){var s=function(s,i){e(s,i),t(s,i)};return s._merged=!0,s}var Ns=R,Ps=G.optionMergeStrategies;function As(e,t,s){if(void 0===s&&(s=!0),!t)return e;for(var i,n,a,r=de?Reflect.ownKeys(t):Object.keys(t),o=0;o<r.length;o++)"__ob__"!==(i=r[o])&&(n=e[i],a=t[i],s&&C(e,i)?n!==a&&p(n)&&p(a)&&As(n,a):Re(e,i,a));return e}function Is(e,t,s){return s?function(){var i=u(t)?t.call(s,s):t,n=u(e)?e.call(s,s):e;return i?As(i,n):n}:t?e?function(){return As(u(t)?t.call(this,this):t,u(e)?e.call(this,this):e)}:t:e}function Rs(e,t){var s=t?e?e.concat(t):a(t)?t:[t]:e;return s?function(e){for(var t=[],s=0;s<e.length;s++)-1===t.indexOf(e[s])&&t.push(e[s]);return t}(s):s}function Ds(e,t,s,i){var n=Object.create(e||null);return t?A(n,t):n}Ps.data=function(e,t,s){return s?Is(e,t,s):t&&"function"!=typeof t?e:Is(e,t)},V.forEach((function(e){Ps[e]=Rs})),z.forEach((function(e){Ps[e+"s"]=Ds})),Ps.watch=function(e,t,s,i){if(e===ae&&(e=void 0),t===ae&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var n={};for(var r in A(n,e),t){var o=n[r],l=t[r];o&&!a(o)&&(o=[o]),n[r]=o?o.concat(l):a(l)?l:[l]}return n},Ps.props=Ps.methods=Ps.inject=Ps.computed=function(e,t,s,i){if(!e)return t;var n=Object.create(null);return A(n,e),t&&A(n,t),n},Ps.provide=function(e,t){return e?function(){var s=Object.create(null);return As(s,u(e)?e.call(this):e),t&&As(s,u(t)?t.call(this):t,!1),s}:t};var Fs=function(e,t){return void 0===t?e:t};function Ls(e,t,s){if(u(t)&&(t=t.options),function(e){var t=e.props;if(t){var s,i,n={};if(a(t))for(s=t.length;s--;)"string"==typeof(i=t[s])&&(n[S(i)]={type:null});else if(p(t))for(var r in t)i=t[r],n[S(r)]=p(i)?i:{type:i};e.props=n}}(t),function(e){var t=e.inject;if(t){var s=e.inject={};if(a(t))for(var i=0;i<t.length;i++)s[t[i]]={from:t[i]};else if(p(t))for(var n in t){var r=t[n];s[n]=p(r)?A({from:n},r):{from:r}}}}(t),function(e){var t=e.directives;if(t)for(var s in t){var i=t[s];u(i)&&(t[s]={bind:i,update:i})}}(t),!t._base&&(t.extends&&(e=Ls(e,t.extends,s)),t.mixins))for(var i=0,n=t.mixins.length;i<n;i++)e=Ls(e,t.mixins[i],s);var r,o={};for(r in e)l(r);for(r in t)C(e,r)||l(r);function l(i){var n=Ps[i]||Fs;o[i]=n(e[i],t[i],s,i)}return o}function Hs(e,t,s,i){if("string"==typeof s){var n=e[t];if(C(n,s))return n[s];var a=S(s);if(C(n,a))return n[a];var r=O(a);return C(n,r)?n[r]:n[s]||n[a]||n[r]}}function Us(e,t,s,i){var n=t[e],a=!C(s,e),r=s[e],o=Vs(Boolean,n.type);if(o>-1)if(a&&!C(n,"default"))r=!1;else if(""===r||r===j(e)){var l=Vs(String,n.type);(l<0||o<l)&&(r=!0)}if(void 0===r){r=function(e,t,s){if(!C(t,"default"))return;var i=t.default;0;if(e&&e.$options.propsData&&void 0===e.$options.propsData[s]&&void 0!==e._props[s])return e._props[s];return u(i)&&"Function"!==Bs(t.type)?i.call(e):i}(i,n,e);var c=Ee;je(!0),Ae(r),je(c)}return r}var Ms=/^\s*function (\w+)/;function Bs(e){var t=e&&e.toString().match(Ms);return t?t[1]:""}function zs(e,t){return Bs(e)===Bs(t)}function Vs(e,t){if(!a(t))return zs(t,e)?0:-1;for(var s=0,i=t.length;s<i;s++)if(zs(t[s],e))return s;return-1}var Gs={enumerable:!0,configurable:!0,get:R,set:R};function Ks(e,t,s){Gs.get=function(){return this[t][s]},Gs.set=function(e){this[t][s]=e},Object.defineProperty(e,s,Gs)}function qs(e){var t=e.$options;if(t.props&&function(e,t){var s=e.$options.propsData||{},i=e._props=Le({}),n=e.$options._propKeys=[],a=!e.$parent;a||je(!1);var r=function(a){n.push(a);var r=Us(a,t,s,e);Ie(i,a,r,void 0,!0),a in e||Ks(e,"_props",a)};for(var o in t)r(o);je(!0)}(e,t.props),function(e){var t=e.$options,s=t.setup;if(s){var i=e._setupContext=wt(e);me(e),ke();var n=It(s,null,[e._props||Le({}),i],e,"setup");if(Ce(),me(),u(n))t.render=n;else if(h(n))if(e._setupState=n,n.__sfc){var a=e._setupProxy={};for(var r in n)"__sfc"!==r&&Be(a,n,r)}else for(var r in n)q(r)||Be(e,n,r)}}(e),t.methods&&function(e,t){e.$options.props;for(var s in t)e[s]="function"!=typeof t[s]?R:N(t[s],e)}(e,t.methods),t.data)!function(e){var t=e.$options.data;t=e._data=u(t)?function(e,t){ke();try{return e.call(t,t)}catch(e){return At(e,t,"data()"),{}}finally{Ce()}}(t,e):t||{},p(t)||(t={});var s=Object.keys(t),i=e.$options.props,n=(e.$options.methods,s.length);for(;n--;){var a=s[n];0,i&&C(i,a)||q(a)||Ks(e,"_data",a)}var r=Ae(t);r&&r.vmCount++}(e);else{var s=Ae(e._data={});s&&s.vmCount++}t.computed&&function(e,t){var s=e._computedWatchers=Object.create(null),i=le();for(var n in t){var a=t[n],r=u(a)?a:a.get;0,i||(s[n]=new Qt(e,r||R,R,Js)),n in e||Ws(e,n,a)}}(e,t.computed),t.watch&&t.watch!==ae&&function(e,t){for(var s in t){var i=t[s];if(a(i))for(var n=0;n<i.length;n++)Zs(e,s,i[n]);else Zs(e,s,i)}}(e,t.watch)}var Js={lazy:!0};function Ws(e,t,s){var i=!le();u(s)?(Gs.get=i?Ys(t):Xs(s),Gs.set=R):(Gs.get=s.get?i&&!1!==s.cache?Ys(t):Xs(s.get):R,Gs.set=s.set||R),Object.defineProperty(e,t,Gs)}function Ys(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),$e.target&&t.depend(),t.value}}function Xs(e){return function(){return e.call(this,this)}}function Zs(e,t,s,i){return p(s)&&(i=s,s=s.handler),"string"==typeof s&&(s=e[s]),e.$watch(t,s,i)}var Qs=0;function ei(e){var t=e.options;if(e.super){var s=ei(e.super);if(s!==e.superOptions){e.superOptions=s;var i=function(e){var t,s=e.options,i=e.sealedOptions;for(var n in s)s[n]!==i[n]&&(t||(t={}),t[n]=s[n]);return t}(e);i&&A(e.extendOptions,i),(t=e.options=Ls(s,e.extendOptions)).name&&(t.components[t.name]=e)}}return t}function ti(e){this._init(e)}function si(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var s=this,i=s.cid,n=e._Ctor||(e._Ctor={});if(n[i])return n[i];var a=Ts(e)||Ts(s.options);var r=function(e){this._init(e)};return(r.prototype=Object.create(s.prototype)).constructor=r,r.cid=t++,r.options=Ls(s.options,e),r.super=s,r.options.props&&function(e){var t=e.options.props;for(var s in t)Ks(e.prototype,"_props",s)}(r),r.options.computed&&function(e){var t=e.options.computed;for(var s in t)Ws(e.prototype,s,t[s])}(r),r.extend=s.extend,r.mixin=s.mixin,r.use=s.use,z.forEach((function(e){r[e]=s[e]})),a&&(r.options.components[a]=r),r.superOptions=s.options,r.extendOptions=e,r.sealedOptions=A({},r.options),n[i]=r,r}}function ii(e){return e&&(Ts(e.Ctor.options)||e.tag)}function ni(e,t){return a(e)?e.indexOf(t)>-1:"string"==typeof e?e.split(",").indexOf(t)>-1:!!m(e)&&e.test(t)}function ai(e,t){var s=e.cache,i=e.keys,n=e._vnode,a=e.$vnode;for(var r in s){var o=s[r];if(o){var l=o.name;l&&!t(l)&&ri(s,r,i,n)}}a.componentOptions.children=void 0}function ri(e,t,s,i){var n=e[t];!n||i&&n.tag===i.tag||n.componentInstance.$destroy(),e[t]=null,w(s,t)}!function(e){e.prototype._init=function(e){var t=this;t._uid=Qs++,t._isVue=!0,t.__v_skip=!0,t._scope=new Ge(!0),t._scope.parent=void 0,t._scope._vm=!0,e&&e._isComponent?function(e,t){var s=e.$options=Object.create(e.constructor.options),i=t._parentVnode;s.parent=t.parent,s._parentVnode=i;var n=i.componentOptions;s.propsData=n.propsData,s._parentListeners=n.listeners,s._renderChildren=n.children,s._componentTag=n.tag,t.render&&(s.render=t.render,s.staticRenderFns=t.staticRenderFns)}(t,e):t.$options=Ls(ei(t.constructor),e||{},t),t._renderProxy=t,t._self=t,function(e){var t=e.$options,s=t.parent;if(s&&!t.abstract){for(;s.$options.abstract&&s.$parent;)s=s.$parent;s.$children.push(e)}e.$parent=s,e.$root=s?s.$root:e,e.$children=[],e.$refs={},e._provided=s?s._provided:Object.create(null),e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}(t),function(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&is(e,t)}(t),function(e){e._vnode=null,e._staticTrees=null;var t=e.$options,s=e.$vnode=t._parentVnode,i=s&&s.context;e.$slots=vt(t._renderChildren,i),e.$scopedSlots=s?bt(e.$parent,s.data.scopedSlots,e.$slots):n,e._c=function(t,s,i,n){return Nt(e,t,s,i,n,!1)},e.$createElement=function(t,s,i,n){return Nt(e,t,s,i,n,!0)};var a=s&&s.data;Ie(e,"$attrs",a&&a.attrs||n,null,!0),Ie(e,"$listeners",t._parentListeners||n,null,!0)}(t),cs(t,"beforeCreate",void 0,!1),function(e){var t=ws(e.$options.inject,e);t&&(je(!1),Object.keys(t).forEach((function(s){Ie(e,s,t[s])})),je(!0))}(t),qs(t),function(e){var t=e.$options.provide;if(t){var s=u(t)?t.call(e):t;if(!h(s))return;for(var i=Ke(e),n=de?Reflect.ownKeys(s):Object.keys(s),a=0;a<n.length;a++){var r=n[a];Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(s,r))}}}(t),cs(t,"created"),t.$options.el&&t.$mount(t.$options.el)}}(ti),function(e){var t={get:function(){return this._data}},s={get:function(){return this._props}};Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",s),e.prototype.$set=Re,e.prototype.$delete=De,e.prototype.$watch=function(e,t,s){var i=this;if(p(t))return Zs(i,e,t,s);(s=s||{}).user=!0;var n=new Qt(i,e,t,s);if(s.immediate){var a='callback for immediate watcher "'.concat(n.expression,'"');ke(),It(t,i,[n.value],i,a),Ce()}return function(){n.teardown()}}}(ti),function(e){var t=/^hook:/;e.prototype.$on=function(e,s){var i=this;if(a(e))for(var n=0,r=e.length;n<r;n++)i.$on(e[n],s);else(i._events[e]||(i._events[e]=[])).push(s),t.test(e)&&(i._hasHookEvent=!0);return i},e.prototype.$once=function(e,t){var s=this;function i(){s.$off(e,i),t.apply(s,arguments)}return i.fn=t,s.$on(e,i),s},e.prototype.$off=function(e,t){var s=this;if(!arguments.length)return s._events=Object.create(null),s;if(a(e)){for(var i=0,n=e.length;i<n;i++)s.$off(e[i],t);return s}var r,o=s._events[e];if(!o)return s;if(!t)return s._events[e]=null,s;for(var l=o.length;l--;)if((r=o[l])===t||r.fn===t){o.splice(l,1);break}return s},e.prototype.$emit=function(e){var t=this,s=t._events[e];if(s){s=s.length>1?P(s):s;for(var i=P(arguments,1),n='event handler for "'.concat(e,'"'),a=0,r=s.length;a<r;a++)It(s[a],t,i,t,n)}return t}}(ti),function(e){e.prototype._update=function(e,t){var s=this,i=s.$el,n=s._vnode,a=as(s);s._vnode=e,s.$el=n?s.__patch__(n,e):s.__patch__(s.$el,e,t,!1),a(),i&&(i.__vue__=null),s.$el&&(s.$el.__vue__=s);for(var r=s;r&&r.$vnode&&r.$parent&&r.$vnode===r.$parent._vnode;)r.$parent.$el=r.$el,r=r.$parent},e.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){cs(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||w(t.$children,e),e._scope.stop(),e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),cs(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}(ti),function(e){ft(e.prototype),e.prototype.$nextTick=function(e){return Kt(e,this)},e.prototype._render=function(){var e=this,t=e.$options,s=t.render,i=t._parentVnode;i&&e._isMounted&&(e.$scopedSlots=bt(e.$parent,i.data.scopedSlots,e.$slots,e.$scopedSlots),e._slotsProxy&&xt(e._slotsProxy,e.$scopedSlots)),e.$vnode=i;var n,r=pe,o=Tt;try{me(e),Tt=e,n=s.call(e._renderProxy,e.$createElement)}catch(t){At(t,e,"render"),n=e._vnode}finally{Tt=o,me(r)}return a(n)&&1===n.length&&(n=n[0]),n instanceof fe||(n=ve()),n.parent=i,n}}(ti);var oi=[String,RegExp,Array],li={name:"keep-alive",abstract:!0,props:{include:oi,exclude:oi,max:[String,Number]},methods:{cacheVNode:function(){var e=this,t=e.cache,s=e.keys,i=e.vnodeToCache,n=e.keyToCache;if(i){var a=i.tag,r=i.componentInstance,o=i.componentOptions;t[n]={name:ii(o),tag:a,componentInstance:r},s.push(n),this.max&&s.length>parseInt(this.max)&&ri(t,s[0],s,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)ri(this.cache,e,this.keys)},mounted:function(){var e=this;this.cacheVNode(),this.$watch("include",(function(t){ai(e,(function(e){return ni(t,e)}))})),this.$watch("exclude",(function(t){ai(e,(function(e){return!ni(t,e)}))}))},updated:function(){this.cacheVNode()},render:function(){var e=this.$slots.default,t=Ot(e),s=t&&t.componentOptions;if(s){var i=ii(s),n=this.include,a=this.exclude;if(n&&(!i||!ni(n,i))||a&&i&&ni(a,i))return t;var r=this.cache,o=this.keys,l=null==t.key?s.Ctor.cid+(s.tag?"::".concat(s.tag):""):t.key;r[l]?(t.componentInstance=r[l].componentInstance,w(o,l),o.push(l)):(this.vnodeToCache=t,this.keyToCache=l),t.data.keepAlive=!0}return t||e&&e[0]}},ci={KeepAlive:li};!function(e){var t={get:function(){return G}};Object.defineProperty(e,"config",t),e.util={warn:Ns,extend:A,mergeOptions:Ls,defineReactive:Ie},e.set=Re,e.delete=De,e.nextTick=Kt,e.observable=function(e){return Ae(e),e},e.options=Object.create(null),z.forEach((function(t){e.options[t+"s"]=Object.create(null)})),e.options._base=e,A(e.options.components,ci),function(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var s=P(arguments,1);return s.unshift(this),u(e.install)?e.install.apply(e,s):u(e)&&e.apply(null,s),t.push(e),this}}(e),function(e){e.mixin=function(e){return this.options=Ls(this.options,e),this}}(e),si(e),function(e){z.forEach((function(t){e[t]=function(e,s){return s?("component"===t&&p(s)&&(s.name=s.name||e,s=this.options._base.extend(s)),"directive"===t&&u(s)&&(s={bind:s,update:s}),this.options[t+"s"][e]=s,s):this.options[t+"s"][e]}}))}(e)}(ti),Object.defineProperty(ti.prototype,"$isServer",{get:le}),Object.defineProperty(ti.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(ti,"FunctionalRenderContext",{value:ks}),ti.version="2.7.16";var ui=y("style,class"),hi=y("input,textarea,option,select,progress"),di=y("contenteditable,draggable,spellcheck"),pi=y("events,caret,typing,plaintext-only"),mi=y("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),fi="http://www.w3.org/1999/xlink",vi=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},gi=function(e){return vi(e)?e.slice(6,e.length):""},_i=function(e){return null==e||!1===e};function bi(e){for(var t=e.data,s=e,i=e;o(i.componentInstance);)(i=i.componentInstance._vnode)&&i.data&&(t=yi(i.data,t));for(;o(s=s.parent);)s&&s.data&&(t=yi(t,s.data));return function(e,t){if(o(e)||o(t))return $i(e,wi(t));return""}(t.staticClass,t.class)}function yi(e,t){return{staticClass:$i(e.staticClass,t.staticClass),class:o(e.class)?[e.class,t.class]:t.class}}function $i(e,t){return e?t?e+" "+t:e:t||""}function wi(e){return Array.isArray(e)?function(e){for(var t,s="",i=0,n=e.length;i<n;i++)o(t=wi(e[i]))&&""!==t&&(s&&(s+=" "),s+=t);return s}(e):h(e)?function(e){var t="";for(var s in e)e[s]&&(t&&(t+=" "),t+=s);return t}(e):"string"==typeof e?e:""}var ki={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Ci=y("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),xi=y("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Ti=function(e){return Ci(e)||xi(e)};var Si=Object.create(null);var Oi=y("text,number,password,search,email,tel,url");var Ei=Object.freeze({__proto__:null,createElement:function(e,t){var s=document.createElement(e);return"select"!==e||t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&s.setAttribute("multiple","multiple"),s},createElementNS:function(e,t){return document.createElementNS(ki[e],t)},createTextNode:function(e){return document.createTextNode(e)},createComment:function(e){return document.createComment(e)},insertBefore:function(e,t,s){e.insertBefore(t,s)},removeChild:function(e,t){e.removeChild(t)},appendChild:function(e,t){e.appendChild(t)},parentNode:function(e){return e.parentNode},nextSibling:function(e){return e.nextSibling},tagName:function(e){return e.tagName},setTextContent:function(e,t){e.textContent=t},setStyleScope:function(e,t){e.setAttribute(t,"")}}),ji={create:function(e,t){Ni(t)},update:function(e,t){e.data.ref!==t.data.ref&&(Ni(e,!0),Ni(t))},destroy:function(e){Ni(e,!0)}};function Ni(e,t){var s=e.data.ref;if(o(s)){var i=e.context,n=e.componentInstance||e.elm,r=t?null:n,l=t?void 0:n;if(u(s))It(s,i,[r],i,"template ref function");else{var c=e.data.refInFor,h="string"==typeof s||"number"==typeof s,d=Me(s),p=i.$refs;if(h||d)if(c){var m=h?p[s]:s.value;t?a(m)&&w(m,n):a(m)?m.includes(n)||m.push(n):h?(p[s]=[n],Pi(i,s,p[s])):s.value=[n]}else if(h){if(t&&p[s]!==n)return;p[s]=l,Pi(i,s,r)}else if(d){if(t&&s.value!==n)return;s.value=r}else 0}}}function Pi(e,t,s){var i=e._setupState;i&&C(i,t)&&(Me(i[t])?i[t].value=s:i[t]=s)}var Ai=new fe("",{},[]),Ii=["create","activate","update","remove","destroy"];function Ri(e,t){return e.key===t.key&&e.asyncFactory===t.asyncFactory&&(e.tag===t.tag&&e.isComment===t.isComment&&o(e.data)===o(t.data)&&function(e,t){if("input"!==e.tag)return!0;var s,i=o(s=e.data)&&o(s=s.attrs)&&s.type,n=o(s=t.data)&&o(s=s.attrs)&&s.type;return i===n||Oi(i)&&Oi(n)}(e,t)||l(e.isAsyncPlaceholder)&&r(t.asyncFactory.error))}function Di(e,t,s){var i,n,a={};for(i=t;i<=s;++i)o(n=e[i].key)&&(a[n]=i);return a}var Fi={create:Li,update:Li,destroy:function(e){Li(e,Ai)}};function Li(e,t){(e.data.directives||t.data.directives)&&function(e,t){var s,i,n,a=e===Ai,r=t===Ai,o=Ui(e.data.directives,e.context),l=Ui(t.data.directives,t.context),c=[],u=[];for(s in l)i=o[s],n=l[s],i?(n.oldValue=i.value,n.oldArg=i.arg,Bi(n,"update",t,e),n.def&&n.def.componentUpdated&&u.push(n)):(Bi(n,"bind",t,e),n.def&&n.def.inserted&&c.push(n));if(c.length){var h=function(){for(var s=0;s<c.length;s++)Bi(c[s],"inserted",t,e)};a?Ye(t,"insert",h):h()}u.length&&Ye(t,"postpatch",(function(){for(var s=0;s<u.length;s++)Bi(u[s],"componentUpdated",t,e)}));if(!a)for(s in o)l[s]||Bi(o[s],"unbind",e,e,r)}(e,t)}var Hi=Object.create(null);function Ui(e,t){var s,i,n=Object.create(null);if(!e)return n;for(s=0;s<e.length;s++){if((i=e[s]).modifiers||(i.modifiers=Hi),n[Mi(i)]=i,t._setupState&&t._setupState.__sfc){var a=i.def||Hs(t,"_setupState","v-"+i.name);i.def="function"==typeof a?{bind:a,update:a}:a}i.def=i.def||Hs(t.$options,"directives",i.name)}return n}function Mi(e){return e.rawName||"".concat(e.name,".").concat(Object.keys(e.modifiers||{}).join("."))}function Bi(e,t,s,i,n){var a=e.def&&e.def[t];if(a)try{a(s.elm,e,s,i,n)}catch(i){At(i,s.context,"directive ".concat(e.name," ").concat(t," hook"))}}var zi=[ji,Fi];function Vi(e,t){var s=t.componentOptions;if(!(o(s)&&!1===s.Ctor.options.inheritAttrs||r(e.data.attrs)&&r(t.data.attrs))){var i,n,a=t.elm,c=e.data.attrs||{},u=t.data.attrs||{};for(i in(o(u.__ob__)||l(u._v_attr_proxy))&&(u=t.data.attrs=A({},u)),u)n=u[i],c[i]!==n&&Gi(a,i,n,t.data.pre);for(i in(Q||te)&&u.value!==c.value&&Gi(a,"value",u.value),c)r(u[i])&&(vi(i)?a.removeAttributeNS(fi,gi(i)):di(i)||a.removeAttribute(i))}}function Gi(e,t,s,i){i||e.tagName.indexOf("-")>-1?Ki(e,t,s):mi(t)?_i(s)?e.removeAttribute(t):(s="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,s)):di(t)?e.setAttribute(t,function(e,t){return _i(t)||"false"===t?"false":"contenteditable"===e&&pi(t)?t:"true"}(t,s)):vi(t)?_i(s)?e.removeAttributeNS(fi,gi(t)):e.setAttributeNS(fi,t,s):Ki(e,t,s)}function Ki(e,t,s){if(_i(s))e.removeAttribute(t);else{if(Q&&!ee&&"TEXTAREA"===e.tagName&&"placeholder"===t&&""!==s&&!e.__ieph){var i=function(t){t.stopImmediatePropagation(),e.removeEventListener("input",i)};e.addEventListener("input",i),e.__ieph=!0}e.setAttribute(t,s)}}var qi={create:Vi,update:Vi};function Ji(e,t){var s=t.elm,i=t.data,n=e.data;if(!(r(i.staticClass)&&r(i.class)&&(r(n)||r(n.staticClass)&&r(n.class)))){var a=bi(t),l=s._transitionClasses;o(l)&&(a=$i(a,wi(l))),a!==s._prevClass&&(s.setAttribute("class",a),s._prevClass=a)}}var Wi,Yi={create:Ji,update:Ji},Xi="__r",Zi="__c";function Qi(e,t,s){var i=Wi;return function n(){null!==t.apply(null,arguments)&&sn(e,n,s,i)}}var en=Lt&&!(ne&&Number(ne[1])<=53);function tn(e,t,s,i){if(en){var n=vs,a=t;t=a._wrapper=function(e){if(e.target===e.currentTarget||e.timeStamp>=n||e.timeStamp<=0||e.target.ownerDocument!==document)return a.apply(this,arguments)}}Wi.addEventListener(e,t,re?{capture:s,passive:i}:s)}function sn(e,t,s,i){(i||Wi).removeEventListener(e,t._wrapper||t,s)}function nn(e,t){if(!r(e.data.on)||!r(t.data.on)){var s=t.data.on||{},i=e.data.on||{};Wi=t.elm||e.elm,function(e){if(o(e[Xi])){var t=Q?"change":"input";e[t]=[].concat(e[Xi],e[t]||[]),delete e[Xi]}o(e[Zi])&&(e.change=[].concat(e[Zi],e.change||[]),delete e[Zi])}(s),We(s,i,tn,sn,Qi,t.context),Wi=void 0}}var an,rn={create:nn,update:nn,destroy:function(e){return nn(e,Ai)}};function on(e,t){if(!r(e.data.domProps)||!r(t.data.domProps)){var s,i,n=t.elm,a=e.data.domProps||{},c=t.data.domProps||{};for(s in(o(c.__ob__)||l(c._v_attr_proxy))&&(c=t.data.domProps=A({},c)),a)s in c||(n[s]="");for(s in c){if(i=c[s],"textContent"===s||"innerHTML"===s){if(t.children&&(t.children.length=0),i===a[s])continue;1===n.childNodes.length&&n.removeChild(n.childNodes[0])}if("value"===s&&"PROGRESS"!==n.tagName){n._value=i;var u=r(i)?"":String(i);ln(n,u)&&(n.value=u)}else if("innerHTML"===s&&xi(n.tagName)&&r(n.innerHTML)){(an=an||document.createElement("div")).innerHTML="<svg>".concat(i,"</svg>");for(var h=an.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;h.firstChild;)n.appendChild(h.firstChild)}else if(i!==a[s])try{n[s]=i}catch(e){}}}}function ln(e,t){return!e.composing&&("OPTION"===e.tagName||function(e,t){var s=!0;try{s=document.activeElement!==e}catch(e){}return s&&e.value!==t}(e,t)||function(e,t){var s=e.value,i=e._vModifiers;if(o(i)){if(i.number)return b(s)!==b(t);if(i.trim)return s.trim()!==t.trim()}return s!==t}(e,t))}var cn={create:on,update:on},un=x((function(e){var t={},s=/:(.+)/;return e.split(/;(?![^(]*\))/g).forEach((function(e){if(e){var i=e.split(s);i.length>1&&(t[i[0].trim()]=i[1].trim())}})),t}));function hn(e){var t=dn(e.style);return e.staticStyle?A(e.staticStyle,t):t}function dn(e){return Array.isArray(e)?I(e):"string"==typeof e?un(e):e}var pn,mn=/^--/,fn=/\s*!important$/,vn=function(e,t,s){if(mn.test(t))e.style.setProperty(t,s);else if(fn.test(s))e.style.setProperty(j(t),s.replace(fn,""),"important");else{var i=_n(t);if(Array.isArray(s))for(var n=0,a=s.length;n<a;n++)e.style[i]=s[n];else e.style[i]=s}},gn=["Webkit","Moz","ms"],_n=x((function(e){if(pn=pn||document.createElement("div").style,"filter"!==(e=S(e))&&e in pn)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),s=0;s<gn.length;s++){var i=gn[s]+t;if(i in pn)return i}}));function bn(e,t){var s=t.data,i=e.data;if(!(r(s.staticStyle)&&r(s.style)&&r(i.staticStyle)&&r(i.style))){var n,a,l=t.elm,c=i.staticStyle,u=i.normalizedStyle||i.style||{},h=c||u,d=dn(t.data.style)||{};t.data.normalizedStyle=o(d.__ob__)?A({},d):d;var p=function(e,t){var s,i={};if(t)for(var n=e;n.componentInstance;)(n=n.componentInstance._vnode)&&n.data&&(s=hn(n.data))&&A(i,s);(s=hn(e.data))&&A(i,s);for(var a=e;a=a.parent;)a.data&&(s=hn(a.data))&&A(i,s);return i}(t,!0);for(a in h)r(p[a])&&vn(l,a,"");for(a in p)n=p[a],vn(l,a,null==n?"":n)}}var yn={create:bn,update:bn},$n=/\s+/;function wn(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split($n).forEach((function(t){return e.classList.add(t)})):e.classList.add(t);else{var s=" ".concat(e.getAttribute("class")||""," ");s.indexOf(" "+t+" ")<0&&e.setAttribute("class",(s+t).trim())}}function kn(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split($n).forEach((function(t){return e.classList.remove(t)})):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{for(var s=" ".concat(e.getAttribute("class")||""," "),i=" "+t+" ";s.indexOf(i)>=0;)s=s.replace(i," ");(s=s.trim())?e.setAttribute("class",s):e.removeAttribute("class")}}function Cn(e){if(e){if("object"==typeof e){var t={};return!1!==e.css&&A(t,xn(e.name||"v")),A(t,e),t}return"string"==typeof e?xn(e):void 0}}var xn=x((function(e){return{enterClass:"".concat(e,"-enter"),enterToClass:"".concat(e,"-enter-to"),enterActiveClass:"".concat(e,"-enter-active"),leaveClass:"".concat(e,"-leave"),leaveToClass:"".concat(e,"-leave-to"),leaveActiveClass:"".concat(e,"-leave-active")}})),Tn=X&&!ee,Sn="transition",On="animation",En="transition",jn="transitionend",Nn="animation",Pn="animationend";Tn&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(En="WebkitTransition",jn="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Nn="WebkitAnimation",Pn="webkitAnimationEnd"));var An=X?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function In(e){An((function(){An(e)}))}function Rn(e,t){var s=e._transitionClasses||(e._transitionClasses=[]);s.indexOf(t)<0&&(s.push(t),wn(e,t))}function Dn(e,t){e._transitionClasses&&w(e._transitionClasses,t),kn(e,t)}function Fn(e,t,s){var i=Hn(e,t),n=i.type,a=i.timeout,r=i.propCount;if(!n)return s();var o=n===Sn?jn:Pn,l=0,c=function(){e.removeEventListener(o,u),s()},u=function(t){t.target===e&&++l>=r&&c()};setTimeout((function(){l<r&&c()}),a+1),e.addEventListener(o,u)}var Ln=/\b(transform|all)(,|$)/;function Hn(e,t){var s,i=window.getComputedStyle(e),n=(i[En+"Delay"]||"").split(", "),a=(i[En+"Duration"]||"").split(", "),r=Un(n,a),o=(i[Nn+"Delay"]||"").split(", "),l=(i[Nn+"Duration"]||"").split(", "),c=Un(o,l),u=0,h=0;return t===Sn?r>0&&(s=Sn,u=r,h=a.length):t===On?c>0&&(s=On,u=c,h=l.length):h=(s=(u=Math.max(r,c))>0?r>c?Sn:On:null)?s===Sn?a.length:l.length:0,{type:s,timeout:u,propCount:h,hasTransform:s===Sn&&Ln.test(i[En+"Property"])}}function Un(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(null,t.map((function(t,s){return Mn(t)+Mn(e[s])})))}function Mn(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function Bn(e,t){var s=e.elm;o(s._leaveCb)&&(s._leaveCb.cancelled=!0,s._leaveCb());var i=Cn(e.data.transition);if(!r(i)&&!o(s._enterCb)&&1===s.nodeType){for(var n=i.css,a=i.type,l=i.enterClass,c=i.enterToClass,d=i.enterActiveClass,p=i.appearClass,m=i.appearToClass,f=i.appearActiveClass,v=i.beforeEnter,g=i.enter,_=i.afterEnter,y=i.enterCancelled,$=i.beforeAppear,w=i.appear,k=i.afterAppear,C=i.appearCancelled,x=i.duration,T=ns,S=ns.$vnode;S&&S.parent;)T=S.context,S=S.parent;var O=!T._isMounted||!e.isRootInsert;if(!O||w||""===w){var E=O&&p?p:l,j=O&&f?f:d,N=O&&m?m:c,P=O&&$||v,A=O&&u(w)?w:g,I=O&&k||_,R=O&&C||y,D=b(h(x)?x.enter:x);0;var F=!1!==n&&!ee,L=Gn(A),H=s._enterCb=U((function(){F&&(Dn(s,N),Dn(s,j)),H.cancelled?(F&&Dn(s,E),R&&R(s)):I&&I(s),s._enterCb=null}));e.data.show||Ye(e,"insert",(function(){var t=s.parentNode,i=t&&t._pending&&t._pending[e.key];i&&i.tag===e.tag&&i.elm._leaveCb&&i.elm._leaveCb(),A&&A(s,H)})),P&&P(s),F&&(Rn(s,E),Rn(s,j),In((function(){Dn(s,E),H.cancelled||(Rn(s,N),L||(Vn(D)?setTimeout(H,D):Fn(s,a,H)))}))),e.data.show&&(t&&t(),A&&A(s,H)),F||L||H()}}}function zn(e,t){var s=e.elm;o(s._enterCb)&&(s._enterCb.cancelled=!0,s._enterCb());var i=Cn(e.data.transition);if(r(i)||1!==s.nodeType)return t();if(!o(s._leaveCb)){var n=i.css,a=i.type,l=i.leaveClass,c=i.leaveToClass,u=i.leaveActiveClass,d=i.beforeLeave,p=i.leave,m=i.afterLeave,f=i.leaveCancelled,v=i.delayLeave,g=i.duration,_=!1!==n&&!ee,y=Gn(p),$=b(h(g)?g.leave:g);0;var w=s._leaveCb=U((function(){s.parentNode&&s.parentNode._pending&&(s.parentNode._pending[e.key]=null),_&&(Dn(s,c),Dn(s,u)),w.cancelled?(_&&Dn(s,l),f&&f(s)):(t(),m&&m(s)),s._leaveCb=null}));v?v(k):k()}function k(){w.cancelled||(!e.data.show&&s.parentNode&&((s.parentNode._pending||(s.parentNode._pending={}))[e.key]=e),d&&d(s),_&&(Rn(s,l),Rn(s,u),In((function(){Dn(s,l),w.cancelled||(Rn(s,c),y||(Vn($)?setTimeout(w,$):Fn(s,a,w)))}))),p&&p(s,w),_||y||w())}}function Vn(e){return"number"==typeof e&&!isNaN(e)}function Gn(e){if(r(e))return!1;var t=e.fns;return o(t)?Gn(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function Kn(e,t){!0!==t.data.show&&Bn(t)}var qn=function(e){var t,s,i={},n=e.modules,u=e.nodeOps;for(t=0;t<Ii.length;++t)for(i[Ii[t]]=[],s=0;s<n.length;++s)o(n[s][Ii[t]])&&i[Ii[t]].push(n[s][Ii[t]]);function h(e){var t=u.parentNode(e);o(t)&&u.removeChild(t,e)}function d(e,t,s,n,a,r,c){if(o(e.elm)&&o(r)&&(e=r[c]=_e(e)),e.isRootInsert=!a,!function(e,t,s,n){var a=e.data;if(o(a)){var r=o(e.componentInstance)&&a.keepAlive;if(o(a=a.hook)&&o(a=a.init)&&a(e,!1),o(e.componentInstance))return p(e,t),m(s,e.elm,n),l(r)&&function(e,t,s,n){var a,r=e;for(;r.componentInstance;)if(o(a=(r=r.componentInstance._vnode).data)&&o(a=a.transition)){for(a=0;a<i.activate.length;++a)i.activate[a](Ai,r);t.push(r);break}m(s,e.elm,n)}(e,t,s,n),!0}}(e,t,s,n)){var h=e.data,d=e.children,v=e.tag;o(v)?(e.elm=e.ns?u.createElementNS(e.ns,v):u.createElement(v,e),_(e),f(e,d,t),o(h)&&g(e,t),m(s,e.elm,n)):l(e.isComment)?(e.elm=u.createComment(e.text),m(s,e.elm,n)):(e.elm=u.createTextNode(e.text),m(s,e.elm,n))}}function p(e,t){o(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,v(e)?(g(e,t),_(e)):(Ni(e),t.push(e))}function m(e,t,s){o(e)&&(o(s)?u.parentNode(s)===e&&u.insertBefore(e,t,s):u.appendChild(e,t))}function f(e,t,s){if(a(t)){0;for(var i=0;i<t.length;++i)d(t[i],s,e.elm,null,!0,t,i)}else c(e.text)&&u.appendChild(e.elm,u.createTextNode(String(e.text)))}function v(e){for(;e.componentInstance;)e=e.componentInstance._vnode;return o(e.tag)}function g(e,s){for(var n=0;n<i.create.length;++n)i.create[n](Ai,e);o(t=e.data.hook)&&(o(t.create)&&t.create(Ai,e),o(t.insert)&&s.push(e))}function _(e){var t;if(o(t=e.fnScopeId))u.setStyleScope(e.elm,t);else for(var s=e;s;)o(t=s.context)&&o(t=t.$options._scopeId)&&u.setStyleScope(e.elm,t),s=s.parent;o(t=ns)&&t!==e.context&&t!==e.fnContext&&o(t=t.$options._scopeId)&&u.setStyleScope(e.elm,t)}function b(e,t,s,i,n,a){for(;i<=n;++i)d(s[i],a,e,t,!1,s,i)}function $(e){var t,s,n=e.data;if(o(n))for(o(t=n.hook)&&o(t=t.destroy)&&t(e),t=0;t<i.destroy.length;++t)i.destroy[t](e);if(o(t=e.children))for(s=0;s<e.children.length;++s)$(e.children[s])}function w(e,t,s){for(;t<=s;++t){var i=e[t];o(i)&&(o(i.tag)?(k(i),$(i)):h(i.elm))}}function k(e,t){if(o(t)||o(e.data)){var s,n=i.remove.length+1;for(o(t)?t.listeners+=n:t=function(e,t){function s(){0==--s.listeners&&h(e)}return s.listeners=t,s}(e.elm,n),o(s=e.componentInstance)&&o(s=s._vnode)&&o(s.data)&&k(s,t),s=0;s<i.remove.length;++s)i.remove[s](e,t);o(s=e.data.hook)&&o(s=s.remove)?s(e,t):t()}else h(e.elm)}function C(e,t,s,i){for(var n=s;n<i;n++){var a=t[n];if(o(a)&&Ri(e,a))return n}}function x(e,t,s,n,a,c){if(e!==t){o(t.elm)&&o(n)&&(t=n[a]=_e(t));var h=t.elm=e.elm;if(l(e.isAsyncPlaceholder))o(t.asyncFactory.resolved)?O(e.elm,t,s):t.isAsyncPlaceholder=!0;else if(l(t.isStatic)&&l(e.isStatic)&&t.key===e.key&&(l(t.isCloned)||l(t.isOnce)))t.componentInstance=e.componentInstance;else{var p,m=t.data;o(m)&&o(p=m.hook)&&o(p=p.prepatch)&&p(e,t);var f=e.children,g=t.children;if(o(m)&&v(t)){for(p=0;p<i.update.length;++p)i.update[p](e,t);o(p=m.hook)&&o(p=p.update)&&p(e,t)}r(t.text)?o(f)&&o(g)?f!==g&&function(e,t,s,i,n){var a,l,c,h=0,p=0,m=t.length-1,f=t[0],v=t[m],g=s.length-1,_=s[0],y=s[g],$=!n;for(;h<=m&&p<=g;)r(f)?f=t[++h]:r(v)?v=t[--m]:Ri(f,_)?(x(f,_,i,s,p),f=t[++h],_=s[++p]):Ri(v,y)?(x(v,y,i,s,g),v=t[--m],y=s[--g]):Ri(f,y)?(x(f,y,i,s,g),$&&u.insertBefore(e,f.elm,u.nextSibling(v.elm)),f=t[++h],y=s[--g]):Ri(v,_)?(x(v,_,i,s,p),$&&u.insertBefore(e,v.elm,f.elm),v=t[--m],_=s[++p]):(r(a)&&(a=Di(t,h,m)),r(l=o(_.key)?a[_.key]:C(_,t,h,m))?d(_,i,e,f.elm,!1,s,p):Ri(c=t[l],_)?(x(c,_,i,s,p),t[l]=void 0,$&&u.insertBefore(e,c.elm,f.elm)):d(_,i,e,f.elm,!1,s,p),_=s[++p]);h>m?b(e,r(s[g+1])?null:s[g+1].elm,s,p,g,i):p>g&&w(t,h,m)}(h,f,g,s,c):o(g)?(o(e.text)&&u.setTextContent(h,""),b(h,null,g,0,g.length-1,s)):o(f)?w(f,0,f.length-1):o(e.text)&&u.setTextContent(h,""):e.text!==t.text&&u.setTextContent(h,t.text),o(m)&&o(p=m.hook)&&o(p=p.postpatch)&&p(e,t)}}}function T(e,t,s){if(l(s)&&o(e.parent))e.parent.data.pendingInsert=t;else for(var i=0;i<t.length;++i)t[i].data.hook.insert(t[i])}var S=y("attrs,class,staticClass,staticStyle,key");function O(e,t,s,i){var n,a=t.tag,r=t.data,c=t.children;if(i=i||r&&r.pre,t.elm=e,l(t.isComment)&&o(t.asyncFactory))return t.isAsyncPlaceholder=!0,!0;if(o(r)&&(o(n=r.hook)&&o(n=n.init)&&n(t,!0),o(n=t.componentInstance)))return p(t,s),!0;if(o(a)){if(o(c))if(e.hasChildNodes())if(o(n=r)&&o(n=n.domProps)&&o(n=n.innerHTML)){if(n!==e.innerHTML)return!1}else{for(var u=!0,h=e.firstChild,d=0;d<c.length;d++){if(!h||!O(h,c[d],s,i)){u=!1;break}h=h.nextSibling}if(!u||h)return!1}else f(t,c,s);if(o(r)){var m=!1;for(var v in r)if(!S(v)){m=!0,g(t,s);break}!m&&r.class&&Wt(r.class)}}else e.data!==t.text&&(e.data=t.text);return!0}return function(e,t,s,n){if(!r(t)){var a,c=!1,h=[];if(r(e))c=!0,d(t,h);else{var p=o(e.nodeType);if(!p&&Ri(e,t))x(e,t,h,null,null,n);else{if(p){if(1===e.nodeType&&e.hasAttribute(B)&&(e.removeAttribute(B),s=!0),l(s)&&O(e,t,h))return T(t,h,!0),e;a=e,e=new fe(u.tagName(a).toLowerCase(),{},[],void 0,a)}var m=e.elm,f=u.parentNode(m);if(d(t,h,m._leaveCb?null:f,u.nextSibling(m)),o(t.parent))for(var g=t.parent,_=v(t);g;){for(var b=0;b<i.destroy.length;++b)i.destroy[b](g);if(g.elm=t.elm,_){for(var y=0;y<i.create.length;++y)i.create[y](Ai,g);var k=g.data.hook.insert;if(k.merged)for(var C=k.fns.slice(1),S=0;S<C.length;S++)C[S]()}else Ni(g);g=g.parent}o(f)?w([e],0,0):o(e.tag)&&$(e)}}return T(t,h,c),t.elm}o(e)&&$(e)}}({nodeOps:Ei,modules:[qi,Yi,rn,cn,yn,X?{create:Kn,activate:Kn,remove:function(e,t){!0!==e.data.show?zn(e,t):t()}}:{}].concat(zi)});ee&&document.addEventListener("selectionchange",(function(){var e=document.activeElement;e&&e.vmodel&&ta(e,"input")}));var Jn={inserted:function(e,t,s,i){"select"===s.tag?(i.elm&&!i.elm._vOptions?Ye(s,"postpatch",(function(){Jn.componentUpdated(e,t,s)})):Wn(e,t,s.context),e._vOptions=[].map.call(e.options,Zn)):("textarea"===s.tag||Oi(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("compositionstart",Qn),e.addEventListener("compositionend",ea),e.addEventListener("change",ea),ee&&(e.vmodel=!0)))},componentUpdated:function(e,t,s){if("select"===s.tag){Wn(e,t,s.context);var i=e._vOptions,n=e._vOptions=[].map.call(e.options,Zn);if(n.some((function(e,t){return!L(e,i[t])})))(e.multiple?t.value.some((function(e){return Xn(e,n)})):t.value!==t.oldValue&&Xn(t.value,n))&&ta(e,"change")}}};function Wn(e,t,s){Yn(e,t,s),(Q||te)&&setTimeout((function(){Yn(e,t,s)}),0)}function Yn(e,t,s){var i=t.value,n=e.multiple;if(!n||Array.isArray(i)){for(var a,r,o=0,l=e.options.length;o<l;o++)if(r=e.options[o],n)a=H(i,Zn(r))>-1,r.selected!==a&&(r.selected=a);else if(L(Zn(r),i))return void(e.selectedIndex!==o&&(e.selectedIndex=o));n||(e.selectedIndex=-1)}}function Xn(e,t){return t.every((function(t){return!L(t,e)}))}function Zn(e){return"_value"in e?e._value:e.value}function Qn(e){e.target.composing=!0}function ea(e){e.target.composing&&(e.target.composing=!1,ta(e.target,"input"))}function ta(e,t){var s=document.createEvent("HTMLEvents");s.initEvent(t,!0,!0),e.dispatchEvent(s)}function sa(e){return!e.componentInstance||e.data&&e.data.transition?e:sa(e.componentInstance._vnode)}var ia={bind:function(e,t,s){var i=t.value,n=(s=sa(s)).data&&s.data.transition,a=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;i&&n?(s.data.show=!0,Bn(s,(function(){e.style.display=a}))):e.style.display=i?a:"none"},update:function(e,t,s){var i=t.value;!i!=!t.oldValue&&((s=sa(s)).data&&s.data.transition?(s.data.show=!0,i?Bn(s,(function(){e.style.display=e.__vOriginalDisplay})):zn(s,(function(){e.style.display="none"}))):e.style.display=i?e.__vOriginalDisplay:"none")},unbind:function(e,t,s,i,n){n||(e.style.display=e.__vOriginalDisplay)}},na={model:Jn,show:ia},aa={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function ra(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?ra(Ot(t.children)):e}function oa(e){var t={},s=e.$options;for(var i in s.propsData)t[i]=e[i];var n=s._parentListeners;for(var i in n)t[S(i)]=n[i];return t}function la(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}var ca=function(e){return e.tag||_t(e)},ua=function(e){return"show"===e.name},ha={name:"transition",props:aa,abstract:!0,render:function(e){var t=this,s=this.$slots.default;if(s&&(s=s.filter(ca)).length){0;var i=this.mode;0;var n=s[0];if(function(e){for(;e=e.parent;)if(e.data.transition)return!0}(this.$vnode))return n;var a=ra(n);if(!a)return n;if(this._leaving)return la(e,n);var r="__transition-".concat(this._uid,"-");a.key=null==a.key?a.isComment?r+"comment":r+a.tag:c(a.key)?0===String(a.key).indexOf(r)?a.key:r+a.key:a.key;var o=(a.data||(a.data={})).transition=oa(this),l=this._vnode,u=ra(l);if(a.data.directives&&a.data.directives.some(ua)&&(a.data.show=!0),u&&u.data&&!function(e,t){return t.key===e.key&&t.tag===e.tag}(a,u)&&!_t(u)&&(!u.componentInstance||!u.componentInstance._vnode.isComment)){var h=u.data.transition=A({},o);if("out-in"===i)return this._leaving=!0,Ye(h,"afterLeave",(function(){t._leaving=!1,t.$forceUpdate()})),la(e,n);if("in-out"===i){if(_t(a))return l;var d,p=function(){d()};Ye(o,"afterEnter",p),Ye(o,"enterCancelled",p),Ye(h,"delayLeave",(function(e){d=e}))}}return n}}},da=A({tag:String,moveClass:String},aa);delete da.mode;var pa={props:da,beforeMount:function(){var e=this,t=this._update;this._update=function(s,i){var n=as(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,n(),t.call(e,s,i)}},render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",s=Object.create(null),i=this.prevChildren=this.children,n=this.$slots.default||[],a=this.children=[],r=oa(this),o=0;o<n.length;o++){if((u=n[o]).tag)if(null!=u.key&&0!==String(u.key).indexOf("__vlist"))a.push(u),s[u.key]=u,(u.data||(u.data={})).transition=r;else;}if(i){var l=[],c=[];for(o=0;o<i.length;o++){var u;(u=i[o]).data.transition=r,u.data.pos=u.elm.getBoundingClientRect(),s[u.key]?l.push(u):c.push(u)}this.kept=e(t,null,l),this.removed=c}return e(t,null,a)},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,t)&&(e.forEach(ma),e.forEach(fa),e.forEach(va),this._reflow=document.body.offsetHeight,e.forEach((function(e){if(e.data.moved){var s=e.elm,i=s.style;Rn(s,t),i.transform=i.WebkitTransform=i.transitionDuration="",s.addEventListener(jn,s._moveCb=function e(i){i&&i.target!==s||i&&!/transform$/.test(i.propertyName)||(s.removeEventListener(jn,e),s._moveCb=null,Dn(s,t))})}})))},methods:{hasMove:function(e,t){if(!Tn)return!1;if(this._hasMove)return this._hasMove;var s=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach((function(e){kn(s,e)})),wn(s,t),s.style.display="none",this.$el.appendChild(s);var i=Hn(s);return this.$el.removeChild(s),this._hasMove=i.hasTransform}}};function ma(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function fa(e){e.data.newPos=e.elm.getBoundingClientRect()}function va(e){var t=e.data.pos,s=e.data.newPos,i=t.left-s.left,n=t.top-s.top;if(i||n){e.data.moved=!0;var a=e.elm.style;a.transform=a.WebkitTransform="translate(".concat(i,"px,").concat(n,"px)"),a.transitionDuration="0s"}}var ga={Transition:ha,TransitionGroup:pa};ti.config.mustUseProp=function(e,t,s){return"value"===s&&hi(e)&&"button"!==t||"selected"===s&&"option"===e||"checked"===s&&"input"===e||"muted"===s&&"video"===e},ti.config.isReservedTag=Ti,ti.config.isReservedAttr=ui,ti.config.getTagNamespace=function(e){return xi(e)?"svg":"math"===e?"math":void 0},ti.config.isUnknownElement=function(e){if(!X)return!0;if(Ti(e))return!1;if(e=e.toLowerCase(),null!=Si[e])return Si[e];var t=document.createElement(e);return e.indexOf("-")>-1?Si[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:Si[e]=/HTMLUnknownElement/.test(t.toString())},A(ti.options.directives,na),A(ti.options.components,ga),ti.prototype.__patch__=X?qn:R,ti.prototype.$mount=function(e,t){return function(e,t,s){var i;e.$el=t,e.$options.render||(e.$options.render=ve),cs(e,"beforeMount"),i=function(){e._update(e._render(),s)},new Qt(e,i,R,{before:function(){e._isMounted&&!e._isDestroyed&&cs(e,"beforeUpdate")}},!0),s=!1;var n=e._preWatchers;if(n)for(var a=0;a<n.length;a++)n[a].run();return null==e.$vnode&&(e._isMounted=!0,cs(e,"mounted")),e}(this,e=e&&X?function(e){if("string"==typeof e){return document.querySelector(e)||document.createElement("div")}return e}(e):void 0,t)},X&&setTimeout((function(){G.devtools&&ce&&ce.emit("init",ti)}),0);var _a=function(){var e=this,t=e._self._c;return t("section",{staticClass:"section",attrs:{id:"app"},on:{click:function(t){return e.edelegate(t)}}},[t("hold"),e._v(" "),t("message"),e._v(" "),t("evui"),e._v(" "),t("asider",{staticClass:"sider",class:{"sider--collapsed":e.collapsed,"sider--mobile":e.sidermobile}},[t("div",{staticClass:"sider_main"},[t("div",{staticClass:"logo"},[t("a",{staticClass:"logo_a",attrs:{href:"https://github.com/elecV2/elecV2P",target:"elecV2PGit"}},[t("img",{staticClass:"logo_src",attrs:{src:e.logo_src,alt:e.logo_name},on:{error:function(t){return e.srcErr()}}}),e._v(" "),t("span",{staticClass:"logo_name"},[e._v(e._s(e.logo_name))])])]),e._v(" "),t("ul",{staticClass:"menu"},e._l(e.navlist,(function(s,i){return t("li",{key:i,staticClass:"menu_item",class:{"menu_item--selected":e.currentpanel==i},on:{click:function(t){return e.nav(i)}}},[t("span",{staticClass:"icon",domProps:{innerHTML:e._s(e.icon[i])}}),e._v(" "),t("span",{staticClass:"menu_text fadein"},[e._v(e._s(s.name||i.toUpperCase()))])])})),0)]),e._v(" "),t("div",{staticClass:"sider_trigger sider_trigger--mini",class:{"sider_trigger--collapsed":e.collapsed},on:{click:function(t){e.collapsed=!e.collapsed}}},[t("span",[e._v(e._s(e.collapsed?">":"<"))])]),e._v(" "),t("div",{staticClass:"sider_trigger sider_trigger--mobile",on:{click:function(t){e.sidermobile=!e.sidermobile}}},[t("span",[e._v(e._s(e.sidermobile?"☰":"X"))])])]),e._v(" "),t("keep-alive",[t(e.currentpanel,{tag:"panel",staticClass:"section",on:{menunav:e.menunav,theme:e.themeApply}})],1)],1)};_a._withStripped=!0;const ba=s.p+"3a67c6573243e7be6b9246ac6542ae72.png";var ya=function(){var e=this,t=e._self._c;return t("section",[t("header",{staticClass:"header"},[e._v(e._s(e.$t("overview")))]),e._v(" "),t("main",{staticClass:"content"},[t("div",{staticClass:"overview"},[t("div",{staticClass:"overview_ports"},[t("a",{staticClass:"overview_item overview_item--big",attrs:{href:"./logs/",target:e.isPwa?"_self":"elecV2PLOGS"}},[e._v(e._s(e.$t("logs_of_script")))]),e._v(" "),t("a",{staticClass:"overview_item overview_item--big",attrs:{href:"./efss/",target:e.isPwa?"_self":"elecV2PEFSS"}},[e._v(e._s(e.$t("efss_file_manage")))]),e._v(" "),t("div",{staticClass:"overview_item overview_item--big",class:{"overview_item--disable":!e.anyproxy.enable},attrs:{title:"双击打开/关闭（代理端口不是网页，不能直接访问）"}},[t("span",{directives:[{name:"show",rawName:"v-show",value:e.eopbtn.open,expression:"eopbtn.open"}],staticClass:"overview_btn",on:{click:function(t){return e.eproxyToggle("open")}}},[e._v(e._s(e.$t("open")))]),e._v(" "),t("span",{on:{click:function(t){return e.eproxyBtn()},dblclick:function(t){return e.eproxyToggle()}}},[e._v("ANYPROXY "+e._s(e.$t("port"))+": "+e._s(e.anyproxy.port))]),e._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:e.eopbtn.close,expression:"eopbtn.close"}],staticClass:"overview_btn overview_btn--close",on:{click:function(t){return e.eproxyToggle("close")}}},[e._v(e._s(e.$t("close")))])]),e._v(" "),t("div",{staticClass:"overview_item overview_item--big",class:{"overview_item--disable":!e.anyproxy.enable},on:{click:function(t){return e.webifOpen()}}},[e._v("ANYPROXY "+e._s(e.$t("logs"))+": "+e._s(e.anyproxy.webPort))])]),e._v(" "),t("div",{staticClass:"overview_rules",attrs:{title:"该部分数据在每次刷新页面时更新"}},[t("span",{staticClass:"overview_item",class:{"overview_item--disable":!e.enablelist.rule},attrs:{"data-method":"nav","data-panel":"rules"}},[e._v("RULES: "+e._s(e.ruleslen))]),e._v(" "),t("span",{staticClass:"overview_item",class:{"overview_item--disable":!e.enablelist.rewrite},attrs:{"data-method":"nav","data-panel":"rewrite"}},[e._v("REWRITE: "+e._s(e.rewriteslen))]),e._v(" "),t("span",{staticClass:"overview_item",attrs:{"data-method":"nav","data-panel":"task"}},[e._v("TASKS: "+e._s(e.taskstatus))]),e._v(" "),t("span",{staticClass:"overview_item",attrs:{"data-method":"nav","data-panel":"jsmanage"}},[e._v("SCRIPTS: "+e._s(e.jslistslen))]),e._v(" "),t("span",{staticClass:"overview_item",class:{"overview_item--disable":!e.enablelist.mitmhost},attrs:{"data-method":"nav","data-panel":"mitm"}},[e._v("MITM HOST: "+e._s(e.mitmhostlen))])])]),e._v(" "),t("status",{attrs:{sysinfo:e.sysinfo},on:{ovInit:function(t){e.ovInit(),e.eappfresh=!e.eappfresh}}}),e._v(" "),t("eapp",{attrs:{fresh:e.eappfresh}})],1),e._v(" "),t("footer",{staticClass:"footer"},[t("span",{staticClass:"cursor",class:{newversion:e.newversion},attrs:{title:"当前后台版本号，点击获取更新日志"},on:{click:function(t){return e.showUplog()}}},[e._v(e._s(e.$t("version"))+": "+e._s(e.version))]),e._v(" "),t("span",{on:{mouseover:e.runHour}},[e._v(e._s(e.$t("startat"))+": "+e._s(e.start))])])])};ya._withStripped=!0;var $a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"status"},[t("div",{staticClass:"title title--radius",class:{trasbk:e.boffline}},[t("span",{staticClass:"title_main mleft30 cursor",on:{click:function(t){if(t.preventDefault(),t.target!==t.currentTarget)return null;e.cinfo_show=!e.cinfo_show}}},[e._v(e._s(e.$t("con_clients"))+": "+e._s(e.clients))]),e._v(" "),t("span",{staticClass:"icon cursor title_sync",attrs:{title:"刷新当前页面数据"},domProps:{innerHTML:e._s(e.icon.sync)},on:{click:function(t){return e.ovUpdate()}}})]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.cinfo_show,expression:"cinfo_show"}],staticClass:"cinfo"},e._l(e.clientsitem,(function(s,i){return t("div",{key:i,staticClass:"cinfo_item border_top1",class:{greenbk:i===e.$wsrecv.id},attrs:{title:(i===e.$wsrecv.id?"当前客户端 ":"其他客户端 ")+i}},[e._v(e._s(s))])})),0),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.sysinfo,expression:"sysinfo"}],staticClass:"hoststatus",attrs:{title:"该部分数据仅在刷新页面时更新"}},[t("h4",{staticClass:"status_title"},[e._v(e._s(e.$t("host_info")))]),e._v(" "),t("div",{staticClass:"status_memoryusage"},[t("span",{staticClass:"status_item"},[e._v(e._s(e.$t("arch"))+": "+e._s(e.sysinfo.arch))]),e._v(" "),t("span",{staticClass:"status_item"},[e._v(e._s(e.$t("platform"))+": "+e._s(e.sysinfo.platform))]),e._v(" "),t("span",{staticClass:"status_item"},[e._v(e._s(e.$t("memory"))+": "+e._s(e.sysinfo.memory))]),e._v(" "),t("span",{staticClass:"status_item",attrs:{title:"服务器持续运行时间"}},[e._v("UPTIME: "+e._s(e.sysinfo.uptime))]),e._v(" "),t("span",{staticClass:"status_item"},[e._v("NODEJS: "+e._s(e.sysinfo.nodever))])])]),e._v(" "),t("div",{staticClass:"memorystatus"},[t("h4",{staticClass:"status_title"},[e._v("elecV2P "+e._s(e.$t("memoryusage"))),t("span",{staticClass:"status_toggle",attrs:{title:e.statussendflag?"暂停更新":"保持传输"},domProps:{innerHTML:e._s(e.statussendflag?e.icon.stop:e.icon.plays)},on:{click:function(t){return e.statusSendToggle()}}})]),e._v(" "),t("div",{staticClass:"status_memoryusage"},e._l(e.memoryusage,(function(s,i){return t("span",{key:i,staticClass:"status_item"},[e._v(e._s(i)+": "+e._s(s))])})),0)]),e._v(" "),e.jsruntotal?t("div",{staticClass:"jsrunstatus"},[t("h4",{staticClass:"status_title"},[e._v(e._s(e.$t("jsruntimes"))+" - "+e._s(e.jsruntotal))]),e._v(" "),t("div",{staticClass:"status_jsdetail",on:{click:function(t){return t.preventDefault(),e.logGate(t)}}},e._l(e.jsrundetail,(function(s,i){return t("span",{key:i,staticClass:"status_item cursor",attrs:{"data-method":"open","data-param":i}},[e._v(e._s(i)+": "+e._s(s))])})),0)]):e._e()])};$a._withStripped=!0;const wa={home:'<svg viewBox="64 64 896 896" data-icon="home" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 00-44.4 0L77.5 505a63.9 63.9 0 00-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0018.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"></path></svg>',pause:'<svg viewBox="64 64 896 896" data-icon="pause" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><path fill="#D3D3D3" d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"></path><path fill="#ffffff" d="M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm-80 524c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V360c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v304zm224 0c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V360c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v304z"></path><path fill="#D3D3D3" d="M424 352h-48c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8zm224 0h-48c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8z"></path></svg>',sync:'<svg viewBox="64 64 896 896" data-icon="sync" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class="anticon-spin"><path d="M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 0 1 755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 0 0 3 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 0 0 8 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 0 1 512.1 856a342.24 342.24 0 0 1-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 0 0-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 0 0-8-8.2z"></path></svg>',delete:'<svg viewBox="64 64 896 896" data-icon="minus-circle" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><path fill="#8B0000" d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"></path><path fill="#ccbbb8" d="M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm192 396c0 4.4-3.6 8-8 8H328c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h368c4.4 0 8 3.6 8 8v48z"></path><path fill="#8B0000" d="M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"></path></svg>',play:'<svg viewBox="64 64 896 896" data-icon="play-circle" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><path fill="#52c41a" d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"></path><path fill="#f4ffe6" d="M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm164.1 378.2L457.7 677.1a8.02 8.02 0 0 1-12.7-6.5V353a8 8 0 0 1 12.7-6.5l218.4 158.8a7.9 7.9 0 0 1 0 12.9z"></path><path fill="#52c41a" d="M676.1 505.3L457.7 346.5A8 8 0 0 0 445 353v317.6a8.02 8.02 0 0 0 12.7 6.5l218.4-158.9a7.9 7.9 0 0 0 0-12.9z"></path></svg>',plays:'<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="currentColor"><path d="M3 22v-20l18 10-18 10z"></path></svg>',downcircle:'<svg viewBox="64 64 896 896" focusable="false" data-icon="down-circle" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm184.4 277.7l-178 246a7.95 7.95 0 01-12.9 0l-178-246c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.3 0 19.9 4.9 25.9 13.2L512 563.6l105.2-145.4c6-8.3 15.7-13.2 25.9-13.2H690c6.5 0 10.3 7.4 6.4 12.7z" fill="#f4ffe6"></path><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" fill="#52c41a"></path><path d="M690 405h-46.9c-10.2 0-19.9 4.9-25.9 13.2L512 563.6 406.8 418.2c-6-8.3-15.6-13.2-25.9-13.2H334c-6.5 0-10.3 7.4-6.5 12.7l178 246c3.2 4.4 9.7 4.4 12.9 0l178-246c3.9-5.3.1-12.7-6.4-12.7z" fill="#52c41a"></path></svg>',upcircle:'<svg viewBox="64 64 896 896" focusable="false" data-icon="up-circle" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm178 479h-46.9c-10.2 0-19.9-4.9-25.9-13.2L512 460.4 406.8 605.8c-6 8.3-15.6 13.2-25.9 13.2H334c-6.5 0-10.3-7.4-6.5-12.7l178-246c3.2-4.4 9.7-4.4 12.9 0l178 246c3.9 5.3.1 12.7-6.4 12.7z" fill="#f4ffe6"></path><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" fill="#52c41a"></path><path d="M518.4 360.3a7.95 7.95 0 00-12.9 0l-178 246c-3.8 5.3 0 12.7 6.5 12.7h46.9c10.3 0 19.9-4.9 25.9-13.2L512 460.4l105.2 145.4c6 8.3 15.7 13.2 25.9 13.2H690c6.5 0 10.3-7.4 6.4-12.7l-178-246z" fill="#52c41a"></path></svg>',stop:'<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="currentColor"><path d="M10 24h-4v-20h4v20zm6-20h-4v20h4v-20z"></path></svg>',clear:'<svg viewBox="0 0 1024 1024" data-icon="inbox" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><path d="M885.2 446.3l-.2-.8-112.2-285.1c-5-16.1-19.9-27.2-36.8-27.2H281.2c-17 0-32.1 11.3-36.9 27.6L139.4 443l-.3.7-.2.8c-1.3 4.9-1.7 9.9-1 14.8-.1 1.6-.2 3.2-.2 4.8V830a60.9 60.9 0 0 0 60.8 60.8h627.2c33.5 0 60.8-27.3 60.9-60.8V464.1c0-1.3 0-2.6-.1-3.7.4-4.9 0-9.6-1.3-14.1zm-295.8-43l-.3 15.7c-.8 44.9-31.8 75.1-77.1 75.1-22.1 0-41.1-7.1-54.8-20.6S436 441.2 435.6 419l-.3-15.7H229.5L309 210h399.2l81.7 193.3H589.4zm-375 76.8h157.3c24.3 57.1 76 90.8 140.4 90.8 33.7 0 65-9.4 90.3-27.2 22.2-15.6 39.5-37.4 50.7-63.6h156.5V814H214.4V480.1z"></path></svg>',success:'<svg viewBox="64 64 896 896" data-icon="check-circle" width="1em" height="1em" fill="#90EE90" aria-hidden="true" focusable="false" class=""><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 0 1-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"></path></svg>',error:'<svg viewBox="64 64 896 896" data-icon="close-circle" width="1em" height="1em" fill="#eb261a" aria-hidden="true" focusable="false" class=""><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 0 1-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"></path></svg>',loading:'<svg viewBox="0 0 1024 1024" data-icon="loading" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class="anticon-spin rotate"><path d="M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 0 0-94.3-139.9 437.71 437.71 0 0 0-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"></path></svg>',overview:'<svg viewBox="64 64 896 896" data-icon="appstore" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><path d="M464 144H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H212V212h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16zm-52 268H612V212h200v200zM464 544H160c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H212V612h200v200zm452-268H560c-8.8 0-16 7.2-16 16v304c0 8.8 7.2 16 16 16h304c8.8 0 16-7.2 16-16V560c0-8.8-7.2-16-16-16zm-52 268H612V612h200v200z"></path></svg>',rules:'<svg viewBox="64 64 896 896" data-icon="rule" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><path d="M880.1 154H143.9c-24.5 0-39.8 26.7-27.5 48L349 597.4V838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V597.4L907.7 202c12.2-21.3-3.1-48-27.6-48zM603.4 798H420.6V642h182.9v156zm9.6-236.6l-9.5 16.6h-183l-9.5-16.6L212.7 226h598.6L613 561.4z"></path></svg>',rewrite:'<svg viewBox="64 64 896 896" data-icon="interaction" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><path d="M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656zM304.8 524h50.7c3.7 0 6.8-3 6.8-6.8v-78.9c0-19.7 15.9-35.6 35.5-35.6h205.7v53.4c0 5.7 6.5 8.8 10.9 5.3l109.1-85.7c3.5-2.7 3.5-8 0-10.7l-109.1-85.7c-4.4-3.5-10.9-.3-10.9 5.3V338H397.7c-55.1 0-99.7 44.8-99.7 100.1V517c0 4 3 7 6.8 7zm-4.2 134.9l109.1 85.7c4.4 3.5 10.9.3 10.9-5.3v-53.4h205.7c55.1 0 99.7-44.8 99.7-100.1v-78.9c0-3.7-3-6.8-6.8-6.8h-50.7c-3.7 0-6.8 3-6.8 6.8v78.9c0 19.7-15.9 35.6-35.5 35.6H420.6V568c0-5.7-6.5-8.8-10.9-5.3l-109.1 85.7c-3.5 2.5-3.5 7.8 0 10.5z"></path></svg>',jsmanage:'<svg viewBox="64 64 896 896" data-icon="code" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><path d="M516 673c0 4.4 3.4 8 7.5 8h185c4.1 0 7.5-3.6 7.5-8v-48c0-4.4-3.4-8-7.5-8h-185c-4.1 0-7.5 3.6-7.5 8v48zm-194.9 6.1l192-161c3.8-3.2 3.8-9.1 0-12.3l-192-160.9A7.95 7.95 0 0 0 308 351v62.7c0 2.4 1 4.6 2.9 6.1L420.7 512l-109.8 92.2a8.1 8.1 0 0 0-2.9 6.1V673c0 6.8 7.9 10.5 13.1 6.1zM880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"></path></svg>',task:'<svg viewBox="64 64 896 896" data-icon="schedule" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><path d="M928 224H768v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56H548v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56H328v-56c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v56H96c-17.7 0-32 14.3-32 32v576c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V256c0-17.7-14.3-32-32-32zm-40 568H136V296h120v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56h148v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56h148v56c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-56h120v496zM416 496H232c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm0 136H232c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm308.2-177.4L620.6 598.3l-52.8-73.1c-3-4.2-7.8-6.6-12.9-6.6H500c-6.5 0-10.3 7.4-6.5 12.7l114.1 158.2a15.9 15.9 0 0 0 25.8 0l165-228.7c3.8-5.3 0-12.7-6.5-12.7H737c-5-.1-9.8 2.4-12.8 6.5z"></path></svg>',mitm:'<svg viewBox="64 64 896 896" data-icon="audit" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><path d="M296 250c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H296zm184 144H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm-48 458H208V148h560v320c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V108c0-17.7-14.3-32-32-32H168c-17.7 0-32 14.3-32 32v784c0 17.7 14.3 32 32 32h264c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm440-88H728v-36.6c46.3-13.8 80-56.6 80-107.4 0-61.9-50.1-112-112-112s-112 50.1-112 112c0 50.7 33.7 93.6 80 107.4V764H520c-8.8 0-16 7.2-16 16v152c0 8.8 7.2 16 16 16h352c8.8 0 16-7.2 16-16V780c0-8.8-7.2-16-16-16zM646 620c0-27.6 22.4-50 50-50s50 22.4 50 50-22.4 50-50 50-50-22.4-50-50zm180 266H566v-60h260v60z"></path></svg>',cfilter:'<svg viewBox="64 64 896 896" data-icon="share-alt" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><path d="M752 664c-28.5 0-54.8 10-75.4 26.7L469.4 540.8a160.68 160.68 0 0 0 0-57.6l207.2-149.9C697.2 350 723.5 360 752 360c66.2 0 120-53.8 120-120s-53.8-120-120-120-120 53.8-120 120c0 11.6 1.6 22.7 4.7 33.3L439.9 415.8C410.7 377.1 364.3 352 312 352c-88.4 0-160 71.6-160 160s71.6 160 160 160c52.3 0 98.7-25.1 127.9-63.8l196.8 142.5c-3.1 10.6-4.7 21.8-4.7 33.3 0 66.2 53.8 120 120 120s120-53.8 120-120-53.8-120-120-120zm0-476c28.7 0 52 23.3 52 52s-23.3 52-52 52-52-23.3-52-52 23.3-52 52-52zM312 600c-48.5 0-88-39.5-88-88s39.5-88 88-88 88 39.5 88 88-39.5 88-88 88zm440 236c-28.7 0-52-23.3-52-52s23.3-52 52-52 52 23.3 52 52-23.3 52-52 52z"></path></svg>',setting:'<svg viewBox="64 64 896 896" data-icon="setting" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><path d="M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 0 0 9.3-35.2l-.9-2.6a443.74 443.74 0 0 0-79.7-137.9l-1.8-2.1a32.12 32.12 0 0 0-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 0 0-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 0 0-25.8 25.7l-15.8 85.4a351.86 351.86 0 0 0-99 57.4l-81.9-29.1a32 32 0 0 0-35.1 9.5l-1.8 2.1a446.02 446.02 0 0 0-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 0 0-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0 0 35.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0 0 25.8 25.7l2.7.5a449.4 449.4 0 0 0 159 0l2.7-.5a32.05 32.05 0 0 0 25.8-25.7l15.7-85a350 350 0 0 0 99.7-57.6l81.3 28.9a32 32 0 0 0 35.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 0 1-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 0 1-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 0 1 512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 0 1 400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 0 1 624 502c0 29.9-11.7 58-32.8 79.2z"></path></svg>',about:'<svg viewBox="64 64 896 896" data-icon="global" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><path d="M854.4 800.9c.2-.3.5-.6.7-.9C920.6 722.1 960 621.7 960 512s-39.4-210.1-104.8-288c-.2-.3-.5-.5-.7-.8-1.1-1.3-2.1-2.5-3.2-3.7-.4-.5-.8-.9-1.2-1.4l-4.1-4.7-.1-.1c-1.5-1.7-3.1-3.4-4.6-5.1l-.1-.1c-3.2-3.4-6.4-6.8-9.7-10.1l-.1-.1-4.8-4.8-.3-.3c-1.5-1.5-3-2.9-4.5-4.3-.5-.5-1-1-1.6-1.5-1-1-2-1.9-3-2.8-.3-.3-.7-.6-1-1C736.4 109.2 629.5 64 512 64s-224.4 45.2-304.3 119.2c-.3.3-.7.6-1 1-1 .9-2 1.9-3 2.9-.5.5-1 1-1.6 1.5-1.5 1.4-3 2.9-4.5 4.3l-.3.3-4.8 4.8-.1.1c-3.3 3.3-6.5 6.7-9.7 10.1l-.1.1c-1.6 1.7-3.1 3.4-4.6 5.1l-.1.1c-1.4 1.5-2.8 3.1-4.1 4.7-.4.5-.8.9-1.2 1.4-1.1 1.2-2.1 2.5-3.2 3.7-.2.3-.5.5-.7.8C103.4 301.9 64 402.3 64 512s39.4 210.1 104.8 288c.2.3.5.6.7.9l3.1 3.7c.4.5.8.9 1.2 1.4l4.1 4.7c0 .1.1.1.1.2 1.5 1.7 3 3.4 4.6 5l.1.1c3.2 3.4 6.4 6.8 9.6 10.1l.1.1c1.6 1.6 3.1 3.2 4.7 4.7l.3.3c3.3 3.3 6.7 6.5 10.1 9.6 80.1 74 187 119.2 304.5 119.2s224.4-45.2 304.3-119.2a300 300 0 0 0 10-9.6l.3-.3c1.6-1.6 3.2-3.1 4.7-4.7l.1-.1c3.3-3.3 6.5-6.7 9.6-10.1l.1-.1c1.5-1.7 3.1-3.3 4.6-5 0-.1.1-.1.1-.2 1.4-1.5 2.8-3.1 4.1-4.7.4-.5.8-.9 1.2-1.4a99 99 0 0 0 3.3-3.7zm4.1-142.6c-13.8 32.6-32 62.8-54.2 90.2a444.07 444.07 0 0 0-81.5-55.9c11.6-46.9 18.8-98.4 20.7-152.6H887c-3 40.9-12.6 80.6-28.5 118.3zM887 484H743.5c-1.9-54.2-9.1-105.7-20.7-152.6 29.3-15.6 56.6-34.4 81.5-55.9A373.86 373.86 0 0 1 887 484zM658.3 165.5c39.7 16.8 75.8 40 107.6 69.2a394.72 394.72 0 0 1-59.4 41.8c-15.7-45-35.8-84.1-59.2-115.4 3.7 1.4 7.4 2.9 11 4.4zm-90.6 700.6c-9.2 7.2-18.4 12.7-27.7 16.4V697a389.1 389.1 0 0 1 115.7 26.2c-8.3 24.6-17.9 47.3-29 67.8-17.4 32.4-37.8 58.3-59 75.1zm59-633.1c11 20.6 20.7 43.3 29 67.8A389.1 389.1 0 0 1 540 327V141.6c9.2 3.7 18.5 9.1 27.7 16.4 21.2 16.7 41.6 42.6 59 75zM540 640.9V540h147.5c-1.6 44.2-7.1 87.1-16.3 127.8l-.3 1.2A445.02 445.02 0 0 0 540 640.9zm0-156.9V383.1c45.8-2.8 89.8-12.5 130.9-28.1l.3 1.2c9.2 40.7 14.7 83.5 16.3 127.8H540zm-56 56v100.9c-45.8 2.8-89.8 12.5-130.9 28.1l-.3-1.2c-9.2-40.7-14.7-83.5-16.3-127.8H484zm-147.5-56c1.6-44.2 7.1-87.1 16.3-127.8l.3-1.2c41.1 15.6 85 25.3 130.9 28.1V484H336.5zM484 697v185.4c-9.2-3.7-18.5-9.1-27.7-16.4-21.2-16.7-41.7-42.7-59.1-75.1-11-20.6-20.7-43.3-29-67.8 37.2-14.6 75.9-23.3 115.8-26.1zm0-370a389.1 389.1 0 0 1-115.7-26.2c8.3-24.6 17.9-47.3 29-67.8 17.4-32.4 37.8-58.4 59.1-75.1 9.2-7.2 18.4-12.7 27.7-16.4V327zM365.7 165.5c3.7-1.5 7.3-3 11-4.4-23.4 31.3-43.5 70.4-59.2 115.4-21-12-40.9-26-59.4-41.8 31.8-29.2 67.9-52.4 107.6-69.2zM165.5 365.7c13.8-32.6 32-62.8 54.2-90.2 24.9 21.5 52.2 40.3 81.5 55.9-11.6 46.9-18.8 98.4-20.7 152.6H137c3-40.9 12.6-80.6 28.5-118.3zM137 540h143.5c1.9 54.2 9.1 105.7 20.7 152.6a444.07 444.07 0 0 0-81.5 55.9A373.86 373.86 0 0 1 137 540zm228.7 318.5c-39.7-16.8-75.8-40-107.6-69.2 18.5-15.8 38.4-29.7 59.4-41.8 15.7 45 35.8 84.1 59.2 115.4-3.7-1.4-7.4-2.9-11-4.4zm292.6 0c-3.7 1.5-7.3 3-11 4.4 23.4-31.3 43.5-70.4 59.2-115.4 21 12 40.9 26 59.4 41.8a373.81 373.81 0 0 1-107.6 69.2z"></path></svg>',donation:'<svg viewBox="0 0 1024 1024" data-icon="coffee" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><path d="M275 281c19.9 0 36-16.1 36-36V36c0-19.9-16.1-36-36-36s-36 16.1-36 36v209c0 19.9 16.1 36 36 36zm613 144H768c0-39.8-32.2-72-72-72H200c-39.8 0-72 32.2-72 72v248c0 3.4.2 6.7.7 9.9-.5 7-.7 14-.7 21.1 0 176.7 143.3 320 320 320 160.1 0 292.7-117.5 316.3-271H888c39.8 0 72-32.2 72-72V497c0-39.8-32.2-72-72-72zM696 681h-1.1c.7 7.6 1.1 15.2 1.1 23 0 137-111 248-248 248S200 841 200 704c0-7.8.4-15.4 1.1-23H200V425h496v256zm192-8H776V497h112v176zM613 281c19.9 0 36-16.1 36-36V36c0-19.9-16.1-36-36-36s-36 16.1-36 36v209c0 19.9 16.1 36 36 36zm-170 0c19.9 0 36-16.1 36-36V36c0-19.9-16.1-36-36-36s-36 16.1-36 36v209c0 19.9 16.1 36 36 36z"></path></svg>'};function ka(e,t,s,i,n,a,r,o){var l,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=s,c._compiled=!0),i&&(c.functional=!0),a&&(c._scopeId="data-v-"+a),r?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},c._ssrRegister=l):n&&(l=o?function(){n.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:n),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(e,t){return l.call(t),u(e,t)}}else{var h=c.beforeCreate;c.beforeCreate=h?[].concat(h,l):[l]}return{exports:e,options:c}}const Ca=ka({name:"status",props:["sysinfo"],data:()=>({clients:0,memoryusage:{},jsruntotal:0,jsrundetail:{},statussendflag:!0,icon:wa,clientsinfo:{},cinfo_show:!1}),computed:{boffline(){return"number"!=typeof this.clients},clientsitem(){let e={};for(let t in this.clientsinfo){let s="";for(let e in this.clientsinfo[t])s+=`${e}: ${this.clientsinfo[t][e]} `;e[t]=s.trim()}return e}},created(){this.$wsrecv.add("elecV2Pstatus",(e=>{this.clients=e.clients,e.memoryusage&&(this.memoryusage=e.memoryusage),this.statussendflag=!0,e.clientsinfo&&(this.clientsinfo=e.clientsinfo)})),this.$wsrecv.add("jsrunstatus",(e=>{this.jsruntotal=e.total,this.jsrundetail=e.detail}))},methods:{ovUpdate(){this.$emit("ovInit"),this.$wsrecv.connected||this.$wsrecv.connect()},statusSendToggle(){this.$wsrecv.connected?(this.$wsrecv.send("stopsendstatus",this.statussendflag),this.statussendflag=!this.statussendflag):this.$message.error("当前 websocket 已断开，请连接后再试")},logGate(e){let t=event.target.dataset.param;event.target.dataset.method,this.$uApi.open("./logs/"+t.replace(/\/|\\/g,"-")+".log")}}},$a,[],!1,null,"cf229bcc",null).exports;var xa=function(){var e=this,t=e._self._c;return e.eapp.enable?t("div",{staticClass:"eapp"},[t("div",{staticClass:"eapp_container"},[e._l(e.apps,(function(s,i){return t("div",{key:s.hash,staticClass:"eapp_item",class:{"eapp_item--run":e.bRun[i]},attrs:{draggable:e.bEdit},on:{dragstart:function(t){return e.dragStart(t,i)},dragenter:function(t){return e.dragEnter(t,i)},dragend:function(t){return e.dragEnd(t,i)}}},[t("img",{staticClass:"eapp_logo",class:{shake:e.bEdit,"shake--alt":i%2},attrs:{src:e.applogo[i],alt:s.target,"data-param":i,title:s.note||s.target},on:{click:function(t){return t.preventDefault(),e.epOpera(i)},error:function(t){return e.epLogoErr(i,t)}}}),e._v(" "),t("span",{staticClass:"eapp_name",attrs:{title:s.name}},[e._v(e._s(s.name))]),e._v(" "),t("span",{staticClass:"eapp_delete",class:{hide:!e.bEdit},on:{click:function(t){return t.preventDefault(),e.epMove(i)}}},[e._v("X")])])})),e._v(" "),t("div",{staticClass:"eapp_item eapp_item--edit"},[e.bEdit?t("select",{directives:[{name:"model",rawName:"v-model.number",value:e.eapp.logo_type,expression:"eapp.logo_type",modifiers:{number:!0}}],staticClass:"elecBtn elecBtn--h36 minw100",attrs:{title:e.$t("choose")+" LOGO "+e.$t("style")},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(t){var s="_value"in t?t._value:t.value;return e._n(s)}));e.$set(e.eapp,"logo_type",t.target.multiple?s:s[0])}}},[t("option",{attrs:{value:"1",selected:""}},[e._v(e._s(e.$t("style"))+" 1")]),e._v(" "),t("option",{attrs:{value:"2"}},[e._v(e._s(e.$t("style"))+" 2")]),e._v(" "),t("option",{attrs:{value:"3"}},[e._v(e._s(e.$t("style"))+" 3")])]):t("button",{staticClass:"elecBtn elecBtn--h36 bk_main_bk",on:{click:function(t){return t.preventDefault(),e.epEdit()}}},[e._v(e._s(e.$t("neweapp")))]),e._v(" "),t("button",{staticClass:"elecBtn elecBtn--h36",class:{bk_main_bk:!e.bEdit},on:{click:function(t){return t.preventDefault(),e.epSave()}}},[e._v(e._s(e.bEdit?e.$t("editexit"):e.$t("editmode")))])])],2),e._v(" "),t("log",{attrs:{logs:e.logs,title:"EAPP "+e.$t("logs")}})],1):e._e()};xa._withStripped=!0;var Ta=function(){var e=this,t=e._self._c;return t("div",{staticClass:"loginfo",class:{"loginfo--full":!e.collapse.loginfo},attrs:{tabindex:"-1"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:(t.preventDefault(),t.stopPropagation(),t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:void(e.collapse.loginfo=!0))}}},[t("h3",{staticClass:"loginfo_title"},[t("span",{staticClass:"loginfo_clear icon",attrs:{title:e.$t("clear")+e.$t("logs")},domProps:{innerHTML:e._s(e.icon.clear)},on:{click:function(t){return e.logs.splice(0)}}}),e._v(" "),t("span",[e._v(e._s(e.title||"elecV2P "+e.$t("logs")))]),e._v(" "),t("span",{staticClass:"title_collapse",class:{"title_collapse--collapsed":e.collapse.loginfo},on:{click:function(t){if(t.preventDefault(),t.target!==t.currentTarget)return null;e.collapse.loginfo=!e.collapse.loginfo}}})]),e._v(" "),t("div",{staticClass:"logcontext"},e._l(e.logobj,(function({log:s,key:i}){return t("span",{key:i,staticClass:"loginfo_item",domProps:{innerHTML:e._s(s)}})})),0)])};Ta._withStripped=!0;var Sa=s(724);const Oa={base_url:location.origin,glogslicebegin:0,version:"3.8.2"};function Ea(e){return"object"!=typeof e?typeof e:Object.prototype.toString.call(e).slice(8,-1).toLowerCase()||"object"}function ja(e,t=!1){if(!e)return!!t&&Object.create(null);switch(Ea(e)){case"array":case"object":return e;case"set":return Array.from(e);case"map":return Array.from(e).reduce(((e,[t,s])=>(e[t]=s,e)),{})}try{let t=JSON.parse(e);if("object"==typeof t)return t}catch(t){try{let t=new Function("return "+e)();if(/^(object|array)$/.test(Ea(t)))return t}catch(e){}}return!!t&&{0:e}}function Na(e){if(null==e)return"";let t=Ea(e);switch(t){case"string":return e.trim();case"map":case"set":return JSON.stringify({dataType:t,value:Array.from(e)});case"array":case"object":try{return e[Symbol.toPrimitive]?String(e[Symbol.toPrimitive]()):JSON.stringify(e)}catch(e){return e.message}default:return String(e).trim()}}function Pa(e){if(!e)return!1;if("boolean"==typeof e)return e;if("string"!=typeof e)return!0;switch(e=e.trim()){case"":case"0":case"false":case"null":case"undefined":case"NaN":return!1;default:return!0}}function Aa(e){return!!(""===Na(e).trim()||/^(object|array)$/.test(Ea(e))&&0===Object.keys(e).length)}function Ia(e){try{return new URL(e)}catch(e){return!1}}function Ra(e=8){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=t[Math.floor(52*Math.random())];for(e--;e--;)s+=t[Math.floor(62*Math.random())];return s}function Da(){let e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{let s=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?s:3&s|8).toString(16)}))}function Fa(e,t){return void 0===t&&(t=e,e=0),Math.floor(Math.random()*(t-e+1))+e}Oa.vernum=Number(Oa.version.replace(/\D/g,""));const La=6e4*(new Date).getTimezoneOffset();function Ha(e=null,t=0,s=Oa.glogslicebegin){return e=e?Number(e)||Date.parse(e):Date.now(),new Date(e-La).toISOString().slice(s,t?-1:-5).replace("T"," ")}function Ua(e=Date.now()){let t=(Date.now()-e)/1e3/60/60;return t>100?(t/24).toFixed(2)+" days":t.toFixed(2)+" hours"}const Ma=new Map;function Ba(e,t=16){const s=e+t;if(Ma.has(s))return Ma.get(s);const i=function(e,t=16){if(e.length===t)return e;if(e.length<t){let s=e.split(" "),i=t-e.length;for(;i--;)s[0]+=" ";return s.join(" ")}if(e.length>t){const s=e.split(/\/|\\/);s.length>1&&(e=s[0].slice(0,1)+"/"+s.pop());const i=e.split(" ").pop();return e.slice(0,t-6-i.length)+"..."+e.slice(-i.length-3)}}(e,t);return Ma.set(s,i),i}function za(e=""){if(/[&<>"']/.test(e)){const t={'"':"&quot;","'":"&#039;","&":"&amp;","<":"&lt;",">":"&gt;"};return e.replace(/[&<>"']/g,(e=>t[e]||e))}return e}function Va(e){return(0,Sa.ansiHtml)(za(e))}function Ga(e){if(!e)return"";let t="",s=e.split(/\/|\\|\?|#/);for(;""===t&&s.length;)t=s.pop();return t}const Ka=[];for(let e=0;e<=255;++e){const t=e.toString(16).padStart(2,"0");Ka.push(t)}function qa(e,t=" ",s=2e4){const i=new Uint8Array(e),n=new Array(i.length);i.length>s?console.debug("arrayBuffer length",i.length,"is too big to tranfer, slice to",s):s=i.length;for(let e=0;e<s;++e)n[e]=Ka[i[e]];return n.join(t)}function Ja(e,t=" "){let s=[];return s=t?e.split(t):e.match(/[\dA-F]{2}/gi),new Uint8Array(s.map((e=>Ka.indexOf(e))))}function Wa(e="",t=0){if(!e){if(t<1)return"";e="0"}let s=qa((new TextEncoder).encode(e),"");return 0===t||s.length===t?s:(s.length<t&&(s=s.repeat(t/s.length+1)),s.slice(0,t))}function Ya({style:e="hex",max:t=255}={}){return"#"+Fa(t).toString(16).padStart(2,"0")+Fa(t).toString(16).padStart(2,"0")+Fa(t).toString(16).padStart(2,"0")}function Xa(e,t="elecV2"){const s=(new TextEncoder).encode(e),i=(new TextEncoder).encode(t);let n=0,a=1;return qa(s.map((e=>{const t=i[n++];return n>=i.length&&(a+=1,n=0),e+t*a+i.length})),"")}function Za(e,t="elecV2"){const s=Ja(e,null),i=(new TextEncoder).encode(t);let n=0,a=1;return(new TextDecoder).decode(s.map((e=>{const t=i[n++];return n>=i.length&&(a+=1,n=0),e-t*a-i.length})))}function Qa(e=0,t=1024){return e<t?e+" B":e<t*t?(e/t).toFixed(2)+" K":e<t*t*t?(e/(t*t)).toFixed(2)+" M":(e/(t*t*t)).toFixed(2)+" G"}const er={name:"log",props:{logs:Object,title:String,collapse:{type:Object,default:function(){return{loginfo:!0}}}},data:()=>({icon:wa,logobj:[]}),watch:{logs(e){let t=[];e.forEach(((s,i)=>{"string"==typeof s&&t.push({log:Va(s),key:e.length-i})})),this.logobj=t}}};const tr=ka(er,Ta,[],!1,null,"62593594",null).exports,sr={name:"eapp",props:["fresh"],data:()=>({eapp:{enable:!0,logo_type:1,apps:[]},apps:[],logs:[],bEdit:!1,dragSce:null,dragIdx:-1,toSave:!1,logo_type_org:1}),computed:{applogo(){return this.apps.map((e=>e.logo||this.$uApi.hashToLogo(e.hash,e.name,Number(this.eapp.logo_type))))},bRun(){return this.apps.map((()=>!1))}},watch:{fresh(){this.epInit(!1)}},components:{log:tr},created(){this.$wsrecv.add("eapp",(e=>{this.logs.length>=100||/\x1b\[H/.test(e)?this.logs=[e]:/\r|(\x1b\[F)/.test(e)?this.logs.splice(0,1,e):this.logs.unshift(e)})),this.epInit()},methods:{epInit(e=!0){this.$axios.get("/eapp").then((t=>{0===t.data.rescode&&(this.eapp=t.data.resdata,this.apps=this.eapp.apps.filter((e=>e&&e.name&&e.type&&e.target)),e&&this.apps.forEach(((e,t)=>{"auto"===e.run&&(this.logs.unshift(`[${this.$logHead("eapp notify")}][${this.$sTime(null,1)}] AUTO RUN EAPP: ${e.name}`),this.epOpen(t))})))})).catch((e=>{this.logs.unshift(`[${this.$logHead("eapp error")}][${this.$sTime(null,1)}] [31m首页 eapp 列表获取失败 ${e.message}[0m`),console.error("获取失败",e)}))},epOpera(e){this.bEdit?this.epEdit(e):this.epOpen(e)},epLogoErr(e,t){const s=this.apps[e];this.logs.unshift(`[${this.$logHead("eapp error")}][${this.$sTime(null,1)}] [31mEAPP ${s.name} logo 加载失败，生成默认图标[0m`),t.target.src=this.$uApi.hashToLogo(s.hash,s.name,this.eapp.logo_type)},epOpen(e=0){const t={...this.apps[e]};if(!(t.name&&t.type&&t.target))return void this.$message.error("eapp 内容不完整");if(this.bRun[e])return void this.$message.success(t.name,"运行中");if(!/%ei%/.test(t.target))return void this.epRun(t,e);let s=t.target.split("%ei%"),i=this.$uStr.escapeHtml(t.target).replace(/%ei%/g,'<input name="eapp_arg" class="elecTable_input" style="width: 120px;" placeholder="%ei%">'),n=(this.$axios,this.$message,this.epRun),a="eapp_"+this.$uStr.euid(4);this.$evui({id:a,title:t.name+" - "+t.type.toUpperCase(),width:600,height:null,style:{content:"margin: .3em; font-family: var(--font-fm);"},content:`<div class="w100 center ${a}">${i}</div><div class="center" style="margin-top: .5em;"><button class="elecBtn greenbk" data-method="epRun" data-close="true">执行</button></div>`,methods:{epRun(){let i=document.querySelectorAll(`.${a} .elecTable_input[name=eapp_arg]`),r="";i.forEach(((e,t)=>{r+=s[t]+e.value})),t.target=r+s.pop(),n(t,e)}}})},epRun(e,t){switch(e.type){case"efh":this.$uApi.open("run/?target="+encodeURI(e.target)),this.logs.unshift(`[${this.$logHead("eapp notify")}][${this.$sTime(null,1)}] 执行 EFH: ${e.target}`);break;case"url":this.$uApi.open(e.target),this.logs.unshift(`[${this.$logHead("eapp notify")}][${this.$sTime(null,1)}] 打开网址: ${e.target}`);break;case"eval":this.logs.unshift(`[${this.$logHead("eapp notify")}][${this.$sTime(null,1)}] EVALRUN: ${e.name}`),this.logs.unshift(`[${this.$logHead("eapp notify")}][${this.$sTime(null,1)}] EVALRUN RESULT: ${this.$sString(this.$uApi.evalRun(e.target))||"没有返回数据"}`);break;case"shell":case"js":this.$wsrecv.connected||this.logs.unshift(`[${this.$logHead("eapp error")}][${this.$sTime(null,1)}] [31mwebsocket 尚未连接，运行日志无法传输`),this.bRun[t]=!0,this.$axios.post("/eapp/run",{app:e,id:this.$wsrecv.id}).then((s=>{this.bRun[t]=!1,0===s.data.rescode?this.logs.unshift(`[${this.$logHead("eapp info")}][${this.$sTime(null,1)}] ${s.data.message}`):this.logs.unshift(`[${this.$logHead("eapp error")}][${this.$sTime(null,1)}] [31m执行 ${e.target} 失败 ${s.data.message}`)})).catch((s=>{this.bRun[t]=!1,this.logs.unshift(`[${this.$logHead("eapp error")}][${this.$sTime(null,1)}] [31m执行 ${e.target} 失败 ${s.message}`),console.error(e.target,"执行失败",s)}));break;default:this.$message.error(`未知 EAPP 类型: ${e.type}`),this.logs.unshift(`[${this.$logHead("eapp error")}][${this.$sTime(null,1)}] [31m未知 EAPP 类型: ${e.type}`)}},epEdit(e=-1){const t=this.apps,s=t[e]||{name:this.$t("name"),logo:"",type:"js",target:"test.js"};let i=this.$axios,n=this.$message;this.$evui({id:"eapp_new",title:s.hash?this.$t("edit")+" EAPP - "+s.name:this.$t("new")+" EAPP",width:600,height:null,style:{content:"margin: .3em; font-family: var(--font-fm);"},content:`<div class="eflex w100"><input name="eapp_name" class="elecTable_input" style="width: 120px;margin-right: 5px;" placeholder="应用名称" value="${this.$uStr.escapeHtml(s.name)}"><input name="eapp_logo" class="elecTable_input" placeholder="显示图标 logo https://xxx/x.png，可省略" value="${this.$uStr.escapeHtml(s.logo)}"></div><div class="eflex w100 emargin--top"><select name="eapp_type" class="elecTable_select" style="width: 120px;margin-right: 5px;" title="应用类型"><option value="js" ${"js"===s.type?"selected":""}>JS</option><option value="efh" ${"efh"===s.type?"selected":""}>EFH</option><option value="shell" ${"shell"===s.type?"selected":""}>SHELL</option><option value="url" ${"url"===s.type?"selected":""}>打开网址</option><option value="eval" ${"eval"===s.type?"selected":""}>EVALRUN</option></select><textarea name="eapp_target" class="editor_textarea editor_textarea--oneline" placeholder="执行目标 比如 test.js 或 node -v 等">${this.$uStr.escapeHtml(s.target)}</textarea></div><div class="eflex w100 emargin--top eapp_more hide" style="border-top: 1px solid;padding-top: 3px;"><select name="eapp_run" class="elecTable_select" style="width: 120px;margin-right: 5px;" title="运行方式（在打开首页时）"><option value="auto" ${"auto"===s.run?"selected":""}>${this.$t("autorun")}</option><option value="click" ${s.run&&"click"!==s.run?"":"selected"}>${this.$t("clickrun")}</option></select><input name="eapp_note" class="elecTable_input" placeholder="备注信息，可省略" value="${this.$uStr.escapeHtml(s.note)}"></div><div class="center" style="margin-top: .5em;"><button class="elecBtn elecBtn--more efloat--left" data-method="moreToggle">≫</button><button class="elecBtn greenbk" data-method="save" data-close="true">保存</button></div>`,methods:{moreToggle(e){const t=e.target.classList,s=document.querySelector(".eapp_more").classList;t.contains("elecBtn--moreup")?(t.remove("elecBtn--moreup"),s.add("hide")):(t.add("elecBtn--moreup"),s.remove("hide"))},save(){s.name=document.querySelector(".elecTable_input[name=eapp_name]").value,s.logo=document.querySelector(".elecTable_input[name=eapp_logo]").value,s.type=document.querySelector(".elecTable_select[name=eapp_type]").value,s.target=document.querySelector(".editor_textarea[name=eapp_target]").value,s.run=document.querySelector(".elecTable_select[name=eapp_run]").value,s.note=document.querySelector(".elecTable_input[name=eapp_note]").value,s.name&&s.type&&s.target?i.put("/eapp",{idx:e,...s}).then((i=>{0===i.data.rescode?(n.success("成功添加应用",s.name),s.hash=i.data.resdata,-1===e&&t.push(s)):n.error("添加应用失败",i.data.message)})).catch((e=>{n.error("添加应用失败",e.message),console.error("添加应用失败",e)})):n.error("EAPP 内容填写不完整，请修改后再保存")}}})},epMove(e){if(e=Number(e),this.apps[e]&&confirm(`确定移除应用 ${this.apps[e].name}？`)){const t=this.apps[e].name,s=this.$message.loading(`正在删除应用 ${t}...`,0);this.$axios.delete(`/eapp/${e}`).then((t=>{0===t.data.rescode&&this.apps.splice(e,1)})).catch((e=>{this.$message.error(`${t} 删除失败`,e.message),console.error(`${t} 删除失败`,e)})).finally(s)}},epSave(){if(!this.bEdit)return this.bEdit=!0,void(this.logo_type_org=this.eapp.logo_type||1);if(this.toSave&&confirm(`确定保存当前应用列表 ${this.apps.length}？`)){const e=this.$message.loading("应用列表保存中...",0);this.$axios.post("/eapp",{enable:this.eapp.enable,logo_type:this.eapp.logo_type,apps:this.apps}).then((e=>{0===e.data.rescode?this.$message.success("保存成功"):(this.$message.error("保存失败",e.data.message),console.error("保存失败",e.data))})).catch((e=>{this.$message.error("保存失败",e.message),console.error("保存失败",e)})).finally(e)}else if(this.eapp.logo_type!==this.logo_type_org){const e=this.$message.loading(`应用 LOGO 风格 ${this.eapp.logo_type}...`,0);this.$axios.put("/eapp/logo_type",{logo_type:this.eapp.logo_type}).then((e=>{0===e.data.rescode?(this.$message.success("新的 LOGO 风格应用成功"),this.logs.unshift(`[${this.$logHead("eapp notify")}][${this.$sTime(null,1)}] 成功应用新的 LOGO 风格 ${this.eapp.logo_type}`)):(this.$message.error("新的 LOGO 风格应用失败",e.data.message),console.error("新的 LOGO 风格应用失败",e.data))})).catch((e=>{this.$message.error("新的 LOGO 风格保存失败",e.message),console.error("新的 LOGO 风格应用失败",e)})).finally(e)}this.bEdit=!1,this.toSave=!1},dragStart(e,t){e.dataTransfer.effectAllowed="move",this.dragIdx=t,this.dragSce=this.apps[t]},dragEnter(e,t){e.preventDefault(),-1!==this.dragIdx&&this.dragIdx!==t&&(this.apps.splice(this.dragIdx,1),this.apps.splice(t,0,this.dragSce),this.dragIdx=t)},dragEnd(e,t){this.dragIdx=-1,this.toSave=!0}}};const ir=ka(sr,xa,[],!1,null,"fdaa1d28",null).exports,nr=JSON.parse('{"join_gap":" ","en":"英文","zh":"中文","a":"a","access":"ACCESS","add":"ADD","addition":"ADDITION","address":"ADDRESS","agroup":"A GROUP","all":"ALL","allow":"ALLOW","allowed":"ALLOWED","and":"AND","arch":"ARCH","as":"AS","author":"AUTHOR","auto":"AUTO","autorun":"AUTO","backup":"BACKUP","belong":"BELONG","blacklist":"BLACKLIST","bfreq":"before request","bfres":"before response","browser":"browser","cache":"CACHE","cancel":"CANCEL","certificate":"CERTIFICATE","check":"CHECK","checkall":"CHECK ALL","checked":"CHECKED","checked_short":"CKD","checknone":"CHECK NONE","choose":"CHOOSE","clear":"CLEAR","clickrun":"CLICK","close":"CLOSE","closed":"CLOSED","cmd":"CMD","con_clients":"Connected Clients","confirm":"CONFIRM","connected":"CONNECTED","content":"CONTENT","countdown":"countdown","cron":"cron","current":"CURRENT","date":"DATE","default":"DEFAULT","delete":"DELETE","detail":"detail","disable":"DISABLE","disable_short":"DE","disabled":"DISABLED","disconnected":"DISCONNECTED","document":"document","donation":"DONATION","download":"DOWNLOAD","dthave":"DON\'T HAVE","edit":"EDIT","editexit":"EXIT","editmode":"EDIT","efss_file_manage":"EFSS FILE MANAGE","enable":"ENABLE","enable_short":"EN","enabled":"ENABLED","every":"EVERY","export":"EXPORT","exportsub":"EXPORT","fetch":"FETCH","file":"FILE","files":"FILES","five":"five","forbid":"FORBID","force":"FORCE","format":"FORMAT","generate":"GENERATE","get":"GET","homepage":"HOMEPAGE","host":"HOST","host_info":"Host Information","illegal":"illegal","import":"IMPORT","input":"input","install":"INSTALL","jsruntimes":"Script Run Times","language":"LANGUAGE","last":"LAST","last_three":"last three","level":"LEVEL","list":"LIST","local":"LOCAL","logs":"LOGS","logs_of_script":"LOGS OF SCRIPT","make":"MAKE","manage":"MANAGE","match":"MATCH","memory":"MEMORY","memoryusage":"Memory Usage","mock":"MOCK","modifyto":"MODIFY TO","more":"more","moveto":"MOVE TO","murl":"MATCH URL","name":"NAME","new":"NEW","neweapp":"NEW","next":"NEXT","non-matched":"NON-MATCHED","note":"NOTE","notify":"NOTIFY","noupdate":"no update","on":"on","open":"OPEN","operate":"OPERATE","operate_short":"OP","optional":"optional","or":"or","overview":"OVERVIEW","param":"PARAM","persistence":"Persistence","platform":"PLATFORM","please":"please","port":"PORT","prev":"PREV","proxy":"PROXY","push":"PUSH","random":"random","redirect":"REDIRECT","refresh":"REFRESH","regexp":"REGEXP","reject":"REJECT","remote":"REMOTE","request":"REQUEST","repeat":"repeat","replace":"REPLACE","rest":"rest","restart":"RESTART","rewrite":"REWRITE","root":"ROOT","rule":"RULE","run":"RUN","save":"SAVE","script":"SCRIPT","search":"SEARCH","second":"second","seconds":"seconds","security":"SECURITY","self-signed":"SELF-SIGNED","send":"SEND","setting":"SETTING","setting_of":"SETTING","shortcut":"shortcut","show":"show","sign":"SIGN","six":"six","skip":"SKIP","sponsors":"Sponsors","start":"START","startat":"START AT","status":"STATUS","status_short":"ST","stop":"STOP","style":"STYLE","sub":"SUB","target":"TARGET","task":"TASK","temp":"TEMP","test":"TEST","time":"TIME","timed":"TIMED","times":"times","timing":"TIMING","to":"TO","toggle":"TOGGLE","update":"UPDATE","upload":"UPLOAD","url":"URL","user":"USER","valid":"VALID","version":"VERSION","web":"WEB","whitelist":"WHITELIST"}'),ar=JSON.parse('{"join_gap":"","en":"EN","zh":"zh-CN","a":"一个","access":"访问","add":"添加","addition":"新增","address":"地址","agroup":"某分组","all":"全部","allow":"允许","allowed":"允许","and":"并","arch":"架构","as":"成为","author":"作者","auto":"自动","autorun":"自动运行","backup":"备份","belong":"关联","bfreq":"网络请求前","bfres":"数据返回前","blacklist":"黑名单","browser":"浏览器","cache":"缓存","cancel":"取消","certificate":"证书","check":"查看","checkall":"全部选择","checked":"选中","checked_short":"选择","checknone":"全都不选","choose":"选择","clear":"清空","clickrun":"点击运行","close":"关闭","closed":"已关闭","cmd":"指令","con_clients":"客户端连接数","confirm":"确定","connected":"已连接","content":"内容","countdown":"倒计时","cron":"cron定时","current":"当前","date":"日期","default":"默认","delete":"删除","detail":"详细说明","disable":"关闭","disable_short":"禁用","disabled":"已关闭","disconnected":"已断开","document":"说明文档","donation":"赞助打赏","download":"下载","dthave":"并没有","edit":"编辑","editexit":"退出编辑","editmode":"编辑模式","efss_file_manage":"EFSS 文件管理界面","enable":"启用","enable_short":"启用","enabled":"已启用","every":"每","export":"导出","exportsub":"导出订阅","fetch":"获取内容","file":"文件","files":"文件数","five":"五","forbid":"禁止","force":"强制","format":"格式","generate":"生成","get":"获取","homepage":"主页地址","host":"域名","host_info":"服务器相关信息","illegal":"非法","import":"导入","input":"输入","install":"安装","jsruntimes":"脚本运行总次数","language":"语言偏好","last":"最近","last_three":"后三项","level":"等级","list":"列表","local":"本地","logs":"日志","logs_of_script":"查看程序运行日志","make":"生成","manage":"管理","match":"匹配","memory":"内存","memoryusage":"内存使用情况","mock":"模拟","modifyto":"修改方式","more":"更多","moveto":"移动到","murl":"匹配链接","name":"名称","new":"新建","neweapp":"新建应用","next":"下一个","non-matched":"未匹配","note":"备注","notify":"通知","noupdate":"不自动更新","on":"在","open":"打开","operate":"操作","operate_short":"操作","optional":"可选择项","or":"或","overview":"基础信息","param":"参数","persistence":"常量","platform":"平台","please":"请","port":"端口","prev":"上一个","proxy":"代理","push":"推送","random":"随机","redirect":"重定向","refresh":"刷新","regexp":"正则表达式","reject":"阻止","remote":"远程","request":"请求","repeat":"重复","replace":"替换","rest":"剩余","restart":"重启","rewrite":"重写","root":"根","rule":"规则","run":"运行","save":"保存","script":"脚本","search":"搜索","second":"秒","seconds":"秒数","security":"安全","self-signed":"自签","send":"发送","setting":"设置","setting_of":"相关设置","shortcut":"快捷键","show":"显示","sign":"签发","six":"六","skip":"跳过","sponsors":"广告","start":"开始","startat":"启动时间","status":"状态","status_short":"状态","stop":"停止","style":"风格","sub":"订阅","target":"目标","task":"任务","temp":"临时","test":"测试","time":"时间","timed":"定时","times":"次数","timing":"时间点","to":"至","toggle":"反转","update":"更新","upload":"上传","url":"链接","user":"用户","valid":"有效","version":"后台版本","web":"网络","whitelist":"白名单"}');const rr={locale:function(){let e="";return location.search&&(e=new URLSearchParams(location.search).get("lang")),e||localStorage.getItem("lang")||navigator.language}().startsWith("zh")?"zh-CN":"en",fallbackLocale:"en"},or={en:nr,"zh-CN":ar};function lr(e){return(or[rr.locale]||or[rr.fallbackLocale])[e]||e}function cr(e=""){return e=e.startsWith("zh")?"zh-CN":"en",rr.locale=e,console.debug("locale lang set to",e),localStorage.setItem("lang",e),e}const ur={name:"overview",data(){return{version:"1.0.0",baseurl:location.protocol+"//"+location.hostname,anyproxy:{enable:!0,port:8001,webPort:8002},ruleslen:0,rewriteslen:0,jslistslen:0,taskstatus:"0/0/0",mitmhostlen:0,start:this.$sTime(),newversion:"",sysinfo:Object.create(null),eopbtn:{open:!1,close:!1},enablelist:{rule:!0,rewrite:!0,mitmhost:!0},userid:this.$uApi.store.get("userid"),bcheck:this.$uApi.store.getCache("bChecked"),eappfresh:!1,isPwa:this.$uApi.isPwa()}},components:{status:Ca,eapp:ir},created(){this.ovInit(),this.bcheck||(this.$uApi.store.set("bcheck",(new Date).getDate().toString()),this.bcheck=!0,"http:"!==location.protocol||/^(100|10|127|172|192\.168)/.test(location.hostname)||this.$message.error("当前正通过 http 访问，建议升级到 https"))},methods:{ovInit(){const e=this.$message.loading("正在获取 overview 相关数据...",0);this.$axios.get("/data?type=overview"+(this.bcheck?"":`&check=${this.bcheck}`)).then((e=>{if(this.$message.success(`成功获取 overview 相关数据\nwebUI 版本 3.8.2 后台版本 ${e.data.version}`),e.data.lang&&cr(e.data.lang),this.ruleslen=e.data.ruleslen,this.rewriteslen=e.data.rewriteslen,this.jslistslen=e.data.jslistslen,this.mitmhostlen=e.data.mitmhostlen,this.version=e.data.version,this.start=this.$sTime(new Date(e.data.start),0,0),this.anyproxy=e.data.anyproxy,this.newversion=e.data.newversion,this.sysinfo=e.data.sysinfo,this.userid=e.data.userid,this.userid!==this.$uApi.store.get("userid")&&this.$uApi.store.set("userid",this.userid),this.$uApi.store.setCache("bSponsor",this.$uApi.store.getCache("sponsors").has(this.userid)),Object.assign(this.enablelist,e.data.enablelist),"object"==typeof e.data.menunav&&this.$emit("menunav",{...e.data.menunav}),"object"==typeof e.data.logo&&this.$emit("theme",{type:"logo",...e.data.logo}),this.$uApi.store.getCache("bSponsor")){let t=e.data.theme;t&&this.$emit("theme",t.simple||t)}else this.$emit("theme",{enable:!1});e.data.taskstatus&&(this.taskstatus=e.data.taskstatus.running+"/"+e.data.taskstatus.total+"/"+e.data.taskstatus.sub);let t=Number(this.version.replace(/\.|v/g,""));this.newversion&&Number(this.newversion.replace(/\.|v/g,""))>t?(console.log(`elecV2P 有新的版本 v${this.newversion} 可供更新`),this.$uApi.store.get("newversion")!==this.newversion&&(this.$message.success(`elecV2P 有新的版本 v${this.newversion} 可供更新`,{url:"https://github.com/elecV2/elecV2P/blob/master/logs/update.log",secd:0}),this.$uApi.store.set("newversion",this.newversion))):this.newversion=""})).catch((e=>{this.$message.error("获取端口数据失败",e.message),console.error("获取端口数据失败",e)})).finally(e)},showUplog(){const e=this.$message.loading("正在获取更新日志...",0);this.$axios.get("https://raw.githubusercontent.com/elecV2/elecV2P/master/logs/update.log").then((e=>{this.$message.success("获取成功"),this.$evui({title:"当前 elecV2P 版本: "+this.version+" 最近更新日志",width:820,height:460,style:{content:"padding-left: 8px; font-size: 16px;"},content:`<div style="text-align: center;background: var(--icon-bk);margin-bottom: 6px;margin-left: -4px;border-radius: 0 0 12px 12px;font-size: 20px;">${this.newversion?"检测到有新版本 v"+this.newversion+'<br>请使用 <a href="/?fn=softupdate.js#jsmanage">softupdate.js</a> 或者 docker 命令进行升级':""}</div><div>${e.data}</div>`})})).catch((e=>{this.$message.error("获取失败",e.message),console.error("更新日志获取失败",e),this.$evui({title:"更新日志获取失败",width:400,height:160,content:'<h1 style="text-align: center;margin-top: 1em;"><a href="https://github.com/elecV2/elecV2P/blob/master/logs/update.log" target="elecV2PGit" ref="noreferrer">点击此链接</a> 前往 Github 查看最新更新日志</h1>'})})).finally(e)},eproxyBtn(){this.anyproxy.enable?this.eopbtn.close=!this.eopbtn.close:this.eopbtn.open=!this.eopbtn.open},eproxyToggle(e=""){this.$wsrecv.connected?(this.anyproxy&&this.anyproxy.enable?("close"===e||confirm("确定关闭 ANYPROXY？"))&&(this.$wsrecv.send("eproxy","close"),this.anyproxy.enable=!1):("open"===e||confirm("确定打开 ANYPROXY？"))&&(this.$wsrecv.send("eproxy","start"),this.anyproxy.enable=!0),this.eopbtn.open=!1,this.eopbtn.close=!1):this.$message.error("websocket 尚未连接，指令无法发送")},webifOpen(){this.anyproxy.enable?this.$uApi.open(this.baseurl+":"+this.anyproxy.webPort):this.$message.success("当前 ANYPROXY 处于关闭状态，无可查看日志")},runHour(e){e.target.title="elecV2P 已持续运行 "+this.$uStr.hDays(Date.parse(this.start))}}};const hr=ka(ur,ya,[],!1,null,"75f1e158",null).exports;var dr=function(){var e=this,t=e._self._c;return t("section",{on:{keydown:function(t){return(t.type.indexOf("key")||83===t.keyCode)&&t.ctrlKey?(t.preventDefault(),t.stopPropagation(),e.rulesSave()):null}}},[t("header",{staticClass:"header"},[e._v(e._s(e.header))]),e._v(" "),t("main",{staticClass:"content"},[t("div",{staticClass:"etable"},[t("table",{staticClass:"elecTable",class:{"elecTable--disabled":!e.ruleble.enable}},[t("caption",{staticClass:"elecTable_caption",class:{"elecTable--disabled":!e.ruleble.enable}},[t("div",{staticClass:"eflex elecTable_caption--left"},[t("span",{attrs:{title:"启用该列表中的规则（建议在不需要使用时关闭"}},[e._v(e._s(e.$t("enable"))+"：")]),e._v(" "),t("checkbox",{attrs:{oCheck:e.ruleble}})],1),e._v(" "),t("span",[e._v("RULE "+e._s(e.$t("list"))+" - "+e._s(e.rulestatus))]),e._v(" "),t("span",{staticClass:"icon icon_caption--sync",attrs:{title:"刷新当前列表"},domProps:{innerHTML:e._s(e.icon.sync)},on:{click:function(t){return e.rulesInit()}}})]),e._v(" "),t("thead",[t("tr",[t("th",{staticClass:"elecTable_th minw160"},[e._v(e._s(e.$t("match")))]),e._v(" "),t("th",{staticClass:"elecTable_th minw480"},[e._v(e._s(e.$t("content"))+"（"+e._s(e.$t("regexp"))+"）")]),e._v(" "),t("th",{staticClass:"elecTable_th minw160"},[e._v(e._s(e.$t("modifyto")))]),e._v(" "),t("th",{staticClass:"elecTable_th minw480"},[e._v(e._s(e.$t("target")))]),e._v(" "),t("th",{staticClass:"elecTable_th minw160"},[e._v(e._s(e.$t("timing")))]),e._v(" "),t("th",{staticClass:"elecTable_th elecTable_th--enable"},[e._v(e._s(e.$t("enable_short")))]),e._v(" "),t("th",{staticClass:"elecTable_th minw62"},[e._v(e._s(e.$t("operate_short")))])])]),e._v(" "),t("tbody",e._l(e.eplists,(function(s,i){return t("tr",{key:i,class:{"elecTable_tr--disabled":!s.enable}},[t("td",{staticClass:"elecTable_td"},[t("select",{directives:[{name:"model",rawName:"v-model",value:s.mtype,expression:"el.mtype"}],staticClass:"elecTable_select",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(s,"mtype",t.target.multiple?i:i[0])}}},[t("option",[e._v("url")]),e._v(" "),t("option",[e._v("host")]),e._v(" "),t("option",[e._v("useragent")]),e._v(" "),t("option",[e._v("reqmethod")]),e._v(" "),t("option",[e._v("reqbody")]),e._v(" "),t("option",[e._v("resstatus")]),e._v(" "),t("option",[e._v("restype")]),e._v(" "),t("option",[e._v("resbody")])])]),e._v(" "),t("td",{staticClass:"elecTable_td"},["reqmethod"==s.mtype?t("select",{directives:[{name:"model",rawName:"v-model",value:s.match,expression:"el.match"}],staticClass:"elecTable_select",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(s,"match",t.target.multiple?i:i[0])}}},[t("option",[e._v("GET")]),e._v(" "),t("option",[e._v("POST")]),e._v(" "),t("option",[e._v("PUT")]),e._v(" "),t("option",[e._v("DELETE")])]):"resstatus"==s.mtype?t("select",{directives:[{name:"model",rawName:"v-model",value:s.match,expression:"el.match"}],staticClass:"elecTable_select",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(s,"match",t.target.multiple?i:i[0])}}},[t("option",[e._v("200")]),t("option",[e._v("404")]),t("option",[e._v("30x")]),t("option",[e._v("50x")])]):t("input",{directives:[{name:"model",rawName:"v-model.lazy.trim",value:s.match,expression:"el.match",modifiers:{lazy:!0,trim:!0}}],staticClass:"elecTable_input",attrs:{type:"text"},domProps:{value:s.match},on:{change:function(t){e.$set(s,"match",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),t("td",{staticClass:"elecTable_td"},[t("select",{directives:[{name:"model",rawName:"v-model",value:s.ctype,expression:"el.ctype"}],staticClass:"elecTable_select",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(s,"ctype",t.target.multiple?i:i[0])}}},[t("option",{attrs:{value:"js"}},[e._v(e._s(e.script))]),e._v(" "),t("option",{attrs:{value:"block"}},[e._v(e._s(e.reject))]),e._v(" "),t("option",{attrs:{value:"307"}},[e._v(e._s(e.redirect))]),e._v(" "),t("option",{attrs:{value:"hold"}},[e._v("$HOLD")]),e._v(" "),t("option",{attrs:{value:"ua"}},[e._v("User-Agent")])])]),e._v(" "),t("td",{staticClass:"elecTable_td"},["block"==s.ctype?t("select",{directives:[{name:"model",rawName:"v-model",value:s.target,expression:"el.target"}],staticClass:"elecTable_select",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(s,"target",t.target.multiple?i:i[0])}}},[t("option",{attrs:{value:"json"}},[e._v("reject-json")]),e._v(" "),t("option",{attrs:{value:"reject",selected:"selected"}},[e._v("reject-200")]),e._v(" "),t("option",[e._v("tinyimg")])]):"ua"==s.ctype?t("select",{directives:[{name:"model",rawName:"v-model",value:s.target,expression:"el.target"}],staticClass:"elecTable_select",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(s,"target",t.target.multiple?i:i[0])}}},e._l(e.uagentlists,(function(s,i){return t("option",{key:i,domProps:{value:i}},[e._v(e._s(s))])})),0):t("input",{directives:[{name:"model",rawName:"v-model.lazy.trim",value:s.target,expression:"el.target",modifiers:{lazy:!0,trim:!0}}],staticClass:"elecTable_input",attrs:{type:"text"},domProps:{value:s.target},on:{change:function(t){e.$set(s,"target",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),t("td",{staticClass:"elecTable_td",class:["req"===s.stage?"elecTable_td--req":"elecTable_td--res"]},[t("select",{directives:[{name:"model",rawName:"v-model",value:s.stage,expression:"el.stage"}],staticClass:"elecTable_select",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(s,"stage",t.target.multiple?i:i[0])}}},[t("option",{attrs:{value:"req"}},[e._v(e._s(e.bfreq))]),e._v(" "),t("option",{attrs:{value:"res",selected:"selected"}},[e._v(e._s(e.bfres))])])]),e._v(" "),t("td",{staticClass:"elecTable_td"},[t("checkbox",{attrs:{oCheck:s}})],1),e._v(" "),t("td",{staticClass:"elecTable_td"},[t("span",{staticClass:"icon--op",domProps:{innerHTML:e._s(e.icon.delete)},on:{click:function(t){return e.ruleDel(i)}}})])])})),0),e._v(" "),t("tfoot",[t("tr",[t("td",{staticClass:"elecTable_add",attrs:{colspan:"7"}},[t("span",{staticClass:"elecTable_addbtn",on:{click:function(t){return e.eplists.push({mtype:"host",match:"host.com",ctype:"js",target:"0body.js",stage:"res",enable:!0})}}},[e._v(e._s(e.$ta("new","rule")))])])])])])]),e._v(" "),t("p",{staticClass:"center"},[t("button",{staticClass:"elecBtn elecBtn--long",on:{click:function(t){return e.rulesSave()}}},[e._v(e._s(e.$t("save")))])])]),e._v(" "),e._m(0)])};dr._withStripped=!0;var pr=function(){var e=this,t=e._self._c;return t("div",{staticClass:"checkbox",class:{"checkbox--checked":e.bChecked},on:{click:function(t){e.bChecked=!e.bChecked}}},[t("span",{staticClass:"checkbox_status"})])};pr._withStripped=!0;const mr=ka({name:"checkbox",props:["oCheck","oKey","oInit"],computed:{bKey(){return this.oKey||"enable"},bChecked:{get(){return void 0===this.oCheck[this.bKey]?"false"!==this.oInit:!!this.oCheck[this.bKey]},set(e){this.$set(this.oCheck,this.bKey,e)}}}},pr,[],!1,null,"40a3a37e",null).exports,fr={name:"rules",data(){return{header:"RULES",bfreq:this.$t("bfreq"),bfres:this.$t("bfres"),reject:this.$t("reject"),redirect:this.$t("redirect"),script:this.$t("script"),uagentlists:{},eplists:[],ruleble:{enable:!0},icon:wa}},computed:{rulestatus(){return this.eplists.filter((e=>e.enable)).length+"/"+this.eplists.length}},components:{checkbox:mr},created(){this.rulesInit()},methods:{rulesInit(){const e=this.$message.loading("正在获取规则列表...",0);this.$axios.get("/data?type=rules").then((e=>{this.eplists=e.data.eplists.list;for(let t in e.data.uagent)e.data.uagent[t].name&&(this.uagentlists[t]=e.data.uagent[t].name);this.ruleble.enable=!1!==e.data.eplists.enable,this.$message.success(`成功获取规则列表 ${this.rulestatus}`),console.log("成功获取规则列表",this.rulestatus)})).catch((e=>{this.$message.error("获取规则列表失败",e.message),console.error("获取列表失败",e)})).finally(e)},rulesSave(){if(confirm("共 "+this.rulestatus+" 条规则将被保存，"+(this.ruleble.enable?"":"但不启用该规则列表，")+"确定？")){const e=this.$message.loading("规则保存中...",0);this.$axios.put("/data",{type:"rules",eplists:this.eplists,ruleenable:this.ruleble.enable}).then((e=>{0===e.data.rescode?this.$message.success("保存成功",e.data.message):this.$message.error("RULES 规则保存失败",e.data.message)})).catch((e=>{this.$message.error("保存失败",e.message),console.error(e)})).finally(e)}},ruleDel(e){switch(this.$sType(e)){case"number":this.$delete(this.eplists,e);break;case"array":if(e.length&&confirm(`确定删除这 ${e.length} 条规则吗？\n（手动保存后正式生效）`)){let t=this.eplists.slice();for(let s of e)t[s]&&(t[s]=-1);this.eplists=t.filter((e=>-1!==e))}break;default:this.$message.error("规则删除失败，未知删除参数")}}}};const vr=ka(fr,dr,[function(){var e=this,t=e._self._c;return t("footer",{staticClass:"footer"},[t("ul",[t("li",[e._v("所有更改在保存后正式生效")]),e._v(" "),t("li",[e._v("仅首条命中规则有效，优先级低于 REWRITE")]),e._v(" "),t("li",[e._v("$HOLD 后面修改内容表示时间(秒) 0: 一直等待")]),e._v(" "),t("li",[e._v("更详细说明，参考 "),t("a",{attrs:{href:"https://github.com/elecV2/elecV2P-dei/tree/master/docs/03-rules.md",target:"elecV2PDoc"}},[e._v("说明文档: 03-rules")])])])])}],!1,null,null,null).exports;var gr=function(){var e=this,t=e._self._c;return t("section",{on:{keydown:function(t){return(t.type.indexOf("key")||83===t.keyCode)&&t.ctrlKey?(t.preventDefault(),t.stopPropagation(),e.reSave()):null},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:(t.preventDefault(),t.stopPropagation(),t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:void(e.rewriteChecked="none"))}}},[t("header",{staticClass:"header"},[e._v(e._s(e.$ta("rewrite","request")))]),e._v(" "),t("main",{staticClass:"content"},[t("div",{staticClass:"etable",on:{click:function(t){return t.stopPropagation(),e.rewriteDelegate(t)}}},[t("table",{staticClass:"elecTable",class:{"elecTable--disabled":!e.rewriteble.enable}},[t("caption",{staticClass:"elecTable_caption",class:{"elecTable--disabled":!e.rewriteble.enable}},[t("div",{staticClass:"eflex elecTable_caption--left"},[t("span",{attrs:{title:"启用/禁用该列表下的所有规则（包含订阅"}},[e._v(e._s(e.$t("enable"))+"：")]),e._v(" "),t("checkbox",{attrs:{oCheck:e.rewriteble}})],1),e._v(" "),t("span",{attrs:{title:"重写/修改某个网络请求的部分数据"}},[e._v("REWRITE "+e._s(e.$t("list"))+" - "+e._s(e.rewritestatus))]),e._v(" "),t("span",{staticClass:"icon icon_caption--sync",attrs:{title:e.$ta("refresh","current","list")},domProps:{innerHTML:e._s(e.icon.sync)},on:{click:function(t){return e.reInit()}}})]),e._v(" "),t("thead",[t("tr",[t("th",{staticClass:"elecTable_th elecTable_th--check",attrs:{title:e.$t("checkall")+"/"+e.$t("checknone")+"(ESC)"}},[t("input",{staticClass:"echeckbox",attrs:{type:"checkbox"},on:{change:function(t){return e.rewriteCkall(t)}}})]),e._v(" "),t("th",{staticClass:"elecTable_th minw320"},[e._v(e._s(e.$t("murl"))+"（"+e._s(e.$t("regexp"))+"）")]),e._v(" "),t("th",{staticClass:"elecTable_th minw160"},[e._v(e._s(e.$t("timing")))]),e._v(" "),t("th",{staticClass:"elecTable_th minw320",attrs:{title:e.$t("script")+" or reject "+e.$t("param")}},[e._v(e._s(e.$t("script")))]),e._v(" "),t("th",{staticClass:"elecTable_th elecTable_th--name"},[e._v(e._s(e.$t("note")))]),e._v(" "),t("th",{staticClass:"elecTable_th elecTable_th--enable",attrs:{title:e.$t("enable")}},[e._v(e._s(e.$t("enable_short")))]),e._v(" "),t("th",{staticClass:"elecTable_th minw62",attrs:{title:e.$t("operate")}},[e._v(e._s(e.$t("operate_short")))])])]),e._v(" "),t("tbody",{attrs:{tabindex:"0"}},[e._l(e.rewritelists,(function(s,i){return t("tr",{key:i,class:{"elecTable_tr--disabled":!s.enable,"elecTable_tr--selected":e.rewriteChecked[i]}},[t("td",{staticClass:"elecTable_td"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.rewriteCheck,expression:"rewriteCheck"}],staticClass:"echeckbox",attrs:{type:"checkbox"},domProps:{value:i,checked:Array.isArray(e.rewriteCheck)?e._i(e.rewriteCheck,i)>-1:e.rewriteCheck},on:{change:function(t){var s=e.rewriteCheck,n=t.target,a=!!n.checked;if(Array.isArray(s)){var r=i,o=e._i(s,r);n.checked?o<0&&(e.rewriteCheck=s.concat([r])):o>-1&&(e.rewriteCheck=s.slice(0,o).concat(s.slice(o+1)))}else e.rewriteCheck=a}}})]),e._v(" "),t("td",{staticClass:"elecTable_td"},[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:s.match,expression:"rewrite.match",modifiers:{trim:!0}}],staticClass:"elecTable_input",attrs:{type:"text"},domProps:{value:s.match},on:{input:function(t){t.target.composing||e.$set(s,"match",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),t("td",{staticClass:"elecTable_td",class:["req"===s.stage?"elecTable_td--req":"elecTable_td--res"]},[t("select",{directives:[{name:"model",rawName:"v-model",value:s.stage,expression:"rewrite.stage"}],staticClass:"elecTable_select",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(s,"stage",t.target.multiple?i:i[0])}}},[t("option",{attrs:{value:"res",selected:"selected"}},[e._v(e._s(e.bfres))]),e._v(" "),t("option",{attrs:{value:"req"}},[e._v(e._s(e.bfreq))])])]),e._v(" "),t("td",{staticClass:"elecTable_td"},[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:s.target,expression:"rewrite.target",modifiers:{trim:!0}}],staticClass:"elecTable_input",attrs:{type:"text"},domProps:{value:s.target},on:{input:function(t){t.target.composing||e.$set(s,"target",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),t("td",{staticClass:"elecTable_td"},[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:s.note,expression:"rewrite.note",modifiers:{trim:!0}}],staticClass:"elecTable_input",attrs:{type:"text",placeholder:"备注信息（可省略"},domProps:{value:s.note},on:{input:function(t){t.target.composing||e.$set(s,"note",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),t("td",{staticClass:"elecTable_td"},[t("checkbox",{attrs:{oCheck:s}})],1),e._v(" "),t("td",{staticClass:"elecTable_td"},[t("span",{staticClass:"icon--op",domProps:{innerHTML:e._s(e.icon.delete)},on:{click:function(t){return e.rewriteDel(i)}}})])])})),e._v(" "),t("tr",[t("td",{staticClass:"center border_top1",attrs:{colspan:"7"}},[t("span",{directives:[{name:"show",rawName:"v-show",value:e.rewriteCheck.length,expression:"rewriteCheck.length"}],staticClass:"elecTable_addbtn elecTable_addbtn--clear",on:{click:function(t){return e.rewriteDel(e.rewriteCheck)}}},[e._v(e._s(e.$ta("delete","checked","rule"))+" "+e._s(e.rewriteCheck.length))]),e._v(" "),t("span",{staticClass:"elecTable_addbtn",attrs:{"data-method":"newRewrite"}},[e._v(e._s(e.$ta("add","rewrite","rule")))]),e._v(" "),t("span",{staticClass:"elecTable_addbtn folderbk",attrs:{title:"导入备份文件将会覆盖当前所有规则（包括订阅）"},on:{click:function(t){return e.rewriteImport()}}},[e._v(e._s(e.$ta("import","backup","file")))]),e._v(" "),t("span",{staticClass:"elecTable_addbtn",attrs:{"data-method":"exportRewrite",title:"备份包含订阅在内的当前所有规则"}},[e._v(e._s(e.$ta("backup","current","list")))]),e._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:e.rewriteCheck.length,expression:"rewriteCheck.length"}],staticClass:"elecTable_addbtn elecTable_addbtn--uncheck",on:{click:function(t){e.rewriteCheck=[]}}},[e._v(e._s(e.$ta("cancel","checked","rule"))+" "+e._s(e.rewriteCheck.length))])])])],2),e._v(" "),e._l(e.rewritesub,(function(s,i){return t("tbody",{key:i,staticClass:"elecTable_group",style:{background:s.bkcolor}},[t("tr",{class:{"elecTable_tr--disabled":!s.enable,"elecTable_tr--selected":-1!==e.rewritesubChecked.indexOf(i)}},[t("td",{staticClass:"elecTable_td"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.rewritesubChecked,expression:"rewritesubChecked"}],staticClass:"echeckbox",attrs:{type:"checkbox"},domProps:{value:i,checked:Array.isArray(e.rewritesubChecked)?e._i(e.rewritesubChecked,i)>-1:e.rewritesubChecked},on:{change:[function(t){var s=e.rewritesubChecked,n=t.target,a=!!n.checked;if(Array.isArray(s)){var r=i,o=e._i(s,r);n.checked?o<0&&(e.rewritesubChecked=s.concat([r])):o>-1&&(e.rewritesubChecked=s.slice(0,o).concat(s.slice(o+1)))}else e.rewritesubChecked=a},function(t){return e.rewritesubCheck(i,t)}]}})]),e._v(" "),t("td",{staticClass:"elecTable_td",attrs:{colspan:"4"}},[t("div",{staticClass:"eflex w100"},[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:s.name,expression:"subr.name",modifiers:{trim:!0}}],staticClass:"elecTable_input elecTable_th--name",attrs:{type:"text",placeholder:"订阅名称"},domProps:{value:s.name},on:{input:function(t){t.target.composing||e.$set(s,"name",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:s.resource,expression:"subr.resource",modifiers:{trim:!0}}],staticClass:"elecTable_input elecBtn--mleft",attrs:{type:"text",placeholder:"订阅地址",title:"alt+enter 在新标签页中打开此订阅链接"},domProps:{value:s.resource},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.altKey?(t.preventDefault(),t.ctrlKey||t.shiftKey||t.metaKey?null:e.$uApi.open(s.resource)):null},input:function(t){t.target.composing||e.$set(s,"resource",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),t("button",{staticClass:"elecBtn elecBtn--mleft",on:{click:function(t){return e.rewritesubUpdate(s.resource,i)}}},[e._v(e._s(e.$t("fetch")))]),e._v(" "),-1!==e.rewritesubChecked.indexOf(i)?t("button",{staticClass:"elecBtn elecBtn--mleft",attrs:{"data-method":"exportRewrite","data-parm":i,title:"导出当前订阅下的所有规则"}},[e._v(e._s(e.$t("exportsub")))]):s.collapse?t("span",{staticClass:"elecBtn elecBtn--mleft elecBtn--uncheck"},[e._v(e._s(s.enable?s.list.filter((e=>e.enable)).length:"0")+"/"+e._s(s.list.length))]):t("input",{directives:[{name:"model",rawName:"v-model.trim.lazy",value:s.bkcolor,expression:"subr.bkcolor",modifiers:{trim:!0,lazy:!0}}],staticClass:"elecTable_input elecTable_cell100 elecBtn--mleft",attrs:{placeholder:"背景色",title:"当前分组背景颜色/图片"},domProps:{value:s.bkcolor},on:{change:function(t){e.$set(s,"bkcolor",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})])]),e._v(" "),t("td",{staticClass:"elecTable_td",attrs:{title:"启用/禁用该订阅下的所有规则"}},[t("checkbox",{attrs:{oCheck:s}})],1),e._v(" "),t("td",{staticClass:"elecTable_td"},[s.resource&&-1===e.rewritesubChecked.indexOf(i)?s.collapse?t("span",{staticClass:"icon--op",domProps:{innerHTML:e._s(e.icon.downcircle)},on:{click:function(t){return e.rewritesubOp(i,"collapse")}}}):t("span",{staticClass:"icon--op",domProps:{innerHTML:e._s(e.icon.upcircle)},on:{click:function(t){return e.rewritesubOp(i,"collapse")}}}):t("span",{staticClass:"icon--op",domProps:{innerHTML:e._s(e.icon.delete)},on:{click:function(t){return e.rewritesubOp(i,"delete")}}})])]),e._v(" "),e._l(e.rewritesublist[i],(function(s,n){return t("tr",{class:{"elecTable_tr--disabled":!s.enable,"elecTable_tr--selected":e.rewriteChecked[i+"|"+n]}},[t("td",{staticClass:"elecTable_td"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.rewriteCheck,expression:"rewriteCheck"}],staticClass:"echeckbox",attrs:{type:"checkbox"},domProps:{value:i+"|"+n,checked:Array.isArray(e.rewriteCheck)?e._i(e.rewriteCheck,i+"|"+n)>-1:e.rewriteCheck},on:{change:function(t){var s=e.rewriteCheck,a=t.target,r=!!a.checked;if(Array.isArray(s)){var o=i+"|"+n,l=e._i(s,o);a.checked?l<0&&(e.rewriteCheck=s.concat([o])):l>-1&&(e.rewriteCheck=s.slice(0,l).concat(s.slice(l+1)))}else e.rewriteCheck=r}}})]),e._v(" "),t("td",{staticClass:"elecTable_td"},[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:s.match,expression:"rewrite.match",modifiers:{trim:!0}}],staticClass:"elecTable_input",attrs:{type:"text"},domProps:{value:s.match},on:{input:function(t){t.target.composing||e.$set(s,"match",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),t("td",{staticClass:"elecTable_td",class:["req"===s.stage?"elecTable_td--req":"elecTable_td--res"]},[t("select",{directives:[{name:"model",rawName:"v-model",value:s.stage,expression:"rewrite.stage"}],staticClass:"elecTable_select",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(s,"stage",t.target.multiple?i:i[0])}}},[t("option",{attrs:{value:"res",selected:"selected"}},[e._v(e._s(e.bfres))]),e._v(" "),t("option",{attrs:{value:"req"}},[e._v(e._s(e.bfreq))])])]),e._v(" "),t("td",{staticClass:"elecTable_td"},[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:s.target,expression:"rewrite.target",modifiers:{trim:!0}}],staticClass:"elecTable_input",attrs:{type:"text"},domProps:{value:s.target},on:{input:function(t){t.target.composing||e.$set(s,"target",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),t("td",{staticClass:"elecTable_td"},[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:s.note,expression:"rewrite.note",modifiers:{trim:!0}}],staticClass:"elecTable_input",attrs:{type:"text",placeholder:"备注信息（可省略"},domProps:{value:s.note},on:{input:function(t){t.target.composing||e.$set(s,"note",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),t("td",{staticClass:"elecTable_td"},[t("checkbox",{attrs:{oCheck:s}})],1),e._v(" "),t("td",{staticClass:"elecTable_td"},[t("span",{staticClass:"icon--op",domProps:{innerHTML:e._s(e.icon.delete)},on:{click:function(t){return e.rewriteDel(i+"|"+n)}}})])])}))],2)})),e._v(" "),t("tfoot",[t("tr",[t("td",{staticClass:"center border_top1",attrs:{colspan:"7"}},[t("span",{directives:[{name:"show",rawName:"v-show",value:e.rewriteCheck.length,expression:"rewriteCheck.length"}],staticClass:"elecTable_addbtn trasbk",attrs:{"data-method":"disOrEn","data-parm":"enable"}},[e._v(e._s(e.$ta("enable_short","/","disable_short","checked","rule")))]),e._v(" "),t("span",{staticClass:"elecTable_addbtn",attrs:{"data-method":"newSub"}},[e._v(e._s(e.$ta("add","rewrite","sub")))]),e._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:e.rewriteCheck.length,expression:"rewriteCheck.length"}],staticClass:"elecTable_addbtn greenbk",attrs:{"data-method":"exportRewrite","data-parm":"checked"}},[e._v(e._s(e.$ta("export","as","sub")))])])])])],2)]),e._v(" "),t("p",{staticClass:"center"},[t("button",{staticClass:"elecBtn elecBtn--long",on:{click:function(t){return e.reSave()}}},[e._v(e._s(e.$t("save")))])])]),e._v(" "),e._m(0)])};gr._withStripped=!0;const _r={name:"rewrite",props:[],data(){return{bfreq:this.$t("bfreq"),bfres:this.$t("bfres"),rewritelists:[],rewritesub:[],rewritesubChecked:[],rewriteCheck:[],rewriteble:{enable:!0},icon:wa}},components:{checkbox:mr},computed:{rewritestatus(){let e=Object.keys(this.rewritesub),t=this.rewritelists.length,s=this.rewritelists.filter((e=>e.enable)).length;return e.forEach((e=>{void 0===this.rewritesub[e].list&&(this.rewritesub[e].list=[]),this.rewritesub[e].enable&&(s+=this.rewritesub[e].list.filter((e=>e.enable)).length,t+=this.rewritesub[e].list.length),void 0===this.rewritesub[e].collapse&&(this.rewritesub[e].collapse=!1)})),s+"/"+t+"/"+e.length},rewriteChecked:{get(){let e=[];return this.rewriteCheck.forEach((t=>{e[t]=!0})),e},set(e){"all"===e?this.rewriteCheck=Object.keys(this.rewritelists):"none"===e&&(this.rewriteCheck=[])}},rewritesublist(){let e={};return Object.keys(this.rewritesub).forEach((t=>{this.rewritesub[t].collapse?e[t]=[]:e[t]=this.rewritesub[t].list||[]})),e}},created(){this.reInit()},methods:{reInit(){const e=this.$message.loading("正在获取 rewrite 列表...",0);this.$axios.get("/data?type=rewritelists").then((e=>{e.data?(this.rewritesub=e.data.rewritesub||{},this.rewritelists=e.data.rewrite.list,this.rewriteCheck=[],this.rewriteble.enable=!1!==e.data.rewrite.enable,this.dealOldList(),this.$message.success("成功获取 REWRITE 规则列表",this.rewritestatus)):this.$message.error("REWRITE 规则列表获取失败")})).catch((e=>{this.$message.error("获取 REWRITE 规则列表失败",e.message),console.error("获取 REWRITE 规则列表失败",e)})).finally(e)},dealOldList(){let e=[];for(let t in this.rewritelists){let s=this.rewritelists[t];if("req"!==s.stage&&"res"!==s.stage&&(s.stage=/^reject(-200|-dict|-json|-array|-img)?$/.test(s.target)?"req":"res"),s.belong){let i=s.belong;delete s.belong,this.rewritesub[i]?(this.rewritesub[i].list?this.rewritesub[i].list.push(s):this.rewritesub[i].list=[s],this.rewritesub[i].bkcolor||(this.rewritesub[i].bkcolor=this.$uStr.randomColor({max:200})),e.push(t)):console.log("规则",s.match,"对应订阅已不存在，删除 belong 属性",i)}}e.reverse().forEach((e=>this.$delete(this.rewritelists,e)))},reSave(){let e=[];if(this.rewritelists.forEach(((t,s)=>{t.match&&t.target||e.push(s+1)})),e.length>0)this.$message.error("当前列表第",e.join(", "),"/",this.rewritelists.length,"项包含空字符，请填写完整或删除后再进行保存");else if(confirm(`保存重写规则列表 ${this.rewritestatus}${this.rewriteble.enable?"":"，但不启用"}`)){const e=this.$message.loading("重写规则上传保存中...",0);this.$axios.put("/data",{type:"rewrite",rewritelists:this.rewritelists,rewritesub:this.rewritesub,rewriteenable:this.rewriteble.enable}).then((e=>{0===e.data.rescode?this.$message.success("保存成功",e.data.message):this.$message.error("REWRITE 规则保存失败",e.data.message)})).catch((e=>{this.$message.error(e.message),console.error("重写规则保存失败",e)})).finally(e)}},rewriteDelegate(e){switch(e.target.dataset.method){case"disOrEn":let t="disable"===e.target.dataset.parm;this.rewriteCheck.forEach((e=>{if("number"===this.$sType(e))this.rewritelists[e].enable=t;else{let[s,i]=e.split("|");s&&i&&this.rewritesublist[s]&&(this.rewritesub[s].list[i].enable=t)}})),e.target.dataset.parm=t?"enable":"disable",this.$message.success("已批量",t?"启用":"禁用",this.rewriteCheck.length,"条规则");break;case"newRewrite":this.rewritelists.push({match:"^https?://httpbin\\.org/get\\?rewrite=elecV2P",stage:"req",target:"0body.js",enable:!0});break;case"newSub":this.rewritesubAdd();break;case"exportRewrite":this.rewriteExport(e.target.dataset.parm)}},async rewritesubUpdate(e,t){if(!e||!/^https?:\/\/\S{4}|^\/?efss\//i.test(e))return void this.$message.error("请输入正确的订阅地址");let s=this.$message.loading("正在获取订阅内容中...",0),i="";try{i=await this.$axios.get(e)}catch(t){if(t.response)return s(),this.$message.error(`获取订阅内容失败，服务器返回状态码 ${t.response.status}`),void console.debug(`获取订阅内容失败，服务器返回状态码 ${t.response.status}`,t.response.data);if(!/^https?:\/\/\S{4}/.test(e))return s(),void this.$message.error("获取订阅内容失败",t.message);try{this.$message.error("获取订阅内容失败",t.message,"即将尝试从服务器端获取该订阅内容"),i=await this.$axios.get("/data?type=stream&url="+e)}catch(e){return s(),void this.$message.error("获取订阅信息失败",e.message,"请检测网络后重试")}}if(200!==i.status||-1===i.data.rescode)return s(),this.$message.error("该订阅返回状态有误，请确认当前网络环境或输入链接是否正常"),void console.error(i.data);s();let n=this.$sJson(i.data);if(!n||!n.list&&!n.rewrite){if(!i.data)return void this.$message.error("没有检测到任何订阅内容");i.data=this.$sString(i.data),this.$message.success("检测到该订阅内容为非 elecV2P 订阅格式，尝试以兼容模式解析该内容"),n={name:this.rewritesub[t].name,mitmhost:[],list:[]};let e=i.data.match(/hostname ?= ?(.+)/);e&&e[1]&&(n.mitmhost=e[1].split(/ ?, ?/)),n.mitmhost.length&&(n.mitmhost[0]=n.mitmhost[0].replace("%APPEND% ","")),i.data.split(/\r|\n/).forEach((e=>{if(/^(#|\[|\/\/)/.test(e)||e.length<3)return;let t=e.split(" "),s=e.match(/script-path=([^,]*)/),i="",a="res",r="";if(s&&s[1])if(r=s[1],a=/http-request/.test(e)?"req":"res",/^http-res/.test(t[0]))i=t[1];else{let t=e.match(/pattern=([^,]*)/);t&&t[1]&&(i=t[1])}else t.length>=2&&(r=t.pop(),/^http|^reject|\.js$/.test(r)&&(i=t[0],a=/^reject/.test(r)||/request/.test(t[2])?"req":"res"));i&&a&&r&&n.list.push({match:i,stage:a,target:r,enable:!0})}))}if(n&&n.rewrite&&n.rewrite.length&&(n.list=n.rewrite),n&&n.list&&n.list.length){let e=`<div class="emargin title_inline">${n.note||"没有任何备注说明"}</div><div class="eflex eflex--center emargin w100"><label class="w220 cursor" data-method="nav" data-panel="rewrite">重写规则 ${n.list.length} 条</label><button class="elecBtn elecBtn--h32 greenbk" title="所有旧有规则将被替换" data-method="rewriteAdd">更新</button></div>`;n.mitmhost&&n.mitmhost.length&&(e+=`<div class="eflex eflex--center emargin w100"><label class="w220 cursor" data-method="nav" data-panel="mitm">MITM 域名 ${n.mitmhost.length} 个</label><button class="elecBtn elecBtn--h32 greenbk" data-method="hostAdd">添加</button></div>`),n.task&&n.task.list&&(e+=`<div class="eflex eflex--center emargin w100"><label class="w220 cursor" data-method="nav" data-panel="task">定时任务 ${n.task.list.length} 个</label><button class="elecBtn elecBtn--h32 greenbk" data-method="taskAdd">添加</button></div>`),e+=`<div class="emargin border_top1">作者: ${n.author||"无"}  更新: ${n.resource||"无"}</div>`;let s=this.$axios,i=this.$message,a=this.rewritesub;this.$evui({title:`${n.name||this.rewritesub[t].name||"检测到如下规则"}`,width:600,height:null,style:{title:`background: ${n.bkcolor||this.rewritesub[t].bkcolor};`,content:"text-align: center;margin: .2em;"},content:e,methods:{rewriteAdd(){let e=document.querySelector(".elecBtn[data-method=rewriteAdd]");if(e){if(e.dataset.done)return void i.success("重写规则已添加");e.dataset.done="1",e.classList.remove("greenbk"),e.classList.add("elecBtn--stop")}let s=n.list.filter((e=>{if(e.match&&/^http|^reject|\.js$/.test(e.target))return"req"!==e.stage&&"res"!==e.stage&&(e.stage=/^reject/.test(e.target)?"req":"res"),e.enable=!1!==e.enable,!0}));n.name&&(a[t].name=n.name),void 0!==n.enable&&(a[t].enable=n.enable),n.bkcolor&&(a[t].bkcolor=n.bkcolor),n.resource&&(a[t].resource=n.resource),a[t]={...a[t],list:s},i.success("订阅",n.name,"内容更新完成（保存后正式生效）")},taskAdd(){let e=document.querySelector(".elecBtn[data-method=taskAdd]");if(e){if(e.dataset.done)return void i.success("定时任务已添加");e.dataset.done="1",e.classList.remove("greenbk"),e.classList.add("elecBtn--stop")}for(let e of n.task.list)s.put("/task",{op:"add",data:{type:n.task.type,task:e}}).then((t=>{0===t.data.rescode?i.success("添加定时任务",e.name,t.data.message):i.error("添加定时任务失败",t.data.message)})).catch((e=>{i.error("添加定时任务失败",e.message),console.error("添加定时任务失败",e)}))},hostAdd(){let e=document.querySelector(".elecBtn[data-method=hostAdd]");if(e){if(e.dataset.done)return void i.success("解析域名已添加");e.dataset.done="1",e.classList.remove("greenbk"),e.classList.add("elecBtn--stop")}s.put("/data",{type:"mitmhostadd",data:n.mitmhost,note:n.name}).then((e=>{0===e.data.rescode?i.success("成功更新 MITMHOST",n.mitmhost.join(", ")):i.error("MITMHOST 更新失败",e.data.message)})).catch((e=>{i.error("更新 mitmhost 失败",e.message),console.error("更新 mitmhost 失败",e)}))}}})}else this.$message.error("elecV2P 暂时无法解析该订阅内容"),console.debug(this.rewritesub[t].name,"内容为",i.data)},rewritesubCheck(e,t){if(e&&t)if(t.target.checked)for(let t in this.rewritesub[e].list||[]){let s=e+"|"+t;-1===this.rewriteCheck.indexOf(s)&&this.rewriteCheck.push(s)}else this.rewriteCheck=this.rewriteCheck.filter((t=>!("string"==typeof t&&t.startsWith(e))))},rewriteDel(e){switch(this.$sType(e)){case"number":this.$delete(this.rewritelists,e);break;case"array":if(e.length&&confirm(`确定删除这 ${e.length} 条规则吗？\n（手动保存后正式生效）`)){for(let t of e)this.rewriteDel(t);this.rewriteCheck=[]}break;case"string":let[t,s]=e.split("|");t&&s&&this.rewritesublist[t]&&(this.rewritesublist[t].splice(Number(s),1),this.$forceUpdate());break;default:this.$message.error("规则删除失败，未知删除参数")}},rewritesubAdd(e=this.$uStr.euid()){this.$set(this.rewritesub,e,{name:this.$ta("rewrite","sub")+(Object.keys(this.rewritesub).length+1),resource:"",type:"rewrite",note:"",date:this.$sTime(),total:0,active:0,enable:!0,bkcolor:this.$uStr.randomColor({max:200}),collapse:!1,list:[]})},rewritesubOp(e,t="delete"){"collapse"===t?(this.rewritesub[e].collapse=!this.rewritesub[e].collapse,this.rewritesub[e].collapse?this.rewritesublist[e]=[]:this.rewritesublist[e]=this.rewritesub[e].list,this.$forceUpdate()):this.rewritesub[e]&&(0===this.rewritesub[e].list.length||confirm("确定删除重写订阅："+this.rewritesub[e].name+" 及其相关规则\n（并不会删除已添加的 MITMHOST/TASK 等）"))&&(this.$delete(this.rewritesub,e),this.rewriteCheck=this.rewriteCheck.filter((t=>!("string"==typeof t&&t.startsWith(e)))))},rewriteCkall(e){this.rewriteChecked=e.target.checked?"all":"none"},rewriteExport(e="all"){let t=Object.create(null),s="rewritesub-elecV2P.json";switch(e){case"all":t={rewrite:{note:"elecV2P 重写规则",date:this.$sTime(),total:this.rewritelists.length,active:this.rewritelists.filter((e=>e.enable)).length,enable:this.rewriteble.enable,list:this.rewritelists},rewritesub:this.rewritesub},s="rewrite.list",this.$message.success("成功使用当前规则列表（包含订阅）生成备份文件，请选择目录进行保存");break;case"checked":t={name:"elecV2P 重写订阅",author:"留个名字 elecV2",note:"xx 导出的重写规则。该订阅目前仅适用于 elecV2P。更多说明请查看: https://github.com/elecV2/elecV2P-dei/tree/master/docs/05-rewrite.md",date:this.$sTime(),type:"rewrite",resource:"订阅更新远程链接（待填写",mitmhost:[],list:[]},this.rewriteCheck.forEach((e=>{if("number"===this.$sType(e))e=this.rewritelists[e];else{let[t,s]=e.split("|");t&&s&&this.rewritesublist[t]&&(e=this.rewritesublist[t][s])}e.match&&e.stage&&e.target&&t.list.push(e)}));break;default:this.rewritesub[e]?(t={...this.rewritesub[e],type:"rewrite",note:"关于该订阅的一些说明（可省略）。该订阅目前仅适用于 elecV2P，与其他软件并不兼容。更详细说明请查看: https://github.com/elecV2/elecV2P-dei/tree/master/docs/05-rewrite.md",date:this.$sTime()},delete t.total,delete t.active,delete t.collapse,s=this.rewritesub[e].name):this.$message.error("未知导出类型",e)}"rewrite"===t.type||t.rewrite?this.$uApi.saveAsFile(t,s||"rewritesub-elecV2P.json"):this.$message.error("当前并没有检测到任何规则")},rewriteImport(){this.$uApi.getFile({accept:".list,.json",type:"text"}).then((e=>{let t=e.content,s=this.$sJson(t);s&&(s.rewrite&&s.rewrite.list||s.rewritesub)?confirm(`检测到重写规则 ${s.rewrite.list.length} 条，订阅 ${Object.keys(s.rewritesub||{}).length} 个\n确定使用该备份替换当前所有规则及订阅吗？`)&&(this.rewritelists=s.rewrite.list||[],this.rewritesub=s.rewritesub||{},this.rewriteCheck=[],this.rewriteble.enable=!1!==s.rewrite.enable,this.dealOldList(),this.$message.success("成功导入重写规则备份文件，保存后正式生效")):(console.error("elecV2P 无法解析导入文件",t),this.$message.error("无法解析导入文件，仅支持 elecV2P 的备份文件"))})).catch((e=>{console.debug("rewrite import",e)}))}}};const br=ka(_r,gr,[function(){var e=this,t=e._self._c;return t("footer",{staticClass:"footer"},[t("ul",[t("li",[t("b",[e._v("本页所有规则的更改在点击保存后才正式生效")])]),e._v(" "),t("li",[e._v("订阅规则并不会自动加载更新，需手动获取及保存")]),e._v(" "),t("li",[e._v("规则匹配公式: `(new RegExp('正则表达式')).test(request.url)`")]),e._v(" "),t("li",[e._v("更多说明请查看 "),t("a",{attrs:{href:"https://github.com/elecV2/elecV2P-dei/tree/master/docs/05-rewrite.md",target:"elecV2PDoc"}},[e._v("文档: 05-rewrite")])])])])}],!1,null,null,null).exports;var yr=function(){var e=this,t=e._self._c;return t("section",[t("header",{staticClass:"header"},[e._v(e._s(e.$ta("script","manage")))]),e._v(" "),t("main",{staticClass:"content",on:{click:function(t){e.menu={}}}},[t("contextmenu",{attrs:{menus:e.menu.list,pos:e.menu.pos}}),e._v(" "),t("store",{attrs:{logs:e.logs},on:{belongview:function(t){t&&t.includes("|")?e.jsname=t:e.jsView(t)}}}),e._v(" "),t("div",{staticClass:"title--radius",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:(t.preventDefault(),t.stopPropagation(),t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:void(e.menu={}))}}},[t("h4",{staticClass:"title title--radius"},[t("span",{staticClass:"icon cursor title_sync",attrs:{title:"更新列表"},domProps:{innerHTML:e._s(e.icon.sync)},on:{click:function(t){return e.getJSlist()}}}),e._v(" "),t("span",{staticClass:"title_main",attrs:{title:"当前服务器上存在的本地脚本文件数量"}},[e._v(e._s(e.$ta("script","files"))+" - "+e._s(e.jslists.length))]),e._v(" "),t("span",{staticClass:"title_arrow",class:{"title_arrow--up":e.collapse.titlearrow},on:{click:function(t){if(t.preventDefault(),t.target!==t.currentTarget)return null;e.collapse.titlearrow=!e.collapse.titlearrow}}})]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.collapse.titlearrow,expression:"collapse.titlearrow"}],staticClass:"uploadjs"},[t("div",{staticClass:"eflex w100 eflex--between"},[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.jsdownloadurl,expression:"jsdownloadurl",modifiers:{trim:!0}}],staticClass:"elecTable_input wp80",attrs:{type:"text",placeholder:"远程脚本链接 script url"},domProps:{value:e.jsdownloadurl},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.jsDownload()},input:function(t){t.target.composing||(e.jsdownloadurl=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),t("button",{staticClass:"elecBtn wp19",on:{click:function(t){return e.jsDownload()}}},[e._v(e._s(e.$ta("start","push")))])]),e._v(" "),t("div",{staticClass:"eflex eflex--between w100 emargin"},[t("div",{staticClass:"eupload wp80"},[t("input",{ref:"jsfiles",staticClass:"eupload_file",attrs:{type:"file",accept:".js, .efh",multiple:"",title:"choose script files"},on:{change:e.jstoupload}}),e._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:e.jsfiles.length,expression:"jsfiles.length"}],staticClass:"eupload_span"},[e._v(e._s(e.jsfilename))])]),e._v(" "),t("button",{staticClass:"elecBtn wp19",on:{click:function(t){return e.jsUpload()}}},[e._v(e._s(e.$ta("start","upload")))])])]),e._v(" "),t("div",{staticClass:"jslists_cont",attrs:{tabindex:"0"}},[t("ul",{staticClass:"jslists_alljs",on:{click:function(t){return t.preventDefault(),e.jsOp(t)},contextmenu:function(t){return t.preventDefault(),t.stopPropagation(),e.jsOp(t)}}},[e._l(e.jslistsshow,(function(s){return t("li",{key:s,staticClass:"jslists_item"},[t("span",{staticClass:"jsitem_view",attrs:{"data-method":"view","data-param":s}},[e._v("👁️")]),e._v(" "),t("span",{attrs:{"data-method":"menu","data-param":s}},[e._v(e._s(s))]),e._v(" "),t("span",{staticClass:"jsitem_delete",attrs:{"data-method":"delete","data-param":s}},[e._v("X")])])})),e._v(" "),t("li",{directives:[{name:"show",rawName:"v-show",value:!!e.restnum,expression:"!!restnum"}],staticClass:"jslists_item jslists_item--showrest"},[t("span",{on:{click:function(t){e.shownum=-1}}},[e._v(e._s(e.$ta("show","rest"))+" "+e._s(e.restnum))])])],2)])]),e._v(" "),t("div",{staticClass:"editor editor--jsmanage",class:{"editor--full":!e.collapse.editor}},[t("h3",{staticClass:"editor_title"},[t("div",{staticClass:"eflex wp46 minw320 epos_rel"},[t("label",{staticClass:"minw100"},[e._v(e._s(e.$t("name"))+"： ")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.jsname,expression:"jsname",modifiers:{trim:!0}}],staticClass:"elecTable_input",attrs:{placeholder:"脚本文件名 enter: 查看，ctrl+del: 删除"},domProps:{value:e.jsname},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.jsView(e.jsname)},keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete","Del"])?null:t.ctrlKey?t.shiftKey||t.altKey||t.metaKey?null:e.jsDelete(e.jsname):null},function(t){return(t.type.indexOf("key")||83===t.keyCode)&&t.ctrlKey?(t.preventDefault(),t.stopPropagation(),t.shiftKey||t.altKey||t.metaKey?null:e.jsSave()):null},function(t){e.jsshowall=!1}],input:function(t){t.target.composing||(e.jsname=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),t("button",{directives:[{name:"show",rawName:"v-show",value:e.jsname,expression:"jsname"}],staticClass:"elecBtn elecBtn--del",on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.jsDelete(e.jsname)}}},[e._v("X")])]),e._v(" "),t("div",{staticClass:"script_info",class:{hide:!e.jsupdate}},[t("span",{staticClass:"eflex script_size",attrs:{title:"脚本大小"}},[e._v(e._s(e.jssize))]),e._v(" "),t("span",{staticClass:"emargin--d5em",attrs:{title:"最近更新"}},[e._v(e._s(e.jsupdate))])]),e._v(" "),t("div",{staticClass:"eflex bk_main_cl radius_bs"},[t("button",{staticClass:"elecBtn greenbk elecBtn--new",on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.jsView()}}},[e._v(e._s(e.$ta("new","script")))]),e._v(" "),t("button",{staticClass:"elecBtn bk_secd_fc radius_zero",on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.scriptTask()}}},[e._v(e._s(e.$ta("add","task")))]),e._v(" "),t("span",{staticClass:"title_collapse emargin--d5em",class:{"title_collapse--collapsed":e.collapse.editor},attrs:{title:"全屏"},on:{click:function(t){if(t.preventDefault(),t.target!==t.currentTarget)return null;e.collapse.editor=!e.collapse.editor}}})])]),e._v(" "),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.jscontent,expression:"jscontent"}],staticClass:"editor_textarea",class:{"editor_textarea--nowrap":e.textarea_nowrap},attrs:{placeholder:e.orgjs},domProps:{value:e.jscontent},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")||t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:(t.preventDefault(),t.stopPropagation(),e.$uApi.insertText("  "))},function(t){return(t.type.indexOf("key")||83===t.keyCode)&&t.ctrlKey?(t.preventDefault(),t.stopPropagation(),e.jsSave()):null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey?(t.preventDefault(),t.shiftKey||t.altKey||t.metaKey?null:e.jsTest()):null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.altKey?(t.preventDefault(),t.ctrlKey||t.shiftKey||t.metaKey?null:void(e.textarea_nowrap=!e.textarea_nowrap)):null},function(t){return(t.type.indexOf("key")||66===t.keyCode)&&t.ctrlKey?(t.preventDefault(),t.stopPropagation(),t.shiftKey||t.altKey||t.metaKey?null:e.jsTest()):null}],input:function(t){t.target.composing||(e.jscontent=t.target.value)}}}),e._v(" "),t("div",{staticClass:"eflex eflex--wrap w100",attrs:{title:"tab: 两个空格 ctrl+s: 保存 ctrl+enter/ctrl+b: 测试运行 alt+enter: 不换行"}},[t("button",{staticClass:"elecBtn elecBtn--jseditor",on:{click:function(t){return e.jsSave()}}},[e._v(e._s(e.$ta("save","script"))+"(ctrl+s)")]),e._v(" "),t("button",{staticClass:"elecBtn elecBtn--jseditor",on:{click:function(t){return e.jsTest()}}},[e._v(e._s(e.$ta("test","run"))+"(ctrl+b)")])])]),e._v(" "),t("mock",{attrs:{jslists:e.jslists}}),e._v(" "),t("log",{attrs:{logs:e.logs,title:e.runlogs,collapse:e.collapse}})],1),e._v(" "),t("footer",{staticClass:"footer"},[t("ul",{staticClass:"footer_tip"},[t("li",[e._v("当远程脚本无法推送时，尝试在 SETTING 界面添加代理")]),e._v(" "),t("li",[e._v("远程推送脚本时可附加 -rename=xxx.js 重命名文件")]),e._v(" "),t("li",[e._v("mock 网络请求可用于检查网络及代理是否正常")]),e._v(" "),t("li",[e._v(e._s(e.$ta("more","detail"))+" "),t("a",{attrs:{href:"https://github.com/elecV2/elecV2P-dei/tree/master/docs/04-JS.md",target:"elecV2PDoc"}},[e._v(e._s(e.$t("document"))+"：04-JS.md")])])])])])};yr._withStripped=!0;var $r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"storemanage",class:{"storemanage--collapsed":e.collapse}},[t("h2",{staticClass:"title"},[t("span",{staticClass:"icon cursor title_sync",attrs:{title:"更新列表"},domProps:{innerHTML:e._s(e.icon.sync)},on:{click:e.storeGet}}),e._v(" "),t("span",{staticClass:"title_main",attrs:{title:"ctrl+f 搜索"}},[e._v("store/cookie "+e._s(e.$t("persistence"))+" - "+e._s(Object.keys(e.store).length))]),e._v(" "),t("span",{staticClass:"title_collapse",class:{"title_collapse--collapsed":e.collapse},on:{click:function(t){e.collapse=!e.collapse}}})]),e._v(" "),t("ul",{staticClass:"storelists",on:{click:function(t){return t.preventDefault(),e.storeOp(t)}}},[e._l(e.storeshow,(function(s){return t("li",{key:s,staticClass:"storelists_item"},[t("span",{attrs:{"data-edit":s}},[e._v(e._s(s))]),e._v(" "),t("span",{staticClass:"item_delete",attrs:{"data-delete":s}},[e._v("X")])])})),e._v(" "),t("li",{directives:[{name:"show",rawName:"v-show",value:!!e.restnum,expression:"!!restnum"}],staticClass:"storelists_item storelists_item--showrest"},[t("span",{on:{click:function(t){e.shownum=-1}}},[e._v(e._s(e.$ta("show","rest"))+" "+e._s(e.restnum))])])],2),e._v(" "),t("div",{staticClass:"editor editor--inner"},[t("div",{staticClass:"editor_title"},[t("div",{staticClass:"eflex epos_rel"},[t("label",{staticClass:"store_label",attrs:{title:"请注意大小写"}},[e._v("KEY：")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.edkey,expression:"edkey",modifiers:{trim:!0}}],staticClass:"editor_input storekey_input",attrs:{type:"text",name:"name",placeholder:"NEWKEY"},domProps:{value:e.edkey},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")||t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.storeEdit(e.edkey)},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete","Del"])?null:t.ctrlKey?t.shiftKey||t.altKey||t.metaKey?null:e.storeDelete(e.edkey):null},input:function(t){t.target.composing||(e.edkey=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),t("button",{directives:[{name:"show",rawName:"v-show",value:e.edkey,expression:"edkey"}],staticClass:"elecBtn elecBtn--del",on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.storeDelete(e.edkey)}}},[e._v("X")])]),e._v(" "),t("div",{staticClass:"eflex emargin",attrs:{title:"如不清楚就保持默认"}},[t("label",{staticClass:"store_label"},[e._v("TYPE：")]),e._v(" "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.edvalue.type,expression:"edvalue.type"}],staticClass:"elecTable_select w120",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.edvalue,"type",t.target.multiple?s:s[0])}}},[t("option",{attrs:{selected:"selected"}},[e._v("string")]),e._v(" "),t("option",[e._v("number")]),e._v(" "),t("option",{attrs:{value:"object"}},[e._v("json")]),e._v(" "),t("option",[e._v("array")]),e._v(" "),t("option",[e._v("boolean")])])]),e._v(" "),t("div",{staticClass:"eflex"},[t("label",{staticClass:"minw100"},[e._v(e._s(e.$t("belong"))+":")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.trim.lazy",value:e.edvalue.belong,expression:"edvalue.belong",modifiers:{trim:!0,lazy:!0}}],staticClass:"editor_input storebelong_input",attrs:{type:"text",name:"name",placeholder:"写入或调用该 store 常量的脚本（可省略）"},domProps:{value:e.edvalue.belong},on:{change:function(t){e.$set(e.edvalue,"belong",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),t("div",{staticClass:"storebelong eflex--wrap"},[t("div",{staticClass:"eflex"},[t("label",{staticClass:"store_label"},[e._v(e._s(e.$t("note"))+"：")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.trim.lazy",value:e.edvalue.note,expression:"edvalue.note",modifiers:{trim:!0,lazy:!0}}],staticClass:"editor_input storenote_input",attrs:{type:"text",name:"name",placeholder:"关于该 store 常量的一些说明（可省略）"},domProps:{value:e.edvalue.note},on:{change:function(t){e.$set(e.edvalue,"note",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:e.edvalue.update,expression:"edvalue.update"}],staticClass:"efont",attrs:{title:"该 cookie 的最近更新时间"}},[e._v(e._s(e.$ta("last","update"))+": "+e._s(e.edvalue.update))]),e._v(" "),t("button",{staticClass:"elecBtn elecBtn--h36",on:{click:function(t){return e.viewBelong()}}},[e._v(e._s(e.$ta("check","belong","script")))])])]),e._v(" "),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.edvalue.value,expression:"edvalue.value"}],staticClass:"editor_textarea",attrs:{placeholder:"the value of key"},domProps:{value:e.edvalue.value},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")||t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:(t.preventDefault(),t.stopPropagation(),e.$uApi.insertText("  "))},function(t){return(t.type.indexOf("key")||83===t.keyCode)&&t.ctrlKey?(t.preventDefault(),t.stopPropagation(),e.storeSave()):null}],input:function(t){t.target.composing||e.$set(e.edvalue,"value",t.target.value)}}}),e._v(" "),t("div",{staticClass:"eflex eflex--wrap w100"},[t("button",{staticClass:"elecBtn elecBtn--store",attrs:{title:"快捷键: ctrl+s"},on:{click:function(t){return e.storeSave()}}},[e._v(e._s(e.$t("save")))]),e._v(" "),t("button",{staticClass:"elecBtn elecBtn--store folderbk",attrs:{title:".json 表示单个 Cookie, .zip 表示所有 Cookie"},on:{click:function(t){return e.storeImport()}}},[e._v(e._s(e.$t("import")))]),e._v(" "),t("button",{staticClass:"elecBtn elecBtn--store",on:{click:function(t){return e.storeExport()}}},[e._v(e._s(e.$t("export")))]),e._v(" "),t("button",{staticClass:"elecBtn elecBtn--store greenbk",on:{click:function(t){return e.storeBackup()}}},[e._v(e._s(e.$ta("backup","all")))])])])])};$r._withStripped=!0;const wr={name:"storemanage",props:["logs"],data:()=>({store:[],edkey:"",edvalue:{type:"string"},collapse:!0,icon:wa,shownum:50,restnum:0}),computed:{storeshow(){let e=this.shownum;if(-1===e||e>=this.store.length)return this.restnum=0,this.store;let t=0,s=[];for(;t++<e;)s.push(this.store[t]);return this.restnum=this.store.length-t+1,s}},created(){this.storeGet()},methods:{storeGet(){const e=this.$message.loading("正在获取 store 常量...",0);this.$axios.get("/store").then((e=>{this.store=e.data,this.$message.success("成功获取 store 常量 "+this.store.length),this.logs.unshift(`[${this.$logHead("storemanage info")}][${this.$sTime(null,1)}] 成功获取 store 常量 ${this.store.length}`)})).catch((e=>{this.$message.error("获取 store 常量失败",e.message),this.logs.unshift(`[${this.$logHead("storemanage error")}][${this.$sTime(null,1)}] 获取 store/cookie 常量失败 ${e.message}`),console.error("获取 store 常量失败",e)})).finally(e)},storeEdit(e){if(!e)return void this.$message.error("请先确定要获取的 key 值");if(-1===this.store.indexOf(e))return this.$message.error(e,"暂不存在"),void this.logs.unshift(`[${this.$logHead("storemanage error")}][${this.$sTime(null,1)}] ${e} 暂不存在`);const t=this.$message.loading("正在获取",e,"的值...",0);this.$axios.get("/store/"+e).then((t=>{this.edkey=e,"object"==typeof t.data&&void 0!==t.data.type&&void 0!==t.data.value?(this.edvalue=t.data,/^(array|object|json)$/.test(t.data.type)&&(this.edvalue.value=JSON.stringify(t.data.value,null,2))):this.edvalue={type:"string",value:"object"==typeof t.data?JSON.stringify(t.data,null,2):t.data},this.$message.success("成功获取",e,"的值"),this.logs.unshift(`[${this.$logHead("storemanage info")}][${this.$sTime(null,1)}] 成功获取 ${e} 的值`)})).catch((t=>{this.$message.error("获取",e,"数据失败",t.message),this.logs.unshift(`[${this.$logHead("storemanage error")}][${this.$sTime(null,1)}] 获取 ${e} 数据失败 ${t.message}`),console.error("获取",e,"数据失败",t)})).finally(t)},storeSave(){if(this.edkey&&this.edvalue.value){if(/array|object|json/.test(this.edvalue.type)){let e=this.$sJson(this.edvalue.value);if(!e)return void this.$message.error("当前输入内容无法转化为 array/object/json 格式");this.edvalue.value=JSON.stringify(e,null,2)}if(-1===this.store.indexOf(this.edkey)||confirm(this.edkey+" 已存在，是否覆盖？")){const e=this.$message.loading("数据上传保存中...",0);this.$axios.put("/store",{type:"save",data:{key:this.edkey,value:this.edvalue}}).then((e=>{-1===e.data.rescode?(this.$message.error(this.edkey,"保存失败"),this.logs.unshift(`[${this.$logHead("storemanage error")}][${this.$sTime(null,1)}] ${this.edkey} 保存失败 ${e.data.message}`)):(this.$message.success(this.edkey,"已保存"),this.logs.unshift(`[${this.$logHead("storemanage info")}][${this.$sTime(null,1)}] ${this.edkey} 已保存 ${e.data.message||e.data}`),-1===this.store.indexOf(this.edkey)&&this.store.push(this.edkey),"number"===this.edvalue.type?this.edvalue.value=Number(this.edvalue.value):"boolean"===this.edvalue.type&&(this.edvalue.value=this.$uStr.sBool(this.edvalue.value)),this.$set(this.edvalue,"update",this.$sTime(null,0,0)))})).catch((e=>{this.$message.error("保存失败:",e.message),this.logs.unshift(`[${this.$logHead("storemanage error")}][${this.$sTime(null,1)}] ${this.edkey} 保存失败 ${e.message}`),console.error("提交 store 常量失败",e)})).finally(e)}}else this.$message.error("请先输入 KEY 及对应内容")},storeDelete(e){if(e){if(confirm("确定删除："+e+"，及对应的值？")){const t=this.$message.loading("数据删除中...",0);this.$axios.put("/store",{type:"delete",data:e}).then((t=>{if(0===t.data.rescode){this.$message.success(e,"已删除"),this.logs.unshift(`[${this.$logHead("storemanage info")}][${this.$sTime(null,1)}] ${e} 已删除 ${t.data.message}`);const s=this.store.indexOf(e);s>-1&&this.store.splice(s,1),this.edkey===e&&(this.edkey="",this.edvalue={type:"string"})}else this.$message.error(e,"删除失败",t.data.message),this.logs.unshift(`[${this.$logHead("storemanage error")}][${this.$sTime(null,1)}] ${e} 删除失败 ${t.data.message}`)})).catch((t=>{this.$message.error("删除失败："+t.message),this.logs.unshift(`[${this.$logHead("storemanage error")}][${this.$sTime(null,1)}] ${e} 删除失败 ${t.message}`),console.error("删除数据失败",t)})).finally(t)}}else this.$message.error("请先输入要删除的 KEY")},storeOp(e){e.target.dataset.edit?this.storeEdit(e.target.dataset.edit):e.target.dataset.delete&&this.storeDelete(e.target.dataset.delete)},viewBelong(){this.edvalue.belong?this.$emit("belongview",this.edvalue.belong.replaceAll(/ ?, ?|，| /g,"|")):this.$message.error("该 cookie 暂无关联脚本")},storeExport(){this.edkey&&this.edvalue.value?this.$uApi.saveAsFile({key:this.edkey,value:this.edvalue,update:this.$sTime()},this.edkey+"_elecV2Pstore.json"):this.$message.error("当前 Cookie 值为空")},async storeImport(){let e=await this.$uApi.getFile({accept:".json,.zip",type:"file"});if("application/x-zip-compressed"===e.type){if(!/elecV2P/.test(e.name)&&!confirm("当前导入 zip 文件可能并不是 elecV2P store 备份\n确定要继续导入吗？"))return;const t=this.$message.loading("正在对上传的备份文件进行解析...");let s=new FormData;return s.append("backup",e),void this.$axios.post("/store/backup",s,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{0===e.data.rescode?(console.debug(e.data),this.store=e.data.resdata,this.$message.success("store 备份成功上传"),this.logs.unshift(`[${this.$logHead("storeImport info")}][${this.$sTime(null,1)}] 备份上传成功 ${e.data.message}`)):(this.$message.error("备份上传失败",e.data.message),this.logs.unshift(`[${this.$logHead("storeImport error")}][${this.$sTime(null,1)}] store 备份上传失败 ${e.data.message}`))})).catch((e=>{this.$message.error("上传备份失败",e.message),this.logs.unshift(`[${this.$logHead("storeImport error")}][${this.$sTime(null,1)}] 上传备份失败 ${e.message}`),console.error(e)})).finally(t)}if("application/json"!==e.type)return void this.$message.error("仅支持 json 格式文件导入");let t=new FileReader;t.onload=e=>{let t=e.target.result,s=this.$sJson(t);s.key&&s.value&&s.value.type&&s.value.value?(this.edkey=s.key,this.edvalue=s.value,this.logs.unshift(`[${this.$logHead("storeImport info")}][${this.$sTime(null,1)}] 成功导入 Cookie ${this.edkey}`),this.$message.success(`成功导入 Cookie ${this.edkey}`)):(console.error("elecV2P 无法解析该文件内容",t),this.$message.error("导入的 Cookie 文件内容格式不正确",8),this.logs.unshift(`[${this.$logHead("storeImport error")}][${this.$sTime(null,1)}] 导入的 Cookie 文件内容并非 elecV2P 可解析的格式\n${t.length>300?t.slice(-300)+"...":t}`))},t.readAsText(e)},storeBackup(){this.$uApi.downloadFile("/backup/store","elecV2P_store.zip")}}};const kr=ka(wr,$r,[],!1,null,"c3b243d4",null).exports;var Cr=function(){var e=this,t=e._self._c;return t("div",{staticClass:"mock",class:{"mock--collapsed":e.collapse}},[t("h4",{staticClass:"title title--mock"},[t("span",{staticClass:"title_main"},[e._v(e._s(e.$ta("mock","HTTP","request")))]),e._v(" "),t("span",{staticClass:"title_collapse",class:{"title_collapse--collapsed":e.collapse},on:{click:function(t){e.collapse=!e.collapse}}})]),e._v(" "),t("div",{staticClass:"eflex eflex--wrap"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.method,expression:"method"}],staticClass:"elecTable_select w120 emargin--top",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.method=t.target.multiple?s:s[0]}}},[t("option",[e._v("GET")]),e._v(" "),t("option",[e._v("PUT")]),e._v(" "),t("option",[e._v("POST")]),e._v(" "),t("option",[e._v("DELETE")])]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.lazy.trim",value:e.apiurl,expression:"apiurl",modifiers:{lazy:!0,trim:!0}}],staticClass:"elecTable_input eflex_grow1 wp50 emargin--d5em",domProps:{value:e.apiurl},on:{change:function(t){e.apiurl=t.target.value.trim()},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.mocktype,expression:"mocktype"}],staticClass:"elecTable_select w220 emargin--top",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.mocktype=t.target.multiple?s:s[0]}}},[t("option",{attrs:{value:"fetch"}},[e._v("from "+e._s(e.$t("browser")))]),e._v(" "),t("option",{attrs:{value:"axios"}},[e._v("from elecV2P")])])]),e._v(" "),t("div",{staticClass:"eflex eflex--wrap"},[t("label",{staticClass:"mock_label",attrs:{title:"网络请求头"}},[e._v("HEADERS：")]),e._v(" "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.headertype,expression:"headertype"}],staticClass:"elecTable_select w220 emargin--top",attrs:{title:"Content-Type"},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.headertype=t.target.multiple?s:s[0]}}},[t("option",[e._v("text/plain")]),e._v(" "),t("option",[e._v("application/json")]),e._v(" "),t("option",[e._v("application/x-www-form-urlencoded")])]),e._v(" "),t("label",{staticClass:"mock_label emargin--left",attrs:{title:"headers more"}},[e._v(e._s(e.$t("more").toUpperCase())+"：")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.lazy.trim",value:e.headermore,expression:"headermore",modifiers:{lazy:!0,trim:!0}}],staticClass:"elecTable_input eflex_grow1 wp50 emargin--top",attrs:{placeholder:"{ Cookie: '123' }"},domProps:{value:e.headermore},on:{change:function(t){e.headermore=t.target.value.trim()},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),t("textarea",{directives:[{name:"model",rawName:"v-model.lazy.trim",value:e.body,expression:"body",modifiers:{lazy:!0,trim:!0}}],staticClass:"editor_textarea editor_textarea--mini",attrs:{placeholder:"request body. 网络请求体"},domProps:{value:e.body},on:{change:function(t){e.body=t.target.value.trim()},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),t("div",{staticClass:"eflex"},[t("button",{staticClass:"elecBtn elecBtn--stlong",on:{click:function(t){return e.mockreq()}}},[e._v(e._s(e.$ta("send","request")))]),e._v(" "),t("button",{staticClass:"elecBtn elecBtn--stlong emargin--left",on:{click:function(t){e.jsnameshow=!0}}},[e._v(e._s(e.$ta("make","script")))])]),e._v(" "),e.jsnameshow?t("div",{staticClass:"mockjsname"},[t("label",{staticClass:"mock_label"},[e._v(e._s(e.$ta("script","name"))+"：")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.lazy.trim",value:e.jsname,expression:"jsname",modifiers:{lazy:!0,trim:!0}}],staticClass:"elecTable_input w220",domProps:{value:e.jsname},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.mockjs()},change:function(t){e.jsname=t.target.value.trim()},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),t("button",{staticClass:"elecBtn emargin--d5em greenbk",on:{click:function(t){return e.mockjs()}}},[e._v(e._s(e.$t("confirm")))]),e._v(" "),t("button",{staticClass:"elecBtn elecBtn--stop minw62",on:{click:function(t){e.jsnameshow=!1}}},[e._v("X")])]):e._e()])};Cr._withStripped=!0;const xr={name:"mock",props:["jslists"],data:()=>({method:"GET",apiurl:"https://httpbin.org/get",mocktype:"fetch",headertype:"text/plain",headermore:"{}",body:null,jsname:"elecV2Pmock.js",jsnameshow:!1,collapse:!0}),computed:{headers(){let e={"Content-Type":this.headertype+";charset=utf-8"},t=this.$sJson(this.headermore);return t?Object.assign(e,t):(this.$message.error("headers 附加内容并不是正确的 JSON 格式"),this.$wsrecv.dispatch("jsmanage",`[${this.$logHead("mockreq error")}][${this.$sTime(null,1)}] headers 附加内容 ${this.headermore} 并不是正确的 JSON 格式`)),e}},methods:{mockreq(){const e={url:this.apiurl,method:this.method,headers:this.headers,body:this.body};if(/json/.test(e.headers["Content-Type"])){let t=this.$sJson(this.body);if(!t)return console.error("body 内容并不是正确的 JSON 格式"),void this.$message.error("body 内容并不是正确的 JSON 格式");e.body=t}e.body?e.body=this.$sString(e.body):e.body=null;const t=this.$message.loading("网络请求已执行，等待数据返回...",0);"fetch"===this.mocktype?fetch(e.url,e).then((e=>e.text())).then((e=>{this.$message.success("网络请求成功"),e=`[${this.$logHead("mockFetch result")}][${this.$sTime(null,1)}] ${e}`,this.$wsrecv.dispatch("jsmanage",e)})).catch((e=>{this.$message.error("fetch 请求失败",e.message);let t=`[${this.$logHead("mockFetch error")}][${this.$sTime(null,1)}] fetch 请求失败 ${e.message}`;this.$wsrecv.dispatch("jsmanage",t),console.error("fetch 请求失败",e)})).finally(t):this.$axios.put("/mock",{type:"req",request:e}).then((e=>{this.$message.success("网络请求",e.data.message),console.debug(e.data)})).catch((e=>{this.$message.error("请求失败",e.message),console.error(e)})).finally(t)},mockjs(){this.jsnameshow=!1;const e={url:this.apiurl,method:this.method,headers:this.headers};if(/json/.test(e.headers["Content-Type"])){let t=this.$sJson(this.body);if(!t)return console.error("body 内容并不是正确的 JSON 格式"),void this.$message.error("body 内容并不是正确的 JSON 格式");e.body=t}else e.body=this.body;if(this.jslists.indexOf(this.jsname)>-1&&!confirm(this.jsname+" 已存在，是否覆盖？"))return;const t=this.$message.loading("JS 脚本生成中...",0);this.$axios.put("/mock",{type:"js",jsname:this.jsname,request:e}).then((e=>{this.$message.success("脚本已保存",e.data.message),this.jslists.push(this.jsname)})).catch((e=>{this.$message.error("请求失败",e.message),console.error(e)})).finally(t)}}};const Tr=ka(xr,Cr,[],!1,null,"732d9c77",null).exports;var Sr=function(){var e=this,t=e._self._c;return t("ul",{staticClass:"menu",style:{left:(e.pos?e.pos[0]:0)+"px",top:(e.pos?e.pos[1]:0)+"px"}},e._l(e.menus,(function(s,i){return t("li",{staticClass:"menu_item",style:{color:s.color,backgroundColor:s.bkcolor,fontSize:s.fontsize,height:s.height},attrs:{"data-method":s.method,"data-param":s.param},on:{click:function(t){return t.preventDefault(),e.click(i)},contextmenu:function(t){return t.preventDefault(),e.rclick(i)},dblclick:function(t){return t.preventDefault(),e.dclick(i)}}},[e._v(e._s(s.label))])})),0)};Sr._withStripped=!0;const Or=ka({name:"contextmenu",props:["menus","pos"],methods:{click(e){this.menus.length&&this.menus[e].click?this.menus[e].click():console.debug("点击暂无对应处理函数"),this.menus.splice(0)},rclick(e){this.menus.length&&this.menus[e].rclick?this.menus[e].rclick():console.debug("右键暂无对应处理函数"),this.menus.splice(0)},dclick(e){this.menus.length&&this.menus[e].dclick?this.menus[e].dclick():console.debug("双击暂无对应处理函数"),this.menus.splice(0)}}},Sr,[],!1,null,"10ef9a33",null).exports,Er={name:"jsmanage",data(){return{jslists:[],jsdownloadurl:"",jsname:"",jscontent:"",jsupdate:"",jssize:"",jsshowall:!1,jsfiles:[],orgjs:"// 每个脚本理论上都有权限对服务器上的任一文件进行随意修改，请勿运行不信任的脚本\nconsole.log('当前 elecV2P 版本', __version)\n// 获取 store/cookie 值\nlet val = $store.get('cookieKEY')\nconsole.log('cookieKEY 对应值:', val)\n\n// 发送通知\n$feed.push('elecV2P 通知', '该通知来自脚本' + __name + '\\n\\n更多说明请查看: https://github.com/elecV2/elecV2P-dei/tree/master/docs/07-feed&notify.md', 'https://github.com/elecV2/elecV2P')\n\n// 网络请求\n$axios({\n  url: 'https://httpbin.org/post',\n  headers: {\n    'User-Agent': 'elecV2P Super Max Plus++',\n  },\n  method: 'post'\n}).then(res=>{\n  console.log(res.data)\n}).catch(e=>console.error(e.message)).finally(()=>{\n  $done('网络请求执行完毕')\n})\n\nconsole.log('更多脚本相关说明请查看说明文档: https://github.com/elecV2/elecV2P-dei/tree/master/docs/04-JS.md')\n",logs:[],icon:wa,collapse:{titlearrow:this.$uStr.iRandom(0,10)>2,loginfo:!0,editor:!0},shownum:100,restnum:0,menu:{pos:[0,0],list:[]},textarea_nowrap:!1,runlogs:this.$ta("script","run","logs")}},components:{store:kr,log:tr,mock:Tr,contextmenu:Or},activated(){const e=this.$uApi.store.getCache("scriptview");e&&(this.jslists.length?this.jsView(e):this.getJSlist().then((()=>{this.jsView(e)})),this.$uApi.store.deleteCache("scriptview"))},computed:{jsfilename(){let e=[];for(let t=0;t<this.jsfiles.length;t++)e.push(this.jsfiles[t].name);return e.join(", ")},jsshow(){let e=this.shownum;if(-1===e||e>=this.jslists.length)return this.restnum=0,this.jslists;let t=0,s=[];for(;t++<e;)s.push(this.jslists[t]);return this.restnum=this.jslists.length-t+1,s},jslistsshow(){if(this.jsshowall||!this.jsname||"new.js"===this.jsname)return this.jsshow;let e=new RegExp(this.jsname,"i"),t=this.jsshow.filter((t=>{try{return e.test(t)}catch(e){return!0}}));return 0===t.length&&-1!==this.shownum&&(this.shownum=-1),t}},created(){this.$uApi.store.getCache("scriptview")||this.getJSlist().then((()=>{const e=new URL(location).searchParams.get("fn");e&&this.jsView(e)}));const e=this.$wsrecv.add("jsmanage",(e=>{this.logs.length>=200||/\x1b\[H/.test(e)?this.logs=[e]:/\r|(\x1b\[F)/.test(e)?this.logs.splice(0,1,e):this.logs.unshift(e)}));e&&this.logs.unshift(`[${this.$logHead("websocket error")}][${this.$sTime(null,1)}] [31m${e}, 日志无法传输`)},methods:{async getJSlist(){const e=this.$message.loading("获取脚本列表中...",0);let t=await this.$axios.get("/jsfile").catch((e=>{this.$message.error("获取脚本列表失败",e.message),this.logs.unshift(`[${this.$logHead("jsmanage error")}][${this.$sTime(null,1)}] [31m脚本列表获取失败 ${e.message}`),console.error("获取失败",e)}));t&&t.data&&(this.jslists=t.data,this.$message.success(`成功获取脚本列表 ${this.jslists.length}`),this.logs.unshift(`[${this.$logHead("jsmanage info")}][${this.$sTime(null,1)}] 成功获取脚本 ${this.jslists.length}`)),e()},jsDownload(){if(!this.jsdownloadurl||!1===/^https?:\/\/\S{4}/.test(this.jsdownloadurl))return void this.$message.error("该远程脚本链接有误",this.jsdownloadurl);let e=this.jsdownloadurl.match(/ -rename(=| )([^\- ]+)/),t="",s="";if(e&&e[2]?(t=e[2].replace(/^(\\|\/)+/,""),s=this.jsdownloadurl.replace(/ -rename(=| )([^\- ]+)/,"").trim()):(t=this.$uStr.surlName(this.jsdownloadurl),s=this.jsdownloadurl),(/\.(js|efh)$/.test(s)||confirm("当前远程链接对应文件可能并非脚本文件，是否继续？"))&&(-1===this.jslists.indexOf(t)||confirm(t+" 已存在，是否覆盖？"))){const e=this.$message.loading(`${t} 下载中...`,0);this.$axios.put("/jsfile",{op:"jsdownload",name:t,url:s}).then((e=>{0===e.data.rescode?(this.$message.success(t,"下载成功"),-1===this.jslists.indexOf(t)&&this.jslists.push(t),this.logs.unshift(`[${this.$logHead("jsDownload info")}][${this.$sTime(null,1)}] ${t} 下载成功 ${e.data.message}`)):(this.$message.error(t,"下载失败"),this.logs.unshift(`[${this.$logHead("jsDownload error")}][${this.$sTime(null,1)}] [31m${s} 下载失败 ${e.data.message}`))})).catch((e=>{this.$message.error("下载失败",e.message),this.logs.unshift(`[${this.$logHead("jsDownload error")}][${this.$sTime(null,1)}] [31m${s} 下载失败，${e.message}`),console.error(s,"下载失败",e)})).finally(e)}},jsSave(){if(!/\.(js|efh)$/i.test(this.jsname))return this.$message.error("脚本文件名错误"),void this.logs.unshift(`[${this.$logHead("jsSave error")}][${this.$sTime(null,1)}] [31m${this.jsname} 并非合法的脚本名称。编辑上传其他类型的文件请前往 EFSS 界面`);if(!this.jscontent)return this.$message.error("请先输入脚本内容"),void this.logs.unshift(`[${this.$logHead("jsSave error")}][${this.$sTime(null,1)}] [31m保存脚本失败，请先输入脚本内容`);const e=this.$message.loading(this.jsname,"保存中...",0);this.$axios.post("/jsfile",{jsname:this.jsname,jscontent:this.jscontent}).then((e=>{0===e.data.rescode?(this.$message.success(this.jsname,"保存成功"),-1===this.jslists.indexOf(this.jsname)&&this.jslists.push(this.jsname),this.logs.unshift(`[${this.$logHead("jsSave info")}][${this.$sTime(null,1)}] ${this.jsname} 保存成功`),this.jsupdate=this.$sTime(),this.jssize=this.$uStr.kSize((new TextEncoder).encode(this.jscontent).length)):(this.$message.error(this.jsname,"保存失败",e.data.message),this.logs.unshift(`[${this.$logHead("jsSave error")}][${this.$sTime(null,1)}] [31m${this.jsname} 保存失败`))})).catch((e=>{console.error(e),this.$message.error("保存失败",e.message),this.logs.unshift(`[${this.$logHead("jsSave error")}][${this.$sTime(null,1)}] [31m保存失败 ${e.message}`)})).finally(e)},jsTest(){if(this.jsname&&this.jscontent){if(/\$request|\$response/.test(this.jscontent)&&!confirm("$request/$response 等参数仅在网络请求中有效，是否继续执行？"))return;let e="";const t=this.$message.loading(this.jsname,"正在上传运行中...",0);this.collapse.loginfo=!1,this.logs.unshift(`[${this.$logHead("jsTestRun info")}][${this.$sTime(null,1)}] 正在测试运行 ${this.jsname}...`),this.$axios.post("/jsfile",{id:this.$wsrecv.id,type:"totest",jsname:this.jsname,jscontent:this.jscontent}).then((t=>{e=this.$sString(t.data),this.$message.success(e)})).catch((t=>{e="测试运行失败 "+t.message,this.$message.error(e),console.error(t)})).finally((()=>{t(),this.logs.unshift(`[${this.$logHead(this.jsname+" result")}][${this.$sTime(null,1)}] ${e||this.jsname+" 返回值为空"}`)}))}else this.$message.error("脚本名称或内容不完整")},jstoupload(){this.jsfiles=this.$refs.jsfiles.files},jsUpload(){let e=new FormData,t=[];for(let s=0;s<this.jsfiles.length;s++)if(/javascript/i.test(this.jsfiles[s].type)||/\.efh$/.test(this.jsfiles[s].name))e.append(this.jsfiles[s].name,this.jsfiles[s]),t.push(this.jsfiles[s].name);else{let e=this.jsfiles[s].name+" 并非脚本文件，跳过上传。"+this.jsfiles[s].type;this.$message.error(e),this.logs.unshift(`[${this.$logHead("jsUpload error")}][${this.$sTime(null,1)}] [31m${e}`)}if(0===t.length)return void this.$message.error("请选择脚本文件后，再进行上传");const s=this.$message.loading("上传中...",0);this.$axios.post("/uploadjs",e,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{0===e.data.rescode?(this.$message.success(t.join(", "),"上传成功"),t.forEach((e=>{-1===this.jslists.indexOf(e)&&this.jslists.push(e)})),this.jsfiles="",this.$refs.jsfiles.value="",this.logs.unshift(`[${this.$logHead("jsUpload info")}][${this.$sTime(null,1)}] ${t.join(", ")} 上传成功`)):(this.$message.error("上传失败",e.data.message),this.logs.unshift(`[${this.$logHead("jsUpload error")}][${this.$sTime(null,1)}] [31m上传失败 ${e.data.message}`))})).catch((e=>{this.$message.error("上传失败",e.message),this.logs.unshift(`[${this.$logHead("jsUpload error")}][${this.$sTime(null,1)}] [31m上传失败 ${e.message}`),console.error("文件上传失败",e)})).finally(s)},jsView(e){if(e&&1===this.jslistsshow.length&&(e=this.jslistsshow[0]),e&&-1!==this.jslists.indexOf(e)){this.jsname=e;const t=this.$message.loading("正在获取",e,"文件内容...",0);this.$axios.get("/jsfile?jsfn="+e,{transformResponse:[e=>e]}).then((t=>{this.jscontent=t.data,this.$message.success(e,"文件内容获取成功"),this.logs.unshift(`[${this.$logHead("jsmanage info")}][${this.$sTime(null,1)}] ${e} 文件内容获取成功`),t.headers["last-modified"]?(this.jsupdate=this.$sTime(t.headers["last-modified"]),this.jssize=this.$uStr.kSize((new TextEncoder).encode(t.data).length)):this.jsupdate=""})).catch((t=>{this.$message.error(e,"获取失败",t.message),this.logs.unshift(`[${this.$logHead("jsmanage error")}][${this.$sTime(null,1)}] [31m${e} 获取失败 ${t.message}`),console.error(e,"获取失败",t)})).finally(t)}else if(/^https?:\/\//.test(e)){let t=this.$message.loading("检测到该脚本文件名为远程地址，正在尝试获取其文件内容...",0);this.$axios.get(e,{transformResponse:[e=>e],crossdomain:!0}).then((t=>{this.jsname=this.$uStr.surlName(e),this.jscontent=t.data,this.$message.success("远程脚本文件",this.jsname,"获取成功"),this.logs.unshift(`[${this.$logHead("jsmanage info")}][${this.$sTime(null,1)}] ${e} 文件内容获取成功`),this.jsupdate=""})).catch((t=>{this.$message.error("远程脚本内容获取失败",t.message),this.logs.unshift(`[${this.$logHead("jsmanage error")}][${this.$sTime(null,1)}] [31m获取远程脚本: ${e} 失败，请检测网络后重试 ${t.message}`),console.error(t)})).finally(t)}else this.jsname=e||"new.js","new.js"!==this.jsname&&(this.$message.error(e,"暂不存在"),this.logs.unshift(`[${this.$logHead("jsmanage error")}][${this.$sTime(null,1)}] [31m${e} 暂不存在`)),""!==this.jscontent&&"new.js"!==this.jsname||(this.jscontent=this.orgjs),this.jsupdate="";this.jsshowall=!0,this.$uApi.scrollView(".editor--jsmanage")},jsDelete(e){if(e){if(confirm("确认删除服务器端脚本文件： "+e)){const t=this.$message.loading(`正在删除文件 ${e}...`,0);this.$axios.delete("/jsfile",{data:{jsfn:e}}).then((t=>{if(0===t.data.rescode){const s=this.jslists.indexOf(e);s>-1?(this.jslists.splice(s,1),this.$message.success(e,"已删除"),this.logs.unshift(`[${this.$logHead("jsDelete info")}][${this.$sTime(null,1)}] ${e} 已删除 ${t.data.message}`),this.jsname===e&&(this.jsname="",this.jscontent="")):this.$message.error(e,"文件不存在")}else this.$message.error(e,"删除失败"),this.logs.unshift(`[${this.$logHead("jsDelete error")}][${this.$sTime(null,1)}] [31m${e} 删除失败 ${t.data.message}`)})).catch((t=>{this.$message.error("未知错误",t.message),this.logs.unshift(`[${this.$logHead("jsDelete error")}][${this.$sTime(null,1)}] [31m${e} 删除失败 ${t.message}`),console.error("未知错误",t)})).finally(t)}}else this.$message.error("请先输入要删除的文件名")},jsOp(e){switch(e.target.dataset.method){case"view":this.jsView(e.target.dataset.param);break;case"delete":this.jsDelete(e.target.dataset.param);break;case"menu":this.jsMenu(e.target.dataset.param)}},jsRun(e){if(!e)return void this.$message.error("请先输入脚本名称");const t=this.$message.loading(e,"准备运行中...",0);this.collapse.loginfo=!1,this.logs.unshift(`[${this.$logHead("jsRun info")}][${this.$sTime(null,1)}] 正在运行 ${e}...`),this.$axios.post("/jsfile",{id:this.$wsrecv.id,type:"torun",jsname:e}).then((e=>{this.$message.success(e.data)})).catch((e=>{this.$message.error(e.message),console.error(e)})).finally(t)},jsMenu(e){let t=[],s=this.jsDelete,i=this.jsView,n=this.jsRun,a=this.$uApi.open,r=this.$uApi.copy,o=this.$message.success,l=/\.efh$/.test(e);t.push({label:"运行",bkcolor:"var(--icon-bk)",click(){n(e)}},{label:"查看",click(){i(e)}},{label:"删除",bkcolor:"var(--note-bk)",click(){s(e)}},{label:"复制脚本名称",click(){r(e),o("复制成功")}},{label:(l?"新标签页":"附带参数")+"运行",bkcolor:"var(--icon-bk)",click(){if(l)return void a("run/?target="+encodeURI(e));let t=prompt("请输入附带参数（比如：-env name=elecV2P 或 -grant nodejs）","-env ");null!==t&&n(e+(t?" "+t.trim():""))}},{label:"打开日志文件",click(){a("./logs/"+e.replace(/\/|\\/g,"-")+".log")}}),this.menu={pos:this.$uApi.getCursorPos(event,120,32*t.length),list:t}},scriptTask(){let e=this.jscontent,t=this.jsname;if(!e)return void this.$message.error("请先获取脚本内容");let s=e.match(/([0-9\-\*\/,]+ [0-9\-\*\/,]+ [0-9\-\*\/,]+ [0-9\-\*\/,]+ [0-9\-\*\/,]+( [0-9\-\*\/,]+)?) ([^ ,]+), ?tag=([^, \n\r]+)/);s||(s=e.match(/([0-9\-\*\/,]+ [0-9\-\*\/,]+ [0-9\-\*\/,]+ [0-9\-\*\/,]+ [0-9\-\*\/,]+( [0-9\-\*\/,]+)?)"?( (script\-path=)?([^, \n\r]+\.js))?(, ?tag=([^, \n\r]+))?/)||[],s[5]&&(s[3]=s[5]),s[4]=s[7]||"");let i=this.$axios,n=this.$message;this.$evui({title:"添加新的定时任务",width:800,height:148,style:{title:"background: var(--secd-fc);",content:"margin-top: .5em; font-family: var(--font-fm);"},content:`<div class="eflex eflex--wrap w100"><input name="task_name" class="elecTable_input" style="width: 120px;margin-right: 5px;" placeholder="任务名称" value="${s[4]||""}"><select name="task_type" class="elecTable_select" style="width: 120px;margin-right: 5px;"><option value="cron">cron定时</option><option value="schedule">倒计时</option></select><input name="task_time" class="elecTable_input" style="width: 160px;margin-right: 5px;" placeholder="任务运行时间" value="${s[1]||"8 10 0 * * *"}"><span style="background: var(--main-fc);height: 40px;line-height: 40px;width: 86px;color: var(--main-cl);text-align: center;font-size: 20px;border-radius: 8px;margin-right: 5px;padding: 0 .5em;">运行脚本</span><input name="task_target" class="elecTable_input" style="width: 220px;" placeholder="脚本名称" value="${s[3]||t}"></div><div class="center" style="margin-top: .6em;"><button class="elecBtn greenbk emargin--d5em" data-method="addTask">确认添加</button><button class="elecBtn bk_main_bk emargin--d5em" data-method="nav" data-param="task">任务列表</button></div>`,methods:{addTask(){let e=document.querySelector(".elecBtn[data-method=addTask]");if(e){if(e.dataset.done)return void n.success("该任务已添加");e.dataset.done="1",e.classList.remove("greenbk"),e.classList.add("elecBtn--stop")}let t=document.querySelector(".elecTable_input[name=task_name]").value,s=document.querySelector(".elecTable_input[name=task_time]").value,a=document.querySelector(".elecTable_input[name=task_target]").value;if(!(t&&s&&a))return n.error("请填写完整的任务内容"),void delete e.dataset.done;i.put("/task",{op:"add",data:{type:"addition",task:{name:t,type:document.querySelector(".elecTable_select[name=task_type]").value,time:s,job:{type:"runjs",target:a},running:!0}}}).then((s=>{0===s.data.rescode?n.success("添加定时任务",t,s.data.message):(delete e.dataset.done,n.error("添加定时任务失败",s.data.message))})).catch((t=>{n.error("添加定时任务失败",t.message),console.error("添加定时任务失败",t),delete e.dataset.done}))}}})}}};const jr=ka(Er,yr,[],!1,null,"6c7f3ec2",null).exports;var Nr=function(){var e=this,t=e._self._c;return t("section",{on:{keydown:function(t){return(t.type.indexOf("key")||83===t.keyCode)&&t.ctrlKey?(t.preventDefault(),t.stopPropagation(),e.saveAll()):null}}},[t("header",{staticClass:"header"},[e._v(e._s(e.$t("setting")))]),e._v(" "),t("main",{staticClass:"content"},[t("div",{staticClass:"setting setting--home"},[t("div",{staticClass:"wp50 minw320 eflex_grow1",on:{keydown:function(t){return(t.type.indexOf("key")||83===t.keyCode)&&t.ctrlKey?(t.preventDefault(),t.stopPropagation(),e.homepageSave()):null}}},[t("label",{staticClass:"setting_label",attrs:{title:"可访问此后台界面的完整 URL。用于 RSS 订阅及脚本中的 __home 参数"}},[e._v(e._s(e.$t("homepage"))+"：")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.homepage,expression:"homepage",modifiers:{trim:!0}}],staticClass:"setting_input",attrs:{name:"homepage",placeholder:e.init_url},domProps:{value:e.homepage},on:{input:function(t){t.target.composing||(e.homepage=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),t("button",{staticClass:"elecBtn",on:{click:function(t){return e.homepageSave()}}},[e._v(e._s(e.$t("save")))])]),e._v(" "),t("div",{staticClass:"wp50 minw320 eflex_grow1",on:{keydown:function(t){return(t.type.indexOf("key")||83===t.keyCode)&&t.ctrlKey?(t.preventDefault(),t.stopPropagation(),e.langSave()):null}}},[t("label",{staticClass:"setting_label",attrs:{title:"仅供参考"}},[e._v(e._s(e.$t("language"))+"：")]),e._v(" "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.lang,expression:"lang"}],staticClass:"setting_select setting_select--short",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.lang=t.target.multiple?s:s[0]}}},[t("option",{attrs:{value:"zh-CN"}},[e._v(e._s(e.$t("zh")))]),e._v(" "),t("option",{attrs:{value:"en"}},[e._v(e._s(e.$t("en")))])]),e._v(" "),t("span",{staticClass:"tip"},[e._v("（还有很多地方待翻译）")]),e._v(" "),t("button",{staticClass:"elecBtn",on:{click:function(t){return e.langSave()}}},[e._v(e._s(e.$t("save")))])])]),e._v(" "),t("div",{staticClass:"setting setting--log"},[t("div",{staticClass:"wp50 minw320 eflex_grow1",on:{keydown:function(t){return(t.type.indexOf("key")||83===t.keyCode)&&t.ctrlKey?(t.preventDefault(),t.stopPropagation(),e.glevelSet()):null}}},[t("label",{staticClass:"setting_label",attrs:{title:"后台日志输出等级"}},[e._v(e._s(e.$t("logs"))+e._s(e.$t("level"))+"：")]),e._v(" "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.gloglevel,expression:"gloglevel"}],staticClass:"setting_select",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.gloglevel=t.target.multiple?s:s[0]}}},[t("option",[e._v("error")]),e._v(" "),t("option",[e._v("notify")]),e._v(" "),t("option",[e._v("info")]),e._v(" "),t("option",[e._v("debug")])]),e._v(" "),t("button",{staticClass:"elecBtn",on:{click:function(t){return e.glevelSet()}}},[e._v(e._s(e.$t("save")))])]),e._v(" "),t("div",{staticClass:"wp50 minw320 eflex_grow1",on:{keydown:function(t){return(t.type.indexOf("key")||83===t.keyCode)&&t.ctrlKey?(t.preventDefault(),t.stopPropagation(),e.gsliceSet()):null}}},[t("label",{staticClass:"setting_label",attrs:{title:"后台日志输出格式"}},[e._v(e._s(e.$t("format"))+"：")]),e._v(" "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.glogslicebegin,expression:"glogslicebegin"}],staticClass:"setting_select",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.glogslicebegin=t.target.multiple?s:s[0]}}},[t("option",{attrs:{value:"0"}},[e._v("YYYY-MM-DD HH:mm:ss.SSS")]),e._v(" "),t("option",{attrs:{value:"5"}},[e._v("MM-DD HH:mm:ss.SSS")]),e._v(" "),t("option",{attrs:{value:"11"}},[e._v("HH:mm:ss.SSS")])]),e._v(" "),t("button",{staticClass:"elecBtn",on:{click:function(t){return e.gsliceSet()}}},[e._v(e._s(e.$t("save")))])])]),e._v(" "),t("div",{staticClass:"setting setting--webhook"},[t("div",{staticClass:"wp50 minw320 eflex_grow1",on:{keydown:function(t){return(t.type.indexOf("key")||83===t.keyCode)&&t.ctrlKey?(t.preventDefault(),t.stopPropagation(),e.wbrtokenSave()):null}}},[t("label",{staticClass:"setting_label",attrs:{title:"服务器访问 token(非常重要)"}},[e._v("WEBHOOK TOKEN：")]),e._v(" "),t("div",{staticClass:"incon"},[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.wbrtoken,expression:"wbrtoken",modifiers:{trim:!0}}],staticClass:"setting_input incon_input",attrs:{name:"wbrtoken"},domProps:{value:e.wbrtoken},on:{input:function(t){t.target.composing||(e.wbrtoken=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),t("span",{staticClass:"icon cursor incon_icon",domProps:{innerHTML:e._s(e.icon.sync)},on:{click:function(t){e.wbrtoken=e.$uStr.UUID()}}})]),e._v(" "),t("button",{staticClass:"elecBtn",on:{click:function(t){return e.wbrtokenSave()}}},[e._v(e._s(e.$t("save")))])]),e._v(" "),t("div",{staticClass:"wp50 minw320 eflex_grow1",on:{keydown:function(t){return(t.type.indexOf("key")||83===t.keyCode)&&t.ctrlKey?(t.preventDefault(),t.stopPropagation(),e.wbrscriptSave()):null}}},[t("label",{staticClass:"setting_label",attrs:{title:"webhook 其他 payload 处理脚本"}},[e._v("SCRIPT：")]),e._v(" "),t("checkbox",{attrs:{oCheck:e.wbrscript}}),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.wbrscript.target,expression:"wbrscript.target",modifiers:{trim:!0}}],staticClass:"setting_input setting_input--middle",attrs:{name:"wbrscript",placeholder:"webhook.js"},domProps:{value:e.wbrscript.target},on:{input:function(t){t.target.composing||e.$set(e.wbrscript,"target",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),t("button",{staticClass:"elecBtn",on:{click:function(t){return e.wbrscriptSave()}}},[e._v(e._s(e.$t("save")))])],1),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.userid,expression:"userid"}],staticClass:"w100",attrs:{title:"基于 WEBHOOK TOKEN 自动生成 无法自定义及反推"}},[t("span",[e._v(e._s(e.$t("user"))+" ID: ")]),t("span",[e._v(e._s(e.userid))])])]),e._v(" "),t("div",{staticClass:"setting",class:{"setting--collapsed":e.collapse.notify}},[t("h4",{staticClass:"setting_title"},[t("div",{staticClass:"title_main"},[t("a",{staticClass:"cursor--help main_fc",attrs:{href:"https://github.com/elecV2/elecV2P-dei/tree/master/docs/07-feed&notify.md",target:"elecV2PDoc"}},[e._v(e._s(e.$ta("notify","setting_of")))]),e._v(" "),t("span",{staticClass:"mleft30 cursor",attrs:{title:"点击进行测试(先保存)"},domProps:{innerHTML:e._s(e.icon.plays)},on:{click:function(t){return e.feedTest()}}})]),e._v(" "),t("span",{staticClass:"title_collapse",class:{"title_collapse--collapsed":e.collapse.notify},on:{click:function(t){e.collapse.notify=!e.collapse.notify}}})]),e._v(" "),t("div",{staticClass:"setting--notify"},[e._m(0),e._v(" "),t("checkbox",{attrs:{oCheck:e.CONFIG_FEED.iftttid}}),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.CONFIG_FEED.iftttid.key,expression:"CONFIG_FEED.iftttid.key",modifiers:{trim:!0}}],staticClass:"setting_input",attrs:{name:"ifttt",placeholder:"xxxxxxxxxxxxxxxxxxxxxx"},domProps:{value:e.CONFIG_FEED.iftttid.key},on:{input:function(t){t.target.composing||e.$set(e.CONFIG_FEED.iftttid,"key",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),t("button",{staticClass:"elecBtn",on:{click:function(t){return e.iftttSave()}}},[e._v(e._s(e.$t("save")))])],1),e._v(" "),t("div",{staticClass:"setting--notify"},[e._m(1),e._v(" "),t("checkbox",{attrs:{oCheck:e.CONFIG_FEED.barkkey}}),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.CONFIG_FEED.barkkey.key,expression:"CONFIG_FEED.barkkey.key",modifiers:{trim:!0}}],staticClass:"setting_input",attrs:{name:"barkkey",placeholder:"xxxxxxxxxxxxxxxxxxxxxx"},domProps:{value:e.CONFIG_FEED.barkkey.key},on:{input:function(t){t.target.composing||e.$set(e.CONFIG_FEED.barkkey,"key",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),t("button",{staticClass:"elecBtn",on:{click:function(t){return e.barkeySave()}}},[e._v(e._s(e.$t("save")))])],1),e._v(" "),t("div",{staticClass:"setting--notify"},[t("label",{staticClass:"setting_label"},[e._v("自定义通知：")]),e._v(" "),t("checkbox",{attrs:{oCheck:e.CONFIG_FEED.custnotify}}),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.CONFIG_FEED.custnotify.url,expression:"CONFIG_FEED.custnotify.url",modifiers:{trim:!0}}],staticClass:"setting_input",attrs:{name:"custnotify",placeholder:"https://xxx.xx.xxx/xxxxxx"},domProps:{value:e.CONFIG_FEED.custnotify.url},on:{input:function(t){t.target.composing||e.$set(e.CONFIG_FEED.custnotify,"url",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.CONFIG_FEED.custnotify.type,expression:"CONFIG_FEED.custnotify.type"}],staticClass:"setting_select setting_select--short",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.CONFIG_FEED.custnotify,"type",t.target.multiple?s:s[0])}}},[t("option",[e._v("GET")]),e._v(" "),t("option",[e._v("POST")])]),e._v(" "),"POST"==e.CONFIG_FEED.custnotify.type?t("textarea",{directives:[{name:"model",rawName:"v-model.lazy.trim",value:e.CONFIG_FEED.custnotify.data,expression:"CONFIG_FEED.custnotify.data",modifiers:{lazy:!0,trim:!0}}],staticClass:"editor_textarea editor_textarea--mini emargin--top",attrs:{placeholder:'使用 $title$ 代表通知标题，$body$ 代表通知内容，$url$ 代表附加链接。比如：\n{\n  "text": `$title$`,\n  "desp": `$body$\\n\\n附加链接: $url$`\n}\n具体格式及使用参数，根据自定义通知的 API 说明进行调整（通知内容尽量使用反引号`包括）'},domProps:{value:e.CONFIG_FEED.custnotify.data},on:{change:function(t){e.$set(e.CONFIG_FEED.custnotify,"data",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}):e._e(),e._v(" "),t("button",{staticClass:"elecBtn elecBtn--stlong",on:{click:function(t){return e.custnotifySave()}}},[e._v(e._s(e.$t("save")))])],1),e._v(" "),t("div",{staticClass:"setting--notify"},[t("label",{staticClass:"setting_label"},[e._v("通知触发脚本：")]),e._v(" "),t("checkbox",{attrs:{oCheck:e.CONFIG_FEED.runjs}}),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.lazy.trim",value:e.CONFIG_FEED.runjs.list,expression:"CONFIG_FEED.runjs.list",modifiers:{lazy:!0,trim:!0}}],staticClass:"setting_input",attrs:{name:"runjs",placeholder:"notify.js, test.js（多个脚本使用英文逗号进行分隔，支持远程链接）"},domProps:{value:e.CONFIG_FEED.runjs.list},on:{change:function(t){e.$set(e.CONFIG_FEED.runjs,"list",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),t("button",{staticClass:"elecBtn",on:{click:function(t){return e.notifyjsSave()}}},[e._v(e._s(e.$t("save")))])],1),e._v(" "),t("div",{staticClass:"setting--notify"},[t("label",{staticClass:"setting_label setting_label--flex"},[t("span",[e._v("当通知内容长度超过")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.CONFIG_FEED.maxbLength,expression:"CONFIG_FEED.maxbLength",modifiers:{number:!0}}],staticClass:"setting_input setting_input--number",attrs:{type:"number",name:"maxbLength",placeholder:"0: 不分段"},domProps:{value:e.CONFIG_FEED.maxbLength},on:{input:function(t){t.target.composing||e.$set(e.CONFIG_FEED,"maxbLength",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),t("span",[e._v("时，分段发送")])]),e._v(" "),t("label",{staticClass:"setting_label setting_label--flex"},[t("span",[e._v("是否在前端网页显示通知：")]),e._v(" "),t("checkbox",{attrs:{oCheck:e.CONFIG_FEED.webmessage}})],1),e._v(" "),t("label",{staticClass:"setting_label setting_label--flex",attrs:{title:"默认通知内容包括：定时任务开始与停止，脚本运行达到指定次数等"}},[t("span",[e._v("是否开启默认通知：")]),e._v(" "),t("checkbox",{attrs:{oCheck:e.CONFIG_FEED}})],1),e._v(" "),t("button",{staticClass:"elecBtn",on:{click:function(t){return e.feedOp()}}},[e._v(e._s(e.$t("save")))])])]),e._v(" "),t("div",{staticClass:"setting",class:{"setting--collapsed":e.collapse.other},on:{keydown:function(t){return(t.type.indexOf("key")||83===t.keyCode)&&t.ctrlKey?(t.preventDefault(),t.stopPropagation(),e.mergeSave()):null}}},[t("h4",{staticClass:"setting_title"},[t("sapn",{staticClass:"title_main"},[e._v(e._s(e.$ta("default","notify","setting_of")))]),e._v(" "),t("span",{staticClass:"title_collapse",class:{"title_collapse--collapsed":e.collapse.other},on:{click:function(t){e.collapse.other=!e.collapse.other}}})],1),e._v(" "),t("div",{staticClass:"setting setting--other"},[t("div",{staticClass:"eflex eflex--wrap w100"},[t("span",{staticClass:"tip"},[e._v("默认通知内容包括：定时任务开始与停止，脚本运行达到指定次数等")]),e._v(" "),t("label",{staticClass:"setting_label setting_label--flex",attrs:{title:"FEED/RSS 包含所有通知内容"}},[e._v("是否输出 "),t("a",{attrs:{href:"/feed",target:"elecV2PFeed"}},[e._v("FEED")]),e._v("：\n              "),t("checkbox",{attrs:{oCheck:e.CONFIG_FEED.rss}})],1),e._v(" "),t("button",{staticClass:"elecBtn elecBtn--wave",on:{click:function(t){return e.feedClear()}}},[e._v("清空 FEED 内容")])]),e._v(" "),t("div",{staticClass:"w100"},[t("div",{staticClass:"setting setting--inline"},[t("label",{staticClass:"setting_label setting_label--flex"},[t("span",{staticClass:"setting_label"},[e._v("是否合并默认通知")]),e._v(" "),t("checkbox",{attrs:{oCheck:e.CONFIG_FEED.merge}})],1),e._v(" "),t("div",[t("label",{staticClass:"setting_label"},[e._v("合并时间（秒）：")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.CONFIG_FEED.merge.gaptime,expression:"CONFIG_FEED.merge.gaptime",modifiers:{number:!0}}],staticClass:"setting_input setting_input--number",attrs:{type:"number",name:"mergetime"},domProps:{value:e.CONFIG_FEED.merge.gaptime},on:{input:function(t){t.target.composing||e.$set(e.CONFIG_FEED.merge,"gaptime",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),t("div",[t("label",{staticClass:"setting_label"},[e._v("合并逻辑：")]),e._v(" "),t("span",{staticClass:"setting_andor",on:{click:function(t){e.CONFIG_FEED.merge.andor=!e.CONFIG_FEED.merge.andor}}},[e._v(e._s(e.CONFIG_FEED.merge.andor?"AND":"OR"))])]),e._v(" "),t("div",[t("label",{staticClass:"setting_label"},[e._v("合并条数：")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.CONFIG_FEED.merge.number,expression:"CONFIG_FEED.merge.number",modifiers:{number:!0}}],staticClass:"setting_input setting_input--number",attrs:{type:"number",name:"mergenum"},domProps:{value:e.CONFIG_FEED.merge.number},on:{input:function(t){t.target.composing||e.$set(e.CONFIG_FEED.merge,"number",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),e._v(" "),t("i",{staticClass:"tip tip--small"},[e._v("当前设置表示：至少等 "+e._s(e.CONFIG_FEED.merge.gaptime)+" 秒 "+e._s(e.CONFIG_FEED.merge.andor?"且":"或")+" 共有 "+e._s(e.CONFIG_FEED.merge.number)+" 条通知时合并发送（此设置对脚本内的通知函数无效，即脚本通知还是单独发送）")])])]),e._v(" "),t("button",{staticClass:"elecBtn elecBtn--stlong",on:{click:function(t){return e.mergeSave()}}},[e._v(e._s(e.$t("save")))])]),e._v(" "),t("div",{staticClass:"setting setting--vflex",class:{"setting--collapsed":e.collapse.runjs},on:{keydown:function(t){return(t.type.indexOf("key")||83===t.keyCode)&&t.ctrlKey?(t.preventDefault(),t.stopPropagation(),e.runjsSave()):null}}},[t("h4",{staticClass:"setting_title"},[t("sapn",{staticClass:"title_main"},[e._v(e._s(e.$ta("script","run","setting_of")))]),e._v(" "),t("span",{staticClass:"title_collapse",class:{"title_collapse--collapsed":e.collapse.runjs},on:{click:function(t){e.collapse.runjs=!e.collapse.runjs}}})],1),e._v(" "),t("div",{staticClass:"setting--other"},[t("div",{staticClass:"eflex eflex--wrap w100"},[t("div",[t("label",{attrs:{title:"0 ms 表示不设定超时时间"}},[e._v("TIMEOUT(ms): ")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.CONFIG_RUNJS.timeout,expression:"CONFIG_RUNJS.timeout",modifiers:{number:!0}}],staticClass:"setting_input setting_input--number",attrs:{type:"number",placeholder:"0:不限制"},domProps:{value:e.CONFIG_RUNJS.timeout},on:{input:function(t){t.target.composing||e.$set(e.CONFIG_RUNJS,"timeout",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),t("div",[t("label",{attrs:{title:"0 秒表示有则不更新"}},[e._v("远程脚本更新最低时间间隔(秒):")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.CONFIG_RUNJS.intervals,expression:"CONFIG_RUNJS.intervals",modifiers:{number:!0}}],staticClass:"setting_input setting_input--number",attrs:{type:"number",placeholder:"0:有则不更新",name:"intervals"},domProps:{value:e.CONFIG_RUNJS.intervals},on:{input:function(t){t.target.composing||e.$set(e.CONFIG_RUNJS,"intervals",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),t("div",[t("label",{attrs:{title:"0 次表示不通知"}},[e._v("每运行 ")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.CONFIG_RUNJS.numtofeed,expression:"CONFIG_RUNJS.numtofeed",modifiers:{number:!0}}],staticClass:"setting_input setting_input--number",attrs:{type:"number",placeholder:"0:不通知",name:"numtofeed"},domProps:{value:e.CONFIG_RUNJS.numtofeed},on:{input:function(t){t.target.composing||e.$set(e.CONFIG_RUNJS,"numtofeed",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),t("label",[e._v(" 次, 添加一个默认通知")])])]),e._v(" "),t("i",{staticClass:"tip tip--small"},[e._v("0 ms: 不设定超过时间，由 $done 控制返回， 0 秒: 表示如果有则不更新，  0 次: 表示不通知")]),e._v(" "),t("div",{staticClass:"eflex eflex--wrap w100"},[t("div",{staticClass:"eflex"},[t("label",[e._v("保存日志")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.CONFIG_RUNJS.jslogfile,expression:"CONFIG_RUNJS.jslogfile"}],staticClass:"echeckbox",attrs:{type:"checkbox",name:"jslogs"},domProps:{checked:Array.isArray(e.CONFIG_RUNJS.jslogfile)?e._i(e.CONFIG_RUNJS.jslogfile,null)>-1:e.CONFIG_RUNJS.jslogfile},on:{change:function(t){var s=e.CONFIG_RUNJS.jslogfile,i=t.target,n=!!i.checked;if(Array.isArray(s)){var a=e._i(s,null);i.checked?a<0&&e.$set(e.CONFIG_RUNJS,"jslogfile",s.concat([null])):a>-1&&e.$set(e.CONFIG_RUNJS,"jslogfile",s.slice(0,a).concat(s.slice(a+1)))}else e.$set(e.CONFIG_RUNJS,"jslogfile",n)}}})]),e._v(" "),t("div",{staticClass:"eflex"},[t("label",{attrs:{title:"打印并保存脚本运行时所发送的网络请求 url"}},[e._v("保存网络请求 URL 到日志中")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.CONFIG_RUNJS.eaxioslog,expression:"CONFIG_RUNJS.eaxioslog"}],staticClass:"echeckbox",attrs:{type:"checkbox",name:"eaxioslog"},domProps:{checked:Array.isArray(e.CONFIG_RUNJS.eaxioslog)?e._i(e.CONFIG_RUNJS.eaxioslog,null)>-1:e.CONFIG_RUNJS.eaxioslog},on:{change:function(t){var s=e.CONFIG_RUNJS.eaxioslog,i=t.target,n=!!i.checked;if(Array.isArray(s)){var a=e._i(s,null);i.checked?a<0&&e.$set(e.CONFIG_RUNJS,"eaxioslog",s.concat([null])):a>-1&&e.$set(e.CONFIG_RUNJS,"eaxioslog",s.slice(0,a).concat(s.slice(a+1)))}else e.$set(e.CONFIG_RUNJS,"eaxioslog",n)}}})]),e._v(" "),t("div",{staticClass:"eflex"},[t("label",[e._v("使用网络请求相关设置中的代理(如有)")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.CONFIG_RUNJS.proxy,expression:"CONFIG_RUNJS.proxy"}],staticClass:"echeckbox",attrs:{type:"checkbox",name:"runjsproxy"},domProps:{checked:Array.isArray(e.CONFIG_RUNJS.proxy)?e._i(e.CONFIG_RUNJS.proxy,null)>-1:e.CONFIG_RUNJS.proxy},on:{change:function(t){var s=e.CONFIG_RUNJS.proxy,i=t.target,n=!!i.checked;if(Array.isArray(s)){var a=e._i(s,null);i.checked?a<0&&e.$set(e.CONFIG_RUNJS,"proxy",s.concat([null])):a>-1&&e.$set(e.CONFIG_RUNJS,"proxy",s.slice(0,a).concat(s.slice(a+1)))}else e.$set(e.CONFIG_RUNJS,"proxy",n)}}})])]),e._v(" "),t("div",{staticClass:"setting setting--inline"},[t("div",{staticClass:"eflex"},[t("label",{staticClass:"w120",attrs:{title:"白名单脚本不显示网络请求 url"}},[e._v("白名单脚本")]),e._v(" "),t("checkbox",{attrs:{oCheck:e.CONFIG_RUNJS.white}})],1),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.lazy.trim",value:e.jswhitelist,expression:"jswhitelist",modifiers:{lazy:!0,trim:!0}}],staticClass:"setting_input setting_input--middle",attrs:{placeholder:"完整的脚本文件名，以英文逗号进行分隔，比如: test.js,softupdate.js",title:"远程脚本只需填写文件名部分。本地次级目录文件需带目录填写"},domProps:{value:e.jswhitelist},on:{change:function(t){e.jswhitelist=t.target.value.trim()},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),t("span",{staticClass:"tip"},[e._v("该名单脚本内所有网络请求直接放行，不做屏蔽检测")])])]),t("button",{staticClass:"elecBtn elecBtn--stlong",on:{click:function(t){return e.runjsSave()}}},[e._v(e._s(e.$t("save")))])]),e._v(" "),t("eAxios",{attrs:{config:e.CONFIG_Axios,uagent:e.uagent}}),e._v(" "),t("webui",e._g({attrs:{menunav:e.webUI.nav,theme:e.webUI.theme,logo:e.webUI.logo}},e.$listeners)),e._v(" "),t("security",{attrs:{config:e.CONFIG_SECURITY}}),e._v(" "),t("env",{attrs:{config:e.CONFIG_env}}),e._v(" "),t("div",{staticClass:"setting setting--init",class:{"setting--collapsed":e.collapse.init}},[t("h4",{staticClass:"setting_title"},[t("sapn",{staticClass:"title_main",attrs:{title:"重启后生效"}},[e._v("初始化相关设置")]),e._v(" "),t("span",{staticClass:"title_collapse",class:{"title_collapse--collapsed":e.collapse.init},on:{click:function(t){e.collapse.init=!e.collapse.init}}})],1),e._v(" "),t("div",{staticClass:"setting setting--inline",on:{keydown:function(t){return(t.type.indexOf("key")||83===t.keyCode)&&t.ctrlKey?(t.preventDefault(),t.stopPropagation(),e.initSave()):null}}},[t("div",{staticClass:"eflex"},[t("label",{staticClass:"setting_label"},[e._v("启动时检测新版本:")]),e._v(" "),t("checkbox",{attrs:{oCheck:e.CONFIG_init,oKey:"checkupdate"}})],1),e._v(" "),t("div",{staticClass:"eflex eflex_grow1 emargin--d5em"},[t("label",{staticClass:"setting_label",attrs:{title:"在 elecV2P 启动时执行的脚本, 可用于配置基础执行环境，或发送启动通知等"}},[e._v("启动时运行脚本:")]),e._v(" "),t("checkbox",{staticClass:"emargin--right",attrs:{oCheck:e.CONFIG_init,oKey:"runjsenable"}}),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.lazy.trim",value:e.CONFIG_init.runjs,expression:"CONFIG_init.runjs",modifiers:{lazy:!0,trim:!0}}],staticClass:"elecTable_input",attrs:{name:"init",placeholder:"python-install.js, feed.js, process.env.js（多个脚本请使用英文逗号进行分隔）"},domProps:{value:e.CONFIG_init.runjs},on:{change:function(t){e.$set(e.CONFIG_init,"runjs",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})],1),e._v(" "),t("button",{staticClass:"elecBtn emargin--d5em",on:{click:function(t){return e.initSave()}}},[e._v(e._s(e.$t("save")))])]),e._v(" "),t("div",{staticClass:"setting setting--inline",on:{keydown:function(t){return(t.type.indexOf("key")||83===t.keyCode)&&t.ctrlKey?(t.preventDefault(),t.stopPropagation(),e.webUIPortSave()):null}}},[t("label",{staticClass:"setting_label"},[e._v("webUI 主界面端口:")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.webUI.port,expression:"webUI.port",modifiers:{number:!0}}],staticClass:"setting_input setting_input--number",attrs:{type:"number",name:"webuiport",placeholder:"80"},domProps:{value:e.webUI.port},on:{input:function(t){t.target.composing||e.$set(e.webUI,"port",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),t("label",{staticClass:"setting_label setting_label--flex",attrs:{title:"是否使用 https 访问"}},[t("span",[e._v("TLS：")]),e._v(" "),t("checkbox",{attrs:{oCheck:e.webUI.tls}})],1),e._v(" "),t("label",{staticClass:"setting_label setting_label--flex",attrs:{title:"TLS 证书颁发对象，IP 或 域名"}},[t("span",[e._v("HOST：")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.webUI.tls.host,expression:"webUI.tls.host"}],staticClass:"setting_input w220",attrs:{name:"tls_host",placeholder:"IP 或 域名"},domProps:{value:e.webUI.tls.host},on:{input:function(t){t.target.composing||e.$set(e.webUI.tls,"host",t.target.value)}}})]),e._v(" "),t("button",{staticClass:"elecBtn",on:{click:function(t){return e.webUIPortSave()}}},[e._v(e._s(e.$t("save")))])]),e._v(" "),t("div",{staticClass:"setting setting--inline",on:{keydown:function(t){return(t.type.indexOf("key")||83===t.keyCode)&&t.ctrlKey?(t.preventDefault(),t.stopPropagation(),e.anyproxySave()):null}}},[t("label",{staticClass:"setting_label"},[e._v("ANYPROXY 设置:")]),e._v(" "),t("checkbox",{attrs:{oCheck:e.anyproxy,title:"启动时 关闭/打开"}}),e._v(" "),t("label",{staticClass:"setting_label setting_label--flex"},[t("span",[e._v("代理端口：")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.anyproxy.port,expression:"anyproxy.port",modifiers:{number:!0}}],staticClass:"setting_input setting_input--number",attrs:{type:"number",name:"anyport",placeholder:"8001"},domProps:{value:e.anyproxy.port},on:{input:function(t){t.target.composing||e.$set(e.anyproxy,"port",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),t("label",{staticClass:"setting_label setting_label--flex"},[t("span",[e._v("网络请求查看端口：")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.anyproxy.webPort,expression:"anyproxy.webPort",modifiers:{number:!0}}],staticClass:"setting_input setting_input--number",attrs:{type:"number",name:"anywebport",placeholder:"8002"},domProps:{value:e.anyproxy.webPort},on:{input:function(t){t.target.composing||e.$set(e.anyproxy,"webPort",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),t("button",{staticClass:"elecBtn",on:{click:e.anyproxySave}},[e._v(e._s(e.$t("save")))])],1),e._v(" "),t("div",{staticClass:"setting setting--config",on:{keydown:function(t){return(t.type.indexOf("key")||83===t.keyCode)&&t.ctrlKey?(t.preventDefault(),t.stopPropagation(),e.pathSave()):null}}},[t("label",{staticClass:"title_inline",attrs:{title:"仅可在启动时通过 env.CONFIG 更改"}},[t("span",{staticClass:"elabel_text"},[e._v("当前配置文件")]),e._v(" "),t("input",{staticClass:"emargin elecTable_input wp50 minw320",attrs:{disabled:""},domProps:{value:e.CONFIG_Path.config}})]),e._v(" "),t("div",{staticClass:"eflex eflex--wrap"},[t("label",{staticClass:"w100"},[t("span",{staticClass:"elabel_text",attrs:{title:"当前使用目录："+e.CONFIG_Path.lists_final}},[e._v("规则任务列表等保存目录")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.CONFIG_Path.lists,expression:"CONFIG_Path.lists"}],staticClass:"elecTable_input wp50 minw320 emargin",attrs:{placeholder:e.CONFIG_Path.lists_final},domProps:{value:e.CONFIG_Path.lists},on:{input:function(t){t.target.composing||e.$set(e.CONFIG_Path,"lists",t.target.value)}}})]),e._v(" "),t("label",{staticClass:"w100"},[t("span",{staticClass:"elabel_text",attrs:{title:"当前使用目录："+e.CONFIG_Path.script_final}},[e._v("脚本文件保存目录")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.CONFIG_Path.script,expression:"CONFIG_Path.script"}],staticClass:"elecTable_input wp50 minw320 emargin",attrs:{placeholder:e.CONFIG_Path.script_final},domProps:{value:e.CONFIG_Path.script},on:{input:function(t){t.target.composing||e.$set(e.CONFIG_Path,"script",t.target.value)}}})]),e._v(" "),t("label",{staticClass:"w100"},[t("span",{staticClass:"elabel_text",attrs:{title:"当前使用目录："+e.CONFIG_Path.store_final}},[e._v("store 常量保存目录")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.CONFIG_Path.store,expression:"CONFIG_Path.store"}],staticClass:"elecTable_input wp50 minw320 emargin",attrs:{placeholder:e.CONFIG_Path.store_final},domProps:{value:e.CONFIG_Path.store},on:{input:function(t){t.target.composing||e.$set(e.CONFIG_Path,"store",t.target.value)}}})]),e._v(" "),t("label",{staticClass:"w100"},[t("span",{staticClass:"elabel_text",attrs:{title:"当前使用目录："+e.CONFIG_Path.shell_final}},[e._v("shell 指令默认执行目录")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.CONFIG_Path.shell,expression:"CONFIG_Path.shell"}],staticClass:"elecTable_input wp50 minw320 emargin",attrs:{placeholder:e.CONFIG_Path.shell_final},domProps:{value:e.CONFIG_Path.shell},on:{input:function(t){t.target.composing||e.$set(e.CONFIG_Path,"shell",t.target.value)}}})]),e._v(" "),t("button",{staticClass:"elecBtn elecBtn--stlong emargin--d5em",on:{click:function(t){return e.pathSave()}}},[e._v(e._s(e.$t("save")))])])]),e._v(" "),t("i",{staticClass:"tip"},[e._v("以上设置将在 elecV2P 重启后正式应用")]),e._v(" "),t("div",{staticClass:"setting setting--inline"},[t("button",{staticClass:"emargin elecBtn elecBtn--check w220",on:{click:function(t){return e.updateCheck()}}},[e._v("检测更新 elecV2P")]),e._v(" "),t("button",{staticClass:"emargin elecBtn greenbk w220",attrs:{title:"请确认已保存好当前规则及任务列表"},on:{click:function(t){return e.evRestart()}}},[e._v(e._s(e.$t("restart"))+" elecV2P")]),e._v(" "),t("button",{staticClass:"emargin elecBtn elecBtn--clear w220",attrs:{title:"如只想关闭 ANYPROXY，可在首页双击 ANRPROXY 端口"},on:{click:function(t){return e.evStop()}}},[e._v(e._s(e.$t("stop"))+" elecV2P")]),e._v(" "),t("button",{staticClass:"emargin elecBtn elecBtn--file",on:{click:function(t){return e.configImport()}}},[e._v("导入配置文件")]),e._v(" "),t("button",{staticClass:"emargin elecBtn",attrs:{title:"确保当前页面 WEBHOOK TOKEN 是和服务器匹配的"},on:{click:function(t){return e.configExport()}}},[e._v("导出当前配置")])])])],1),e._v(" "),e._m(2),e._v(" "),e.bShowMinishell?t("minishell",{tag:"div"}):e._e()],1)};Nr._withStripped=!0;var Pr=function(){var e=this,t=e._self._c;return t("div",{staticClass:"shell",class:{mini:e.bIsHide}},[t("span",{staticClass:"shell_hide",class:{"shell_hide--close":!e.$wsrecv.connected},on:{click:function(t){e.bIsHide=!e.bIsHide}}},[e._v(e._s(e.subnum))]),e._v(" "),e.bIsHide?e._e():t("div",{staticClass:"shelllogs",on:{click:function(t){e.autoScroll=!1}}},[t("div",{staticClass:"shell_status"},[t("span",{staticClass:"shell_status_item"},[e._v("CLIENTS: "+e._s(e.status.clients))]),e._v(" "),t("span",{staticClass:"shell_status_item"},[e._v("RSS: "+e._s(e.status.rss))]),e._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:e.status.rtimes,expression:"status.rtimes"}],staticClass:"shell_status_item"},[e._v("JSRUNTS: "+e._s(e.status.rtimes))])]),e._v(" "),e._l(e.logs,(function(s){return t("span",{staticClass:"loginfo_item",domProps:{innerHTML:e._s(e.logHtml(s))}})}))],2),e._v(" "),e.bIsHide?e._e():t("ul",{staticClass:"shellsub"},e._l(e.subprocess,(function(s,i){return t("li",{key:i,staticClass:"eflex w100 shellsub_item"},[t("span",{staticClass:"shellsub_command",attrs:{title:i}},[e._v(e._s(e.subCommandAlign(s.command+" %")))]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:s.subcommand,expression:"process.subcommand"}],staticClass:"shellsub_input",attrs:{type:"text"},domProps:{value:s.subcommand},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),t.stopPropagation(),t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.sendToSub(i))},keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),t.stopPropagation(),t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.hiupdownSub(i,!0))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),t.stopPropagation(),t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.hiupdownSub(i))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:(t.preventDefault(),t.stopPropagation(),t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:void(s.subcommand=""))}],input:function(t){t.target.composing||e.$set(s,"subcommand",t.target.value)}}}),e._v(" "),t("span",{staticClass:"shellsub_close",on:{click:function(t){return e.subProcessExit(i)}}},[e._v("X")])])})),0),e._v(" "),e.bIsHide?e._e():t("div",{staticClass:"shellcommand",on:{click:function(t){e.autoScroll=!0}}},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.fullcommand,expression:"fullcommand"}],staticClass:"shellcommand_input",domProps:{value:e.fullcommand},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),t.stopPropagation(),t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.send.apply(null,arguments))},function(t){return(t.type.indexOf("key")||76===t.keyCode)&&t.ctrlKey?(t.preventDefault(),t.stopPropagation(),t.shiftKey||t.altKey||t.metaKey?null:void(e.logs=[])):null},function(t){return t.type.indexOf("key")||36===t.keyCode?(t.preventDefault(),t.stopPropagation(),t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.moveCur(0,t)):null},function(t){return(t.type.indexOf("key")||65===t.keyCode)&&t.ctrlKey?(t.preventDefault(),t.stopPropagation(),t.shiftKey||t.altKey||t.metaKey?null:e.moveCur(0,t)):null},function(t){return(t.type.indexOf("key")||69===t.keyCode)&&t.ctrlKey?(t.preventDefault(),t.stopPropagation(),t.shiftKey||t.altKey||t.metaKey?null:e.moveCur(-1,t)):null}],keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),t.stopPropagation(),t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.hiupdown(!0))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),t.stopPropagation(),t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.hiupdown())},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:(t.preventDefault(),t.stopPropagation(),t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:void(e.command=""))}],input:function(t){t.target.composing||(e.fullcommand=t.target.value)}}})])])};function Ar(e=""){switch(e){case"reload":case"?reload":case"refresh":location.reload(!0);break;default:e?/^#/.test(e)?location.hash=e:window.open(e,"elecV2Ptab","noreferrer"):console.debug("no url to open")}}function Ir(e,t=160,s=100){let i=e.pageX,n=e.pageY;return e.pageX+t>document.body.clientWidth&&(i-=t),e.pageY+s>document.body.clientHeight&&(n-=s),[i,n]}Pr._withStripped=!0;const Rr=new Map,Dr=new Map;Dr.set("082bc4ee40bfef100f79579dc780dff7",{name:"elecV2",homepage:"https://github.com/elecV2"}),Dr.set("cd2458b5e43827ee9a2009b56f29ffd5",{name:"Public test",homepage:"https://t.me/elecV2"}),Dr.set("b9b2e3354b6520261c1b5c375dc2bf74",{name:"Oreomeow",homepage:"https://github.com/Oreomeow"});let Fr=localStorage.getItem("sponsors");if(Fr)try{JSON.parse(Za(Fr,"elecV2P_sponsors")).forEach((e=>{Dr.set(e,Object.create(null))}))}catch(e){console.debug("parse localStorage sponsors",e)}Rr.set("sponsors",Dr),Rr.set("bChecked",localStorage.getItem("bcheck")===(new Date).getDate().toString()),Dr.has(localStorage.getItem("userid"))&&Rr.set("bSponsor",!0);const Lr={get:e=>localStorage.getItem(e),set:(e,t)=>localStorage.setItem(e,t),hasCache:e=>Rr.has(e),getCache:e=>Rr.get(e),setCache:(e,t)=>Rr.set(e,t),deleteCache:e=>Rr.delete(e)};function Hr(e){let t=document.querySelector(e);t&&(t.scrollTop=t.scrollHeight)}function Ur(e){let t=document.querySelector(e);t&&t.scrollIntoView()}function Mr(e){let t=document.querySelector(e);t&&t.focus()}function Br(e,t="elecV2P.json",s="application/json"){e=/json/.test(s)?JSON.stringify(e,null,2):String(e);const i=new Blob([e],{type:s});let n=(window.URL||window.webkitURL).createObjectURL(i),a=document.createElement("a");a.download=t,a.href=n,a.click()}function zr(e,t=""){fetch(e).then((s=>{if(!t)try{const e=s.headers.get("Content-Disposition").split(";");t=e[1].split("=")[1]}catch(e){console.error("fail to get filename",e)}return s.blob().then((s=>{let i=document.createElement("a");i.href=URL.createObjectURL(s),i.download=t||e.split("/").pop(),i.click()}))}))}function Vr(e="",t=".evscript"){if(!e)return void console.log("some code are expect");document.querySelector(t)&&document.querySelector(t).remove();let s=document.createElement("script");s.setAttribute("type","text/javascript"),s.setAttribute("defer","defer"),s.className="evscript",s.innerHTML=e,document.head.appendChild(s)}function Gr(e="",t=".evtheme"){if(!e)return void console.log("some style contexts are expect");document.querySelector(t)&&document.querySelector(t).remove();let s=document.createElement("style");s.className="evtheme",s.innerHTML=e,document.head.appendChild(s)}function Kr(e="",t=""){if(!e)return void console.log("a meta name is expect");let s=document.querySelector(`meta[name=${e}]`),i=null;s?i=s:(i=document.createElement("meta"),i.name=e),i.content=t,!s&&document.head.appendChild(i)}function qr(e="standalone"){return matchMedia(`(display-mode: ${e})`).matches||navigator.standalone||document.referrer.includes("android-app://")}function Jr(e){document.querySelector(e)&&document.querySelector(e).remove()}function Wr(e=""){let t=document.querySelector(".copyinput");t&&"INPUT"===t.nodeName||(t=document.createElement("input"),t.className="copyinput",t.style.position="fixed",t.style.top="-6px",t.style.height="0",t.style.border="none",document.body.appendChild(t)),t.value=e,t.focus(),t.select(),document.execCommand("copy"),t.blur()}function Yr(e){return navigator.clipboard.writeText(e)}function Xr({accept:e="*",type:t="text",multiple:s=!1}={}){let i=document.createElement("input");return i.type="file",i.accept=e,s&&(i.multiple=!0),new Promise(((e,s)=>{i.onchange=i=>{let n=i.target.files[0];if(n)if(console.debug("get file",n.name,n.type,n.size),"file"===t)e(n);else{let t=new FileReader;t.readAsText(n,"UTF-8"),t.onload=t=>{e({name:n.name,type:n.type,size:n.size,content:t.target.result})}}else s("请先选择文件")},i.click()}))}function Zr(){return navigator.userAgent||"Mozilla/5.0 (Linux; U; elecV2P; x64) ePhone Super Max Plus++"}function Qr(e=""){return getComputedStyle(document.querySelector("#app")).getPropertyValue(e).trim()}function eo(e=""){document.execCommand("insertText",!1,e)}const to=new Map;function so(e="",t="",s=3){if(!e||!t)return void to.clear();32!==e.length&&(e=Wa(t,32));const i=e+t+s;if(to.has(i))return to.get(i);let n="";switch(s){case 4:n=function(e=""){const t=document.createElement("canvas");t.width=180,t.height=180;const s=t.getContext("2d"),i=e.match(/\w{2}/g).map((e=>parseInt(e,16)));s.fillStyle=`rgba(${i[0]}, ${i[4]}, ${i[8]}, ${i[12]/380+.3})`,s.fillRect(0,0,t.width,t.height),s.lineCap="round",s.lineJoin="round";const n=i[0]%4,a=i[1]%10+10;switch(s.beginPath(),s.lineWidth=i[2]%15+5,s.strokeStyle=`rgba(${i[0]}, ${i[1]}, ${i[2]}, ${i[3]/380+.3})`,s.fillStyle=`rgba(${i[0]}, ${i[1]}, ${i[2]}, ${i[3]/380+.3})`,n){case 0:s.strokeRect(50-a,60-a,2*a,2*a);break;case 1:s.fillRect(50-a,60-a,2*a,2*a);break;case 2:s.arc(50,60,a,0,2*Math.PI),s.stroke();break;default:s.arc(50,60,a,0,2*Math.PI),s.fill()}const r=i[4]%4,o=i[5]%10+10;switch(s.beginPath(),s.lineWidth=i[6]%15+5,s.strokeStyle=`rgba(${i[4]}, ${i[5]}, ${i[6]}, ${i[7]/380+.3})`,s.fillStyle=`rgba(${i[4]}, ${i[5]}, ${i[6]}, ${i[7]/380+.3})`,r){case 0:s.strokeRect(130-o,60-o,2*o,2*o);break;case 1:s.fillRect(130-o,60-o,2*o,2*o);break;case 2:s.arc(130,60,o,0,2*Math.PI),s.stroke();break;default:s.arc(130,60,o,0,2*Math.PI),s.fill()}return s.beginPath(),s.moveTo(90,(a+o)/2+60),s.quadraticCurveTo(i[8],i[9],90,i[10]%15+105),s.lineWidth=i[11]%15+5,s.strokeStyle=`rgba(${i[8]}, ${i[9]}, ${i[10]}, ${i[11]/380+.3})`,s.stroke(),s.beginPath(),s.moveTo(50,130),s.quadraticCurveTo(i[12],i[13]%50+130,130,130),s.lineWidth=i[14]%15+5,s.strokeStyle=`rgba(${i[12]}, ${i[13]}, ${i[14]}, ${i[15]/380+.3})`,s.stroke(),t.toDataURL()}(e);break;case 3:n=function(e="",t=""){const s=document.createElement("canvas");s.width=180,s.height=180;const i=s.getContext("2d"),n=e.match(/\w{2}/g).map((e=>parseInt(e,16))),a=i.createRadialGradient(90,90,0,90,90,128);a.addColorStop(0,`rgba(${n[0]}, ${n[1]}, ${n[2]}, ${n[3]/380+.3})`),a.addColorStop(.25,`rgba(${n[4]}, ${n[5]}, ${n[6]}, ${n[7]/380+.3})`),a.addColorStop(.5,`rgba(${n[8]}, ${n[9]}, ${n[10]}, ${n[11]/380+.3})`),a.addColorStop(.75,`rgba(${n[12]}, ${n[13]}, ${n[14]}, ${n[15]/380+.3})`),a.addColorStop(1,`rgba(${n[12]}, ${n[13]}, ${n[14]}, ${n[15]/380+.3})`),i.beginPath(),i.fillStyle=a,i.arc(90,90,128,0,2*Math.PI),i.fill(),t&&io(t,i);return s.toDataURL()}(e,t);break;case 2:n=function(e="",t=""){const s=document.createElement("canvas");s.width=180,s.height=180;const i=s.getContext("2d");e+=e;let n=0;for(let t=0;t<18;t++){for(let s=0;s<18;s++)i.beginPath(),i.fillStyle="#"+e.slice(n+s,n+s+8),i.arc(10*s+5,10*t+5,5,0,2*Math.PI),i.fill();n++}t&&io(t,i);return s.toDataURL()}(e,t);break;default:n=function(e="",t=""){const s=document.createElement("canvas");s.width=180,s.height=180;const i=s.getContext("2d"),n=e.match(/\w{2}/g).map((e=>parseInt(e,16))),a=[n[0]%120,n[1]%120],r=[n[2]%(180-a[0])+a[0],n[3]%(180-a[1])+a[1]];i.fillStyle=`rgba(${n[0]}, ${n[1]}, ${n[2]}, ${n[3]/380+.3})`,i.fillRect(0,0,r[0],a[1]-2),i.fillStyle=`rgba(${n[4]}, ${n[5]}, ${n[6]}, ${n[7]/380+.3})`,i.fillRect(r[0]+2,0,180-r[0]-2,r[1]),i.fillStyle=`rgba(${n[8]}, ${n[9]}, ${n[10]}, ${n[11]/380+.3})`,i.fillRect(a[0],r[1]+2,180-a[0],180-r[1]-2),i.fillStyle=`rgba(${n[12]}, ${n[13]}, ${n[14]}, ${n[15]/380+.3})`,i.fillRect(0,a[1],a[0]-2,180-a[1]),i.fillStyle=Qr("--main-bk")||`rgba(${n[1]}, ${n[5]}, ${n[9]}, ${n[13]/380+.3})`,i.fillRect(a[0],a[1],r[0]-a[0],r[1]-a[1]),i.fillStyle="#000",i.fillRect(r[0],0,2,r[1]),i.fillRect(a[0],r[1],180-a[0],2),i.fillRect(a[0]-2,a[1],2,180-a[1]),i.fillRect(0,a[1]-2,r[0],2),t&&io(t,i);return s.toDataURL()}(e,t)}return to.set(i,n),n}function io(e="",t){e&&(e.length>1&&(e=e.slice(0,1)),e=e.toUpperCase(),t.beginPath(),t.lineWidth=6,t.textAlign="center",t.textBaseline="middle",t.font="bold 140px "+(Qr("--font-fm")||"system-ui,sans-serif"),t.strokeStyle=Qr("--main-fc")||"#FFFFFF",t.strokeText(e,90,98))}function no(e=""){if("function"!=typeof eval){const e="eval 函数在当前环境下不可用";return console.error(e),e}try{return(0,eval)(e)}catch(e){return console.error("evalRun fail",e),e.message}}function ao(){return document.title}function ro(e="elecV2P"){document.title=e}function oo({ele:e=document.querySelector(".logo_a"),off:t=!0}={}){return t?e.classList.add("logo_a--offline"):e.classList.remove("logo_a--offline")}function lo(e,t=""){return t?document.querySelectorAll(e):document.querySelector(e)}const co={message:Object.create(null),evui:()=>{}};const uo=ka({name:"minishell",data:()=>({logs:[],command:"node -v",cwd:"",bIsHide:!0,status:{clients:0,rss:0,rtimes:0},history:{current:-1,lists:[]},autoScroll:!0,subprocess:Object.create(null),subDelaySend:Object.create(null),tips:"快捷键：\n- esc         // 清空当前输入命令\n- ctrl + l    // 清空屏幕日志\n- up/down     // 上下查找历史执行命令\n- shift + tab // 移动光标到子进程交互输入框（如果存在的话\n- 单击上方日志输出部分，停止自动滚动。单击下方命令输入部分，开启自动滚动\n\n特殊指令：\n- cls/clear   // 清空屏幕日志\n- cwd         // 获取当前工作目录\n- cd xxx      // 更改当前工作目录到xxx\n- docs        // 打开 minishell 相关说明文档\n- exit        // 最小化 minishell 界面（在子进程交互中输入时表示结束子进程"}),computed:{cwdshow(){return this.cwd?this.cwd.replace(/(\/|\\)$/,"").split(/\\|\//).pop()+"> ":"> "},subnum(){return Object.keys(this.subprocess).length||""},fullcommand:{get(){return this.cwdshow+this.command},set(e){this.command=e.replace(/[^>]*> /,"")}}},created(){this.logs.push(this.tips),this.$wsrecv.add("minishell",(e=>{if(e.data)switch(e.type){case"cwd":this.logs.push("cwd: "+e.data),this.cwd=e.data;break;case"shellinit":this.logs.push("cwd: "+e.data.cwd),this.cwd=e.data.cwd,e.data.subprocess&&(this.subprocess=e.data.subprocess);break;case"subprocessexit":if(this.subDelaySend[e.data]){console.debug("exit subprocess:",e.data),clearTimeout(this.subDelaySend[e.data]),this.subDelaySend[e.data]=null;break}this.subprocess[e.data]?(console.debug("exit subprocess:",e.data,"command:",this.subprocess[e.data].command),this.$delete(this.subprocess,e.data)):console.debug("subprocess: "+e.data+" not exist yet");break;case"subprocessadd":console.debug("run  subprocess:",e.data.id,"command:",e.data.command);let{id:t,command:s}=e.data;this.subDelaySend[t]=setTimeout((()=>{this.subDelaySend[t]=null,this.$set(this.subprocess,t,{command:s,history:{current:-1,lists:[]}})}),800);break;case"elecV2Pstatus":this.status.clients=e.data.clients,this.status.rss=e.data.memoryusage.rss;break;case"jsrunstatus":this.status.rtimes=e.data.total;break;default:/\x1b\[H/.test(e.data)?this.logs=[e.data]:/\r|(\x1b\[F)/.test(e.data)?this.logs.splice(-1,1,e.data):this.logs.push(e.data)}else console.debug("minishell recv",e,"expected ms.data")})),this.$wsrecv.connected&&this.$wsrecv.send("shell","init"),setTimeout(Mr,2e3,".shellcommand_input")},watch:{logs(e){this.logBottom()},subprocess(){this.logBottom()}},methods:{logBottom(){this.autoScroll&&(this.autoScroll=!1,setTimeout((()=>{Hr(".shelllogs"),this.autoScroll=!0}),200))},logHtml:Va,send(e){if(!this.$wsrecv.connected)return this.$message.error("websocket 尚未连接"),void this.logs.push(`[${this.$logHead("minishell  error")}][${this.$sTime(null,1)}] websocket 尚未连接`);if(!e.ctrlKey&&!e.shiftKey&&this.command){switch(this.command=this.command.trim(),this.command){case"exit":this.bIsHide=!0;break;case"clear":case"CLEAR":case"cls":case"CLS":this.logs.splice(0);break;case"docs":Ar("https://github.com/elecV2/elecV2P-dei/blob/master/docs/Advanced.md");break;default:const e=`${this.$wsrecv.id}_minishell_${this.history.lists.length}`;this.$wsrecv.send("shell",{id:e,type:"main",data:encodeURI(this.command)}),this.logs.push(`[${this.$logHead("minishell notify")}][${this.$sTime(null,1)}] running command: ${this.command}`)}this.history.lists.push(this.command),this.history.current=-1,this.command=""}},sendToSub(e){if(!e)return void this.$message.error("a command id is expected");let t=this.subprocess[e].subcommand;this.subprocess[e]&&t?(this.subprocess[e].subcommand="",this.$wsrecv.send("shell",{id:e,type:"sub",data:encodeURI(t)}),this.subprocess[e].history||(this.subprocess[e].history={lists:[]}),this.subprocess[e].history.lists.push(t),this.subprocess[e].history.current=-1):this.$message.error("请先输入要执行的命令")},subProcessExit(e){this.$wsrecv.send("shell",{id:e,type:"sub",data:"exit"}),this.$delete(this.subprocess,e)},hiupdown(e=!1){0!==this.history.lists.length&&(e?(this.history.current--,this.history.current<0&&(this.history.current=this.history.lists.length-1)):(this.history.current++,this.history.current>=this.history.lists.length&&(this.history.current=0)),this.command=this.history.lists[this.history.current])},hiupdownSub(e,t=!1){let s=this.subprocess[e];s&&s.history&&0!==s.history.lists.length&&(t?(s.history.current--,s.history.current<0&&(s.history.current=s.history.lists.length-1)):(s.history.current++,s.history.current>=s.history.lists.length&&(s.history.current=0)),s.subcommand=s.history.lists[s.history.current])},subCommandAlign:e=>e.length<32?e:Ba(e,32),moveCur(e=0,t){if(0===e){const e=t.target.value.indexOf(">")+2;t.target.setSelectionRange(e,e)}else t.target.setSelectionRange(e,e)}}},Pr,[],!1,null,"007ead95",null).exports;var ho=function(){var e=this,t=e._self._c;return t("div",{staticClass:"setting setting--vflex",class:{"setting--collapsed":e.collapse},on:{keydown:function(t){return(t.type.indexOf("key")||83===t.keyCode)&&t.ctrlKey?(t.preventDefault(),t.stopPropagation(),e.eAxiosSave()):null}}},[t("h4",{staticClass:"setting_title"},[t("sapn",{staticClass:"title_main"},[e._v(e._s(e.$ta("web","request","setting_of")))]),e._v(" "),t("span",{staticClass:"title_collapse",class:{"title_collapse--collapsed":e.collapse},on:{click:function(t){e.collapse=!e.collapse}}})],1),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.collapse,expression:"!collapse"}],staticClass:"w100"},[t("div",{staticClass:"setting setting--inline"},[t("div",[t("label",[e._v("TIMEOUT(ms): ")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.config.timeout,expression:"config.timeout",modifiers:{number:!0}}],staticClass:"setting_input setting_input--number",attrs:{type:"number",placeholder:"0:不限制"},domProps:{value:e.config.timeout},on:{input:function(t){t.target.composing||e.$set(e.config,"timeout",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),t("div",{staticClass:"minw320"},[t("label",{attrs:{title:"当 header 中没有 User-Agent 时，使用此 UA"}},[e._v("User-Agent: ")]),e._v(" "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.config.uagent,expression:"config.uagent"}],staticClass:"elecTable_select w220",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.config,"uagent",t.target.multiple?s:s[0])}}},e._l(e.ualists,(function(s,i){return t("option",{domProps:{value:i}},[e._v(e._s(s))])})),0),e._v(" "),t("button",{staticClass:"elecBtn",class:{"elecBtn--check":e.bUAManage},on:{click:function(t){e.bUAManage=!e.bUAManage}}},[e._v(e._s(e.$t("manage")))])]),e._v(" "),t("div",[t("label",{attrs:{title:"process.env.NODE_TLS_REJECT_UNAUTHORIZED，建议始终勾选"}},[e._v("REJECT_UNAUTHORIZED: ")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.config.reject_unauthorized,expression:"config.reject_unauthorized"}],staticClass:"echeckbox emargin",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.config.reject_unauthorized)?e._i(e.config.reject_unauthorized,null)>-1:e.config.reject_unauthorized},on:{change:function(t){var s=e.config.reject_unauthorized,i=t.target,n=!!i.checked;if(Array.isArray(s)){var a=e._i(s,null);i.checked?a<0&&e.$set(e.config,"reject_unauthorized",s.concat([null])):a>-1&&e.$set(e.config,"reject_unauthorized",s.slice(0,a).concat(s.slice(a+1)))}else e.$set(e.config,"reject_unauthorized",n)}}})]),e._v(" "),t("div",{staticClass:"eflex"},[t("label",[e._v("HTTP "+e._s(e.$t("proxy"))+":")]),e._v(" "),t("checkbox",{attrs:{oCheck:e.config.proxy}})],1)]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.bUAManage,expression:"bUAManage"}],staticClass:"setting setting--inline setting--ua",on:{keydown:function(t){return(t.type.indexOf("key")||83===t.keyCode)&&t.ctrlKey?(t.preventDefault(),t.stopPropagation(),e.uaSave()):null}}},[t("table",{staticClass:"elecTable elecTable--ua"},[t("thead",[t("tr",[t("th",{staticClass:"elecTable_th elecTable_th--name"},[e._v(e._s(e.$t("name")))]),e._v(" "),t("th",{staticClass:"elecTable_th minw600"},[e._v(e._s(e.$t("content")))]),e._v(" "),t("th",{staticClass:"elecTable_th minw62"},[e._v(e._s(e.$t("operate_short")))])])]),e._v(" "),t("tbody",e._l(e.uagent,(function(s,i){return t("tr",{key:i},[t("td",{staticClass:"elecTable_td"},[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:s.name,expression:"ua.name",modifiers:{trim:!0}}],staticClass:"elecTable_input",attrs:{placeholder:"chrome 浏览器"},domProps:{value:s.name},on:{input:function(t){t.target.composing||e.$set(s,"name",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),t("td",{staticClass:"elecTable_td"},[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:s.header,expression:"ua.header",modifiers:{trim:!0}}],staticClass:"elecTable_input",attrs:{placeholder:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/85.0.4183.83 Safari/537.36"},domProps:{value:s.header},on:{input:function(t){t.target.composing||e.$set(s,"header",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),t("td",{staticClass:"elecTable_td"},[t("span",{staticClass:"icon--op",domProps:{innerHTML:e._s(e.icon.delete)},on:{click:function(t){return e.uaDelete(i)}}})])])})),0),e._v(" "),t("tfoot",[t("tr",[t("td",{staticClass:"elecTable_td padding0",attrs:{colspan:"3"}},[t("span",{staticClass:"elecTable_addbtn",on:{click:function(t){return e.uaAdd()}}},[e._v(e._s(e.$t("add"))+" UA")]),e._v(" "),t("span",{staticClass:"elecTable_addbtn",on:{click:function(t){return e.uaSave()}}},[e._v(e._s(e.$ta("save","current","list")))])])])])])]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.config.proxy.enable,expression:"config.proxy.enable"}],staticClass:"setting_proxy"},[t("div",{staticClass:"setting setting--inline"},[t("label",[t("span",[e._v("PORT:")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.config.proxy.port,expression:"config.proxy.port",modifiers:{number:!0}}],staticClass:"setting_input setting_input--number",attrs:{type:"number",placeholder:"8001"},domProps:{value:e.config.proxy.port},on:{input:function(t){t.target.composing||e.$set(e.config.proxy,"port",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),t("label",{staticClass:"wp46"},[t("span",[e._v("HOST:")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.config.proxy.host,expression:"config.proxy.host",modifiers:{lazy:!0}}],staticClass:"setting_input",attrs:{placeholder:"可选。如省略表示使用本地代理"},domProps:{value:e.config.proxy.host},on:{change:function(t){return e.$set(e.config.proxy,"host",t.target.value)}}})]),e._v(" "),t("label",[t("span",[e._v("AUTH:")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.isAuth,expression:"isAuth"}],staticClass:"echeckbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.isAuth)?e._i(e.isAuth,null)>-1:e.isAuth},on:{change:function(t){var s=e.isAuth,i=t.target,n=!!i.checked;if(Array.isArray(s)){var a=e._i(s,null);i.checked?a<0&&(e.isAuth=s.concat([null])):a>-1&&(e.isAuth=s.slice(0,a).concat(s.slice(a+1)))}else e.isAuth=n}}})])]),e._v(" "),e.isAuth?t("div",{staticClass:"setting setting--inline"},[t("label",{staticClass:"eflex mp46"},[t("span",[e._v("USERNAME:")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.config.proxy.auth.username,expression:"config.proxy.auth.username",modifiers:{lazy:!0}}],staticClass:"setting_input",domProps:{value:e.config.proxy.auth.username},on:{change:function(t){return e.$set(e.config.proxy.auth,"username",t.target.value)}}})]),e._v(" "),t("label",{staticClass:"eflex mp46"},[t("span",[e._v("PASSWORD:")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.config.proxy.auth.password,expression:"config.proxy.auth.password",modifiers:{lazy:!0}}],staticClass:"setting_input",domProps:{value:e.config.proxy.auth.password},on:{change:function(t){return e.$set(e.config.proxy.auth,"password",t.target.value)}}})])]):e._e()]),e._v(" "),t("div",{staticClass:"setting_proxy",attrs:{title:"谨慎选择是否开启，不合理的设置可能会导致正常的网络请求被屏蔽"}},[t("div",{staticClass:"setting setting--inline"},[t("div",{staticClass:"eflex"},[t("label",{staticClass:"minw160",attrs:{title:"可使用 request.token: '你的webhook token' 绕过屏蔽检测"}},[e._v(e._s(e.$t("forbid"))+" URL")]),e._v(" "),t("checkbox",{attrs:{oCheck:e.config.block}})],1),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.config.block.regexp,expression:"config.block.regexp",modifiers:{lazy:!0}}],staticClass:"setting_input setting_input--middle",attrs:{placeholder:"匹配内容 比如: abc|123 匹配方式: new RegExp('该内容').test(url)"},domProps:{value:e.config.block.regexp},on:{change:function(t){return e.$set(e.config.block,"regexp",t.target.value)}}}),e._v(" "),t("span",{staticClass:"tip"},[e._v("当网络请求 url 符合此正则表达式时，屏蔽该请求")])]),e._v(" "),t("div",{staticClass:"setting setting--inline"},[t("div",{staticClass:"eflex"},[t("label",{staticClass:"minw160"},[e._v(e._s(e.$t("allowed"))+" URL")]),e._v(" "),t("checkbox",{attrs:{oCheck:e.config.only}})],1),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.config.only.regexp,expression:"config.only.regexp",modifiers:{lazy:!0}}],staticClass:"setting_input setting_input--middle",attrs:{placeholder:"匹配内容 其他所有不符合该正则表达式的网络请求将被直接屏蔽掉"},domProps:{value:e.config.only.regexp},on:{change:function(t){return e.$set(e.config.only,"regexp",t.target.value)}}}),e._v(" "),t("span",{staticClass:"tip"},[e._v("开启时，仅允许符合此正则表达式的网络请求通过")])])]),e._v(" "),t("i",{staticClass:"tip tip--small"},[e._v("该部分设置适用于服务器端 文件下载/JS/mock 等模块发起的网络请求。URL 匹配方式: new RegExp('匹配内容').test(url)")]),e._v(" "),t("div",[t("button",{staticClass:"elecBtn elecBtn--stlong",on:{click:function(t){return e.eAxiosSave()}}},[e._v(e._s(e.$t("save")))])])])])};ho._withStripped=!0;const po=ka({name:"eAxios",props:["config","uagent"],data(){return{icon:wa,collapse:this.$uStr.iRandom(0,10)>5,bUAManage:!1}},computed:{ualists(){let e={};for(let t in this.uagent)e[t]=this.uagent[t].name;return e},isAuth:{get(){return Boolean(this.config.proxy&&this.config.proxy.auth)},set(e){e?this.$set(this.config.proxy,"auth",{}):this.$delete(this.config.proxy,"auth")}}},components:{checkbox:mr},methods:{uaDelete(e){this.$message.success("User-Agent:",this.uagent[e].name,"已删除，保存后生效"),this.$delete(this.uagent,e)},uaAdd(){this.$set(this.uagent,this.$uStr.euid(),{name:"我的 UA",header:this.$uApi.getUA()})},uaSave(){const e=this.$message.loading("User-Agent 列表上传更新中...",0);this.$axios.put("/config",{type:"uagent",data:this.uagent}).then((e=>{this.$message.success("设置成功",e.data.message)})).catch((e=>{this.$message.error("设置失败",e.message),console.log(e)})).finally(e)},eAxiosSave(){const e=this.$message.loading("网络请求相关设置保存中...",0);this.$axios.put("/config",{type:"eAxios",data:this.config}).then((e=>{0===e.data.rescode?this.$message.success("网络请求相关设置更改成功",e.data.message):this.$message.error("设置失败",e.data.message)})).catch((e=>{this.$message.error("设置失败",e.message),console.log(e)})).finally(e)}}},ho,[],!1,null,"487a2786",null).exports;var mo=function(){var e=this,t=e._self._c;return t("div",{staticClass:"setting setting--vflex",class:{"setting--collapsed":e.collapse},on:{keydown:function(t){return(t.type.indexOf("key")||83===t.keyCode)&&t.ctrlKey?(t.preventDefault(),t.stopPropagation(),e.securitySave()):null}}},[t("h4",{staticClass:"setting_title"},[t("div",{staticClass:"title_main"},[t("span",{attrs:{title:"仅对 webUI 端口有效"}},[e._v(e._s(e.$ta("security","access","setting_of")))]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.config.enable,expression:"config.enable"}],staticClass:"echeckbox emargin",attrs:{type:"checkbox",name:"status",title:"是否开启安全访问"},domProps:{checked:Array.isArray(e.config.enable)?e._i(e.config.enable,null)>-1:e.config.enable},on:{change:function(t){var s=e.config.enable,i=t.target,n=!!i.checked;if(Array.isArray(s)){var a=e._i(s,null);i.checked?a<0&&e.$set(e.config,"enable",s.concat([null])):a>-1&&e.$set(e.config,"enable",s.slice(0,a).concat(s.slice(a+1)))}else e.$set(e.config,"enable",n)}}})]),e._v(" "),t("span",{staticClass:"title_collapse",class:{"title_collapse--collapsed":e.collapse},on:{click:function(t){e.collapse=!e.collapse}}})]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.collapse&&e.config.enable,expression:"!collapse && config.enable"}],staticClass:"w100"},[t("div",{staticClass:"radius_bs border emargin"},[t("div",{staticClass:"setting setting--inline"},[t("div",{staticClass:"wp50"},[t("label",{staticClass:"setting_label"},[e._v(e._s(e.$ta("allowed","access"))+" IP（"+e._s(e.$t("whitelist"))+"）：")]),e._v(" "),t("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:e.whitelist,expression:"whitelist",modifiers:{trim:!0}}],staticClass:"editor_textarea",attrs:{name:"whitelist",placeholder:"127.0.0.1\n192.168.1.101\n182.xxx.x.125\n(仅可设置为 IP 地址)\n(白名单优先级高于黑名单)"},domProps:{value:e.whitelist},on:{input:function(t){t.target.composing||(e.whitelist=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),t("div",{staticClass:"wp50"},[t("label",{staticClass:"setting_label"},[e._v(e._s(e.$ta("forbid","access"))+" IP（"+e._s(e.$t("blacklist"))+"）：")]),e._v(" "),t("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:e.blacklist,expression:"blacklist",modifiers:{trim:!0}}],staticClass:"editor_textarea",attrs:{name:"blacklist",placeholder:"172.20.10.2\n*\n单独星号字符 * 表示屏蔽所有（只允许白名单中的 IP 通过）\n如果设置为 *，请务必先记下 WEBHOOK TOKEN"},domProps:{value:e.blacklist},on:{input:function(t){t.target.composing||(e.blacklist=t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})])]),e._v(" "),t("div",{staticClass:"eflex eflex--wrap w100"},[t("div",{staticClass:"eflex",attrs:{title:"启用后，仅 webhook 接口可访问"}},[t("label",{staticClass:"setting_label"},[e._v("WEBHOOK ONLY")]),e._v(" "),t("checkbox",{attrs:{oCheck:e.config,oKey:"webhook_only",oInit:"false"}})],1),e._v(" "),t("div",{staticClass:"eflex",attrs:{title:"不启用时，webUI 将不可使用授权 cookie 进行访问"}},[t("label",{staticClass:"setting_label"},[e._v(e._s(e.$t("allow"))+" cookie")]),e._v(" "),t("checkbox",{attrs:{oCheck:e.config.cookie}})],1),e._v(" "),t("div",{attrs:{title:"0: 表示不通知"}},[t("label",[e._v(e._s(e.$t("every"))+" ")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.number",value:e.config.numtofeed,expression:"config.numtofeed",modifiers:{number:!0}}],staticClass:"setting_input setting_input--number",attrs:{type:"number",name:"numtofeed",placeholder:"0: 不通知"},domProps:{value:e.config.numtofeed},on:{input:function(t){t.target.composing||e.$set(e.config,"numtofeed",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),t("label",[e._v(" "+e._s(e.$ta("times","illegal","access"))+", "+e._s(e.$ta("send","a","notify")))])])])]),e._v(" "),t("div",{staticClass:"setting setting--inline border"},[t("h4",{staticClass:"title_inline"},[t("sapn",{staticClass:"title_main"},[e._v(e._s(e.$ta("temp","access"))+" TOKEN")]),e._v(" "),t("button",{staticClass:"efloat--right elecBtn elecBtn--h32 radius_zero radius-bs--tr greenbk",on:{click:function(t){return e.tokensNew()}}},[e._v(e._s(e.$t("new")))])],1),e._v(" "),t("div",{staticClass:"eflex eflex--wrap w100 margin0"},e._l(e.config.tokens,(function(s,i){return t("div",{directives:[{name:"key",rawName:"v-key",value:i,expression:"hash"}],staticClass:"settoken",class:{"settoken--disabled":!s.enable}},[t("div",{staticClass:"eflex w460 minw320 emargin"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.token,expression:"token.token"}],staticClass:"elecTable_input h36",attrs:{placeholder:"临时访问 token"},domProps:{value:s.token},on:{input:function(t){t.target.composing||e.$set(s,"token",t.target.value)}}}),e._v(" "),t("span",{staticClass:"icon--op h36",domProps:{innerHTML:e._s(e.icon.sync)},on:{click:function(t){s.token=e.$uStr.UUID()}}})]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:s.path,expression:"token.path"}],staticClass:"elecTable_input w360 minw320 emargin h36",attrs:{placeholder:"允许路径，比如 ^/efss（留空：不限制"},domProps:{value:s.path},on:{input:function(t){t.target.composing||e.$set(s,"path",t.target.value)}}}),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:s.method,expression:"token.method"}],staticClass:"elecTable_input w360 minw320 emargin h36",attrs:{placeholder:"允许方法，比如 GET（留空：不限制"},domProps:{value:s.method},on:{input:function(t){t.target.composing||e.$set(s,"method",t.target.value)}}}),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:s.note,expression:"token.note"}],staticClass:"elecTable_input minw160 emargin h36",attrs:{placeholder:"备注（可省略"},domProps:{value:s.note},on:{input:function(t){t.target.composing||e.$set(s,"note",t.target.value)}}}),e._v(" "),t("span",{staticClass:"minw100",attrs:{title:"已授权访问次数"}},[e._v(e._s(s.times))]),e._v(" "),t("div",{staticClass:"eflex emargin"},[t("checkbox",{attrs:{oCheck:s}}),e._v(" "),t("span",{staticClass:"icon--op h36",attrs:{title:i},domProps:{innerHTML:e._s(e.icon.delete)},on:{click:function(t){return e.$delete(e.config.tokens,i)}}})],1)])})),0)]),e._v(" "),e._m(0)]),e._v(" "),t("button",{directives:[{name:"show",rawName:"v-show",value:!e.collapse,expression:"!collapse"}],staticClass:"elecBtn elecBtn--stlong",on:{click:function(t){return e.securitySave()}}},[e._v(e._s(e.$t("save")))])])};mo._withStripped=!0;const fo=ka({name:"security",props:["config"],data:()=>({icon:wa,collapse:!1}),components:{checkbox:mr},computed:{whitelist:{get(){return this.config.whitelist?this.config.whitelist.join("\n"):""},set(e){e?this.$set(this.config,"whitelist",e.split(/\r|\n|,/).filter((e=>e.trim()))):this.config.whitelist=[]}},blacklist:{get(){return this.config.blacklist?this.config.blacklist.join("\n"):""},set(e){e?this.$set(this.config,"blacklist",e.split(/\r|\n|,/).filter((e=>e.trim()))):this.config.blacklist=[]}}},methods:{tokensNew(){this.$set(this.config.tokens,this.$uStr.euid(),{enable:!0,token:this.$uStr.UUID(),path:"",method:"",note:"",times:0})},securitySave(){if(this.config.webhook_only&&!confirm("启用 仅开放 webhook 接口 后，webUI 等其他所有接口都不可用\n确定继续？"))return;const e=this.$message.loading("安全访问相关设置保存中...",0);this.$axios.put("/config",{type:"security",data:this.config}).then((e=>{0===e.data.rescode?(this.$message.success("安全访问相关设置保存成功"),e.data.resdata&&(this.config.tokens=e.data.resdata)):(this.$message.error("安全访问相关设置保存失败",e.data.message),console.error(e.data))})).catch((e=>{this.$message.error("安全访问相关设置保存失败",e.message),console.log(e)})).finally(e)}}},mo,[function(){var e=this,t=e._self._c;return t("i",{staticClass:"tip emargin"},[t("span",[e._v("更多说明请参考: ")]),e._v(" "),t("a",{attrs:{href:"https://github.com/elecV2/elecV2P-dei/tree/master/docs/Advanced.md",target:"elecV2PDoc"}},[e._v("Advanced.md")])])}],!1,null,"2a6fe729",null).exports;var vo=function(){var e=this,t=e._self._c;return t("div",{staticClass:"setting setting--vflex",class:{"setting--collapsed":e.collapse},on:{keydown:function(t){return(t.type.indexOf("key")||83===t.keyCode)&&t.ctrlKey?(t.preventDefault(),t.stopPropagation(),e.webuiSave()):null}}},[t("h4",{staticClass:"setting_title"},[t("sapn",{staticClass:"title_main"},[e._v("webUI "+e._s(e.$t("setting_of")))]),e._v(" "),t("span",{staticClass:"title_collapse",class:{"title_collapse--collapsed":e.collapse},on:{click:function(t){e.collapse=!e.collapse}}})],1),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.collapse,expression:"!collapse"}],staticClass:"border setting setting--inline"},[t("div",{staticClass:"eflex"},[t("label",{attrs:{title:"左上角显示信息"}},[e._v("自定义 LOGO：")]),e._v(" "),t("checkbox",{attrs:{oCheck:e.logo}})],1),e._v(" "),t("label",{staticClass:"eflex eflex--wrap emargin"},[e._v("图标链接："),t("input",{directives:[{name:"model",rawName:"v-model",value:e.logo.src,expression:"logo.src"}],staticClass:"elecTable_input logo_src",attrs:{placeholder:"比如 https://x.xx/x.png 或 efss/logo/my.png"},domProps:{value:e.logo.src},on:{input:function(t){t.target.composing||e.$set(e.logo,"src",t.target.value)}}})]),e._v(" "),t("label",{staticClass:"eflex"},[e._v("显示名称："),t("input",{directives:[{name:"model",rawName:"v-model",value:e.logo.name,expression:"logo.name"}],staticClass:"elecTable_input w120",attrs:{placeholder:"elecV2P"},domProps:{value:e.logo.name},on:{input:function(t){t.target.composing||e.$set(e.logo,"name",t.target.value)}}})]),e._v(" "),t("button",{staticClass:"elecBtn w120",on:{click:function(t){return t.preventDefault(),e.logoSave()}}},[e._v("保存")])]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.collapse,expression:"!collapse"}],staticClass:"border setting setting--inline"},[t("h4",{staticClass:"title_inline",attrs:{title:"SETTING/DONATION 暂时不支持隐藏"}},[e._v("左侧导航栏设置")]),e._v(" "),t("ul",{staticClass:"eflex eflex--wrap emargin"},e._l(e.menulist,(function(s,i){return t("li",{key:i,staticClass:"menunav_item"},[t("label",[e._v(e._s(i.toUpperCase())+": 别名")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:s.name,expression:"nav.name"}],staticClass:"emargin--left elecTable_input w220",attrs:{type:"text",placeholder:"显示为其他名称"},domProps:{value:s.name},on:{input:function(t){t.target.composing||e.$set(s,"name",t.target.value)}}}),e._v(" "),t("label",{staticClass:"emargin--left"},[e._v("显示")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:s.show,expression:"nav.show"}],staticClass:"echeckbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(s.show)?e._i(s.show,null)>-1:s.show},on:{change:function(t){var i=s.show,n=t.target,a=!!n.checked;if(Array.isArray(i)){var r=e._i(i,null);n.checked?r<0&&e.$set(s,"show",i.concat([null])):r>-1&&e.$set(s,"show",i.slice(0,r).concat(i.slice(r+1)))}else e.$set(s,"show",a)}}})])})),0),e._v(" "),t("span",{staticClass:"tip tip--small"},[e._v(" • SETTING/DONATION 暂时不可隐藏      • 隐藏界面可通过 #hash 的形式直接访问")])]),e._v(" "),e.$uApi.store.getCache("bSponsor")?t("div",{directives:[{name:"show",rawName:"v-show",value:!e.collapse,expression:"!collapse"}],staticClass:"border setting setting--inline"},[t("div",{staticClass:"eflex"},[t("label",[e._v("启用主题：")]),e._v(" "),t("checkbox",{attrs:{oCheck:e.theme_simple}}),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.theme_simple.name,expression:"theme_simple.name"}],staticClass:"emargin--left elecTable_input w220",attrs:{type:"text",placeholder:"主题名称"},domProps:{value:e.theme_simple.name},on:{input:function(t){t.target.composing||e.$set(e.theme_simple,"name",t.target.value)}}})],1),e._v(" "),t("div",{staticClass:"emargin"},[t("label",[e._v("主色彩:")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.theme_simple.mainbk,expression:"theme_simple.mainbk"}],staticClass:"elecTable_input w120",attrs:{type:"text",placeholder:"#326733"},domProps:{value:e.theme_simple.mainbk},on:{input:function(t){t.target.composing||e.$set(e.theme_simple,"mainbk",t.target.value)}}})]),e._v(" "),t("div",{staticClass:"emargin"},[t("label",[e._v("文字色彩:")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.theme_simple.maincl,expression:"theme_simple.maincl"}],staticClass:"elecTable_input w120",attrs:{type:"text",placeholder:"#ff9800"},domProps:{value:e.theme_simple.maincl},on:{input:function(t){t.target.composing||e.$set(e.theme_simple,"maincl",t.target.value)}}})]),e._v(" "),t("div",{staticClass:"emargin"},[t("label",[e._v("应用背景:")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.theme_simple.appbk,expression:"theme_simple.appbk"}],staticClass:"elecTable_input w220",attrs:{type:"text",placeholder:"url(https://x.xx/x.png)"},domProps:{value:e.theme_simple.appbk},on:{input:function(t){t.target.composing||e.$set(e.theme_simple,"appbk",t.target.value)}}})]),e._v(" "),t("div",{staticClass:"emargin eflex eflex--wrap w100"},[t("div",{staticClass:"theme_style"},[t("label",[e._v("附加样式：")]),e._v(" "),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.theme_simple.style,expression:"theme_simple.style"}],staticClass:"editor_textarea editor_textarea--oneline",attrs:{placeholder:"#app {--main-bk: #2E3784;--main-fc: #FFCB40;--main-cl: #64AAD0;}"},domProps:{value:e.theme_simple.style},on:{input:function(t){t.target.composing||e.$set(e.theme_simple,"style",t.target.value)}}})]),e._v(" "),t("button",{staticClass:"elecBtn greenbk",on:{click:function(t){return e.themePreview()}}},[e._v("预览")]),e._v(" "),t("button",{staticClass:"elecBtn w120",on:{click:function(t){return e.themeSave()}}},[e._v("保存为常用")])]),e._v(" "),t("div",{staticClass:"w100"},[t("ul",{staticClass:"w100"},e._l(e.theme_list,(function(s,i){return t("li",{staticClass:"theme_item"},[t("span",{staticClass:"w220"},[e._v(e._s(s.name)+"：")]),e._v(" "),t("div",{staticClass:"theme_view"},[t("span",{staticClass:"theme_viewitem",style:{background:s.mainbk},attrs:{title:s.mainbk},on:{click:function(t){return t.preventDefault(),e.copyColor(s.mainbk)}}}),e._v(" "),t("span",{staticClass:"theme_viewitem",style:{background:s.maincl},attrs:{title:s.maincl},on:{click:function(t){return t.preventDefault(),e.copyColor(s.maincl)}}}),e._v(" "),t("span",{staticClass:"theme_viewitem",style:{background:s.appbk},attrs:{title:s.appbk},on:{click:function(t){return t.preventDefault(),e.copyColor(s.appbk)}}})]),e._v(" "),t("div",{staticClass:"theme_op"},[t("button",{staticClass:"elecBtn greenbk elecBtn--h32",on:{click:function(t){return e.themePreview(i)}}},[e._v("预览")]),e._v(" "),t("button",{staticClass:"elecBtn elecBtn--clear elecBtn--h32",on:{click:function(t){return e.theme_list.splice(i,1)}}},[e._v("删除")])])])})),0),e._v(" "),t("div",{staticClass:"theme_imexport"},[t("button",{staticClass:"elecBtn elecBtn--h32 minw160",on:{click:function(t){return t.preventDefault(),e.themeExport()}}},[e._v("导出常用主题")]),e._v(" "),t("button",{staticClass:"elecBtn elecBtn--h32 minw160",on:{click:function(t){return t.preventDefault(),e.themeImport()}}},[e._v("导入常用主题")])])])]):e._e(),e._v(" "),t("button",{directives:[{name:"show",rawName:"v-show",value:!e.collapse,expression:"!collapse"}],staticClass:"elecBtn elecBtn--stlong",on:{click:function(t){return e.webuiSave()}}},[e._v(e._s(e.$t("save")))])])};vo._withStripped=!0;const go=ka({name:"webui",props:["menunav","theme","logo"],data(){return{collapse:this.$uStr.iRandom(0,10)>5,navkey:["overview","task","mitm","rules","rewrite","jsmanage","setting","cfilter","about","donation"]}},components:{checkbox:mr},computed:{menulist(){for(let e of this.navkey)this.menunav[e]||(this.menunav[e]=Object.create(null)),!1!==this.menunav[e].show&&(this.menunav[e].show=!0);return this.menunav},theme_simple(){return this.theme.simple||(this.theme.simple=Object.create(null)),this.theme.simple},theme_list(){return this.theme.list||(this.theme.list=[]),this.theme.list}},methods:{webuiSave(){if(this.theme_simple.style&&/</.test(this.theme_simple.style))return void this.$message.error("附加样式中包含特殊字符");const e=this.$message.loading("webUI 相关设置保存中...",0);this.$axios.put("/config",{type:"webUIFront",data:{nav:this.menunav,theme:this.theme}}).then((e=>{0===e.data.rescode?(this.$message.success("webUI 相关设置修改成功"),this.$emit("menunav",this.menunav,!0),this.$emit("theme",this.theme_simple)):this.$message.error("webUI 相关设置修改失败",e.data.message)})).catch((e=>{this.$message.error("webUI 相关设修改失败",e.message),console.error("webUI 相关设修改失败",e)})).finally(e)},themeSave(){let e=prompt("命名将要保存的主题",this.theme_simple.name||"主题名称");e&&(this.theme.list.push({name:e,mainbk:this.theme_simple.mainbk,maincl:this.theme_simple.maincl,appbk:this.theme_simple.appbk,style:this.theme_simple.style}),this.$message.success(e,"已保存"),this.$forceUpdate())},themePreview(e=-1){-1!==e?(this.theme_simple.enable=!0,this.theme_simple.name=this.theme_list[e].name,this.theme_simple.mainbk=this.theme_list[e].mainbk,this.theme_simple.maincl=this.theme_list[e].maincl,this.theme_simple.appbk=this.theme_list[e].appbk,this.theme_simple.style=this.theme_list[e].style,this.$emit("theme",this.theme_simple)):this.$emit("theme",this.theme_simple)},themeExport(){this.$uApi.saveAsFile(this.theme_list,"elecV2P_theme.json")},themeImport(){this.$uApi.getFile({accept:".json"}).then((e=>{try{this.theme_list.push(...JSON.parse(e.content)),this.$forceUpdate(),this.$message.success("常用主题列表导入成功")}catch(e){this.$message.error("常用主题列表导入失败",e.message||e)}})).catch((e=>{this.$message.error("常用主题列表导入失败",e.message||e)}))},logoSave(){const e=this.$message.loading("LOGO 相关设置保存中...",0);this.$axios.put("/config",{type:"webUILogo",data:this.logo}).then((e=>{0===e.data.rescode?(this.$message.success("LOGO 相关设置修改成功"),this.$emit("theme",{type:"logo",...this.logo})):this.$message.error("LOGO 相关设置修改失败",e.data.message)})).catch((e=>{this.$message.error("LOGO 相关设修改失败",e.message),console.error("LOGO 相关设修改失败",e)})).finally(e)},copyColor(e=""){e?this.$uApi.copyToClipboard(e).then((t=>{this.$message.success("成功复制",e)})).catch((e=>{this.$message.error("复制失败",e.message)})):this.$message.error("该项暂无对应值可供复制")}}},vo,[],!1,null,"f48c8df4",null).exports;var _o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"setting setting--vflex",class:{"setting--collapsed":e.collapse},on:{keydown:function(t){return(t.type.indexOf("key")||83===t.keyCode)&&t.ctrlKey?(t.preventDefault(),t.stopPropagation(),e.envSave()):null}}},[t("h4",{staticClass:"setting_title"},[t("sapn",{staticClass:"title_main"},[e._v("环境变量相关设置")]),e._v(" "),t("span",{staticClass:"title_collapse",class:{"title_collapse--collapsed":e.collapse},on:{click:function(t){e.collapse=!e.collapse}}})],1),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.collapse,expression:"!collapse"}],staticClass:"w100"},[t("div",{staticClass:"eflex w100 emargin"},[t("label",{staticClass:"minw160"},[e._v("PATH")]),e._v(" "),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.config.path,expression:"config.path"}],staticClass:"editor_textarea editor_textarea--mini emargin--left",attrs:{placeholder:"路径/PATH 分隔符 WIN系统-分号(;) 其他系统-冒号(:)"},domProps:{value:e.config.path},on:{input:function(t){t.target.composing||e.$set(e.config,"path",t.target.value)}}})]),e._v(" "),e._l(e.config.other,(function(s,i){return t("div",{key:i,staticClass:"eflex w100 emargin"},[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:s[0],expression:"envk[0]",modifiers:{trim:!0}}],staticClass:"elecTable_input minw160",attrs:{type:"text",placeholder:"变量名称"},domProps:{value:s[0]},on:{input:function(t){t.target.composing||e.$set(s,0,t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),t("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:s[1],expression:"envk[1]",modifiers:{trim:!0}}],staticClass:"editor_textarea editor_textarea--oneline emargin--left",attrs:{placeholder:"变量对应值"},domProps:{value:s[1]},on:{input:function(t){t.target.composing||e.$set(s,1,t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),t("span",{staticClass:"icon--op",domProps:{innerHTML:e._s(e.icon.delete)},on:{click:function(t){return e.$delete(e.config.other,i)}}})])}))],2),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:!e.collapse,expression:"!collapse"}],staticClass:"eflex w100"},[t("button",{staticClass:"elecBtn elecBtn--stlong wp46",on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.envNew()}}},[e._v(e._s(e.$t("new")))]),e._v(" "),t("button",{staticClass:"elecBtn elecBtn--stlong wp46",on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.envSave()}}},[e._v(e._s(e.$t("save")))])])])};_o._withStripped=!0;const bo=ka({name:"env",props:["config"],data(){return{icon:wa,collapse:this.$uStr.iRandom(0,10)>5}},methods:{envNew(){this.config.other.push(["",""])},envSave(){if(!this.config.path)return void this.$message.error("请先输入 PATH 变量对应值再进行保存");if(/[\*\?"<>\|]/.test(this.config.path)&&!confirm("PATH 中包含特殊字符，确认继续保存？"))return;let e=[],t=[];if(this.config.other.length)for(const e of this.config.other){if(!e[0]||!e[1])return void this.$message.error("部分环境变量或对应值为空，请填写后再进行保存");t.push(e[0])}this.config.dable.forEach((s=>{-1===t.indexOf(s)&&e.push(s)}));const s=this.$message.loading("环境变量相关设置保存中...",0);this.$axios.put("/config",{type:"env",data:{path:this.config.path,other:this.config.other,todel:e}}).then((e=>{0===e.data.rescode?(this.$message.success("环境变量相关设置修改成功"),this.config.dable=this.config.other.map((e=>e[0]))):this.$message.error("环境变量相关设置修改失败",e.data.message)})).catch((e=>{this.$message.error("环境变量相关设修改失败",e.message),console.error("环境变量相关设修改失败",e)})).finally(s)}}},_o,[],!1,null,null,null).exports,yo={name:"setting",props:[],data(){return{icon:wa,collapse:{notify:this.$uStr.iRandom(0,10)>5,runjs:this.$uStr.iRandom(0,10)>5,other:this.$uStr.iRandom(0,10)>5,init:!0},init_url:Oa.base_url,homepage:Oa.base_url,lang:rr.locale,gloglevel:"info",glogslicebegin:"0",wbrtoken:"",userid:this.$uApi.store.get("userid"),wbrscript:{enable:!1,target:""},CONFIG_FEED:{enable:!0,rss:{enable:!0,homepage:"https://github.com/elecV2/elecV2P"},iftttid:{enable:!1,key:""},barkkey:{enable:!1,key:""},custnotify:{enable:!1,url:"",type:"GET",data:""},runjs:{enable:!1,list:""},merge:{enable:!0,gaptime:60,number:10,andor:!1},maxbLength:1200,webmessage:{enable:!1}},CONFIG_RUNJS:{timeout:5e3,intervals:86400,numtofeed:50,jslogfile:!0,eaxioslog:!1,proxy:!0,white:{enable:!1,list:[]}},CONFIG_Axios:{proxy:{enable:!1},timeout:5e3,uagent:"",block:{enable:!1,regexp:""},only:{enable:!1,regexp:""},reject_unauthorized:!0},bShowMinishell:!1,uagent:Object.create(null),CONFIG_SECURITY:{enable:!1,blacklist:[],whitelist:[],cookie:{enable:!0},numtofeed:0,webhook_only:!1,tokens:{}},CONFIG_init:{checkupdate:!0,runjsenable:!0,runjs:""},CONFIG_env:{path:"",other:[],dable:[]},anyproxy:{enable:!0,port:8001,webPort:8002},webUI:{port:80,tls:{enable:!1,host:"127.0.0.1"},nav:Object.create(null),logo:{enable:!1,src:"",name:""},theme:{simple:{enable:!1,name:"",mainbk:"",maincl:"",appbk:"",style:""},list:[{name:"简单暗黑",mainbk:"#000C",maincl:"#6E77FB",appbk:"#000C",style:""},{name:"简单透明",mainbk:"#0000",maincl:"#FFC107",appbk:"url(https://images.unsplash.com/photo-1646505183416-f3301d2a8127?auto=format)",style:".content>div,.elecBtn--long,.efssset_container,.efsslist{border: 1px solid var(--tras-bk);}.eapp_item .eapp_name,.efsslist_content .efssa{color: var(--main-cl);}.loginfo.loginfo--full{background: var(--secd-bk);}.codeditor{--main-bk: var(--secd-bk);}"}]}},CONFIG_Path:{config:"",lists:"",lists_final:"",script:"",script_final:"",store:"",store_final:"",shell:"",shell_final:""},newversion:""}},computed:{jswhitelist:{get(){return this.CONFIG_RUNJS.white.list.join(", ")},set(e){this.CONFIG_RUNJS.white.list=e.split(/ ?, ?|，| /)}}},components:{minishell:uo,eAxios:po,security:fo,checkbox:mr,webui:go,env:bo},created(){const e=this.$message.loading("正在获取 设置 相关数据...",0);this.$axios.get("/config?type=setting").then((e=>{if(this.$message.success("CONFIG 相关数据获取成功"),this.homepage=e.data.homepage||Oa.base_url,this.gloglevel=e.data.gloglevel,this.glogslicebegin=String(e.data.glogslicebegin||"0"),Object.assign(this.CONFIG_SECURITY,e.data.security||{}),Object.assign(this.CONFIG_FEED,e.data.CONFIG_FEED||{}),Object.assign(this.CONFIG_RUNJS,e.data.CONFIG_RUNJS||{}),Object.assign(this.CONFIG_Axios,e.data.CONFIG_Axios||{}),Object.assign(this.CONFIG_Path,e.data.CONFIG_Path||{}),Object.assign(this.CONFIG_init,e.data.init||{}),Object.assign(this.anyproxy,e.data.anyproxy||{}),e.data.CONFIG_env){const{path:t,...s}=e.data.CONFIG_env;this.CONFIG_env.path=t;for(const e in s)this.CONFIG_env.dable.push(e),this.CONFIG_env.other.push([e,s[e]])}if(e.data.uagent)for(let t in e.data.uagent)e.data.uagent[t].name&&this.$set(this.uagent,t,{name:e.data.uagent[t].name,header:e.data.uagent[t].header});if(this.wbrtoken=e.data.wbrtoken,this.userid=e.data.userid,this.userid!==this.$uApi.store.get("userid")&&this.$uApi.store.set("userid",this.userid),this.$uApi.store.setCache("bSponsor",this.$uApi.store.getCache("sponsors").has(this.userid)),e.data.webUI)if(Object.assign(this.webUI,e.data.webUI),e.data.webUI.nav&&this.$emit("menunav",{...e.data.webUI.nav}),e.data.webUI.logo&&this.$emit("theme",{type:"logo",...e.data.webUI.logo}),this.$uApi.store.getCache("bSponsor")){let t=e.data.webUI.theme;t&&this.$emit("theme",t.simple||t)}else this.$emit("theme",{enable:!1});e.data.lang&&this.lang!==e.data.lang&&(this.lang=e.data.lang,this.setLanguage()),"object"==typeof e.data.wbrscript&&Object.assign(this.wbrscript,e.data.wbrscript),this.bShowMinishell=e.data.minishell,this.newversion=e.data.newversion})).catch((e=>{this.$message.error("获取数据失败",e),console.error("获取数据失败",e)})).finally(e)},methods:{homepageSave(){if(this.homepage!==location.origin&&!confirm("设置主页和当前主页 "+location.origin+" 不匹配，确定保存？"))return;const e=this.$message.loading("主页设置保存中...",0);this.$axios.put("/config",{type:"homepage",data:this.homepage}).then((e=>{this.$message.success("设置成功",e.data.message)})).catch((e=>{this.$message.error("设置失败",e.message),console.log(e)})).finally(e)},glevelSet(){const e=this.$message.loading("全局日志设置中...",0);this.$axios.put("/config",{type:"gloglevel",data:this.gloglevel}).then((e=>{0===e.data.rescode?this.$message.success("设置成功",e.data.message):this.$message.error("设置失败",e.data.message)})).catch((e=>{this.$message.error("设置失败",e.message),console.log(e)})).finally(e)},gsliceSet(){const e=this.$message.loading("日志格式设置中...",0);this.$axios.put("/config",{type:"glogslicebegin",data:this.glogslicebegin}).then((e=>{0===e.data.rescode?(this.$message.success("日志格式设置成功"),Oa.glogslicebegin=this.glogslicebegin):this.$message.error("日志格式设置失败")})).catch((e=>{this.$message.error("日志格式设置失败",e.message),console.log(e)})).finally(e)},feedOp(){const e=this.$message.loading("设置保存中...",0);this.$axios.put("/feed",{type:"op",data:{enable:this.CONFIG_FEED.enable,maxbLength:this.CONFIG_FEED.maxbLength,webmessage:this.CONFIG_FEED.webmessage}}).then((e=>{this.$message.success(`设置已保存\n${e.data.message}`)})).catch((e=>{this.$message.error("设置保存失败",e.message),console.log(e)})).finally(e)},feedTest(){const e=this.$message.loading("通知准备测试中...",0);this.$axios.put("/feed",{type:"test"}).then((e=>{0===e.data.rescode?this.$message.success(e.data.message):console.log(e.data)})).catch((e=>{this.$message.error("通知测试失败",e.message),console.log(e)})).finally(e)},feedClear(){if(!confirm("确实清空 Feed 内容吗？"))return;const e=this.$message.loading("Feed 清空中...",0);this.$axios.put("/feed",{type:"clear"}).then((e=>{this.$message.success("Feed 内容已重置",e.data.message)})).catch((e=>{this.$message.error("Feed 清空失败",e.message),console.log(e)})).finally(e)},iftttSave(){if(!this.CONFIG_FEED.iftttid.enable||this.CONFIG_FEED.iftttid.key){if(this.CONFIG_FEED.iftttid.enable||confirm("确认关闭 IFTTT 通知？")){const e=this.$message.loading("IFTTT 设置中...",0);this.$axios.put("/feed",{type:"ifttt",data:this.CONFIG_FEED.iftttid}).then((e=>{this.$message.success("IFTTT 设置已保存",e.data.message),console.debug(e.data)})).catch((e=>{this.$message.error("设置保存失败",e.response?e.response.data:e.message),console.error(e)})).finally(e)}}else this.$message.error("请输入 IFTTT KEY 值")},barkeySave(){if(!this.CONFIG_FEED.barkkey.enable||this.CONFIG_FEED.barkkey.key){if(this.CONFIG_FEED.barkkey.enable||confirm("确认关闭 BARK 通知？")){const e=this.$message.loading("barkkey 设置中...",0);this.$axios.put("/feed",{type:"barkkey",data:this.CONFIG_FEED.barkkey}).then((e=>{this.$message.success("barkkey 设置已保存",e.data.message),console.debug(e.data)})).catch((e=>{this.$message.error("设置失败",e.response?e.response.data:e.message),console.error(e)})).finally(e)}}else this.$message.error("请输入 BARK KEY 值")},custnotifySave(){if(!this.CONFIG_FEED.custnotify.enable||this.CONFIG_FEED.custnotify.url){if(this.CONFIG_FEED.custnotify.enable||confirm("确认关闭自定义通知？")){const e=this.$message.loading("更新自定义通知相关设置中...",0);this.$axios.put("/feed",{type:"custnotify",data:this.CONFIG_FEED.custnotify}).then((e=>{this.$message.success("自定义通知设置已保存",e.data.message),console.debug(e.data)})).catch((e=>{this.$message.error("设置失败",e.response?e.response.data:e.message),console.error(e)})).finally(e)}}else this.$message.error("请输入自定义通知链接")},notifyjsSave(){if(!this.CONFIG_FEED.runjs.enable||this.CONFIG_FEED.runjs.list){if(this.CONFIG_FEED.runjs.enable||confirm("确认关闭触发脚本？")){const e=this.$message.loading("通知触发脚本设置保存中...",0);this.$axios.put("/feed",{type:"runjs",data:this.CONFIG_FEED.runjs}).then((e=>{this.$message.success(`设置已保存\n${e.data.message}`),console.debug(e.data)})).catch((e=>{this.$message.error("设置保存失败",e.response?e.response.data:e.message),console.error(e)})).finally(e)}}else this.$message.error("请输入要触发的脚本")},wbrtokenSave(){if(!this.wbrtoken)return void this.$message.error("请先输入 TOKEN 值");if(this.wbrtoken.length<12)return void this.$message.error("当前设置 TOKEN 太短，请重新填写");const e=this.$message.loading("TOKEN 上传设置中...",0);this.$axios.put("/config",{type:"wbrtoken",data:this.wbrtoken}).then((e=>{0===e.data.rescode?(e.data.resdata&&this.userid!==e.data.resdata.userid&&(this.userid=e.data.resdata.userid,this.$uApi.store.set("userid",this.userid)),this.$message.success("设置成功",e.data.message)):this.$message.error("WEBHOOK TOKEN 修改失败",e.data.message),console.debug(e.data)})).catch((e=>{this.$message.error("设置失败",e.message),console.log(e)})).finally(e)},wbrscriptSave(){if(this.wbrscript.enable&&!this.wbrscript.target)return void this.$message.error("请先设置 WEBHOOK SCRIPT 处理脚本");const e=this.$message.loading("WEBHOOK SCRIPT 设置中...",0);this.$axios.put("/config",{type:"wbrscript",data:this.wbrscript}).then((e=>{0===e.data.rescode?this.$message.success("设置成功",e.data.message):this.$message.error("WEBHOOK SCRIPT 设置失败",e.data.message)})).catch((e=>{this.$message.error("WEBHOOK SCRIPT 设置失败",e.message),console.error("WEBHOOK SCRIPT 设置",e)})).finally(e)},mergeSave(){const e=this.$message.loading("默认通知设置中...",0);this.$axios.put("/feed",{type:"merge",data:{rssenable:this.CONFIG_FEED.rss.enable,merge:this.CONFIG_FEED.merge}}).then((e=>{this.$message.success(`设置已保存\n${e.data.message}`),console.debug(e.data)})).catch((e=>{this.$message.error("设置失败",e.message),console.log(e)})).finally(e)},runjsSave(){const e=this.$message.loading("脚本运行相关设置保存中...",0);this.$axios.put("/config",{type:"runjs",data:this.CONFIG_RUNJS}).then((e=>{0===e.data.rescode?this.$message.success("脚本运行相关设置保存成功",e.data.message):(this.$message.error("脚本运行相关设置保存失败",e.data.message),console.error(e.data))})).catch((e=>{this.$message.error("脚本运行相关设置保存失败",e.message),console.log(e)})).finally(e)},initSave(){const e=this.$message.loading("启动时 相关设置保存中...",0);this.$axios.put("/config",{type:"init",data:{CONFIG_init:this.CONFIG_init}}).then((e=>{0===e.data.rescode?this.$message.success("启动时相关设置保存成功",e.data.message):this.$message.error("启动时相关设置修改失败")})).catch((e=>{this.$message.error("启动时相关设置保存失败",e.message),console.log(e)})).finally(e)},anyproxySave(){if(this.anyproxy.port&&this.anyproxy.webPort){if(this.anyproxy.enable||confirm("确定在下次启动 elecV2P 时不打开 ANYPROXY 吗？")){const e=this.$message.loading("ANYPROXY 相关设置保存中...",0);this.$axios.put("/config",{type:"anyproxy",data:this.anyproxy}).then((e=>{0===e.data.rescode?this.$message.success("ANYPROXY 设置保存成功"):(this.$message.error("ANYPROXY 设置修改失败",e.data.message),console.error(e.data))})).catch((e=>{this.$message.error("设置失败",e.message),console.log(e)})).finally(e)}}else this.$message.error("请正确填写端口相关数据")},webUIPortSave(){if(confirm("确定将 webUI 主界面端口更改为: "+this.webUI.port+" 吗？(下次启动时应用)")){const e=this.$message.loading("webUI 主界面端口修改保存中...",0);this.$axios.put("/config",{type:"webUIPort",data:this.webUI}).then((e=>{0===e.data.rescode?this.$message.success("webUI 端口设置保存成功"):(this.$message.error("webUI 端口设置修改失败",e.data.message),console.error(e.data))})).catch((e=>{this.$message.error("webUI 端口设置失败",e.message),console.log(e)})).finally(e)}},pathSave(){const e=this.$message.loading("用户数据保存目录设置中...",0),{lists:t,script:s,store:i,shell:n}=this.CONFIG_Path;this.$axios.put("/config",{type:"datapath",data:{lists:t,script:s,store:i,shell:n}}).then((e=>{0===e.data.rescode?this.$message.success("用户数据保存目录设置成功 重启后正式生效"):this.$message.error("用户数据保存目录设置失败",e.data.message)})).catch((e=>{this.$message.error("设置保存失败",e.message),console.log(e)})).finally(e)},saveAll(){const e=this.$message.loading("配置数据上传中...",0);this.$axios.put("/config",{type:"config",data:{homepage:this.homepage,lang:this.lang,gloglevel:this.gloglevel,glogslicebegin:this.glogslicebegin,CONFIG_FEED:this.CONFIG_FEED,CONFIG_RUNJS:this.CONFIG_RUNJS,CONFIG_Axios:this.CONFIG_Axios,wbrtoken:this.wbrtoken,webhook:{script:this.wbrscript},path_lists:this.CONFIG_Path.lists,path_script:this.CONFIG_Path.script,path_store:this.CONFIG_Path.store,path_shell:this.CONFIG_Path.shell,webUI:this.webUI,SECURITY:this.CONFIG_SECURITY,init:this.CONFIG_init}}).then((e=>{this.$message.success(`当前设置保存成功\n${e.data.message}`)})).catch((e=>{this.$message.error("设置保存失败",e.message),console.log("设置保存失败",e)})).finally(e)},configExport(){this.$uApi.downloadFile("/config?token="+this.wbrtoken,"config.json")},async configImport(){if(!confirm("导入配置文件将会覆盖当前所有设置，并在重启后正式生效\n确认继续？"))return;let e=await this.$uApi.getFile({accept:".json"});if(e){if(e.content=this.$uStr.sJson(e.content),!e.content)return void this.$message.error("当前导入文件并不是正确的 JSON 格式");this.$axios.post("/config",{file:e}).then((e=>{0===e.data.rescode?this.$message.success("配置文件导入成功，将在重启后正式生效",e.data.message):this.$message.error("配置文件导入失败",e.data.message),console.debug("配置文件导入结果",e.data)})).catch((e=>{this.$message.error("配置文件导入失败",e.message),console.error("配置文件导入失败",e)}))}else this.$message.error("请选择正确的配置文件进行导入")},setLanguage(){const e=cr(this.lang);return this.$forceUpdate(),e},langSave(){if(this.lang===rr.locale)return void this.$message.success(`当前语言偏好为 ${this.lang} 未做修改`);const e=this.$message.loading("语言偏好设置保存中...",0);this.$axios.put("/config",{type:"lang",data:this.lang}).then((e=>{if(0===e.data.rescode){let e=this.setLanguage();this.$message.success("成功设置当前语言偏好为",e)}else this.$message.error("语言偏好修改失败",e.data.message)})).catch((e=>{this.$message.error("语言偏好设置失败",e.message),console.log("语言偏好设置失败",e)})).finally(e)},evRestart(){confirm("即将尝试重启 elecV2P，请提前保存好规则及任务列表，确定继续？")&&this.$axios.post("/webhook",{token:this.wbrtoken,type:"shell",command:"pm2 restart elecV2P"}).then((e=>{this.$message.error("重启失败",e.data.message)})).catch((e=>{this.$message.success("重启命令已发送，将在 5 秒后自动刷新该页面"),setTimeout((()=>location.reload()),5e3)}))},evStop(){confirm("关闭 elecV2P 后，当前网页、定时任务以及 ANYPROXY 都将不可用，确定继续？")&&this.$axios.post("/webhook",{token:this.wbrtoken,type:"shell",command:"pm2 stop elecV2P"}).then((e=>{this.$message.error("关闭失败",e.data.message)})).catch((e=>{this.$message.success("关闭命令已发送，即将自动跳转到首页"),setTimeout((()=>location.reload()),5e3)}))},updateCheck(){if(this.newversion)return void this.$message.success("检测到新版本 v"+this.newversion+"\n请手动运行 softupdate.js 或者使用 docker 命令进行更新\n（等 softupdate.js 稳定后将会集成到这里实现自动更新）");const e=this.$message.loading("正在检测 elecV2P 是否有新的版本可供更新...",0);this.$axios.get("/data?type=update&force=true").then((e=>{e.data.updateversion?(this.$message.success("检测到新版本 elecV2P v"+e.data.updateversion+"\n请手动运行 softupdate.js 或者使用 docker 命令进行更新\n（等 softupdate.js 稳定后将会集成到这部分以实现自动更新）"),this.newversion=e.data.updateversion):this.$message.success(e.data.message+"\n当前 elecV2P v"+e.data.version+" 已是最新版本")})).catch((e=>{this.$message.error("检测更新失败",e.message),console.error("检测更新失败",e)})).finally(e)}}};const $o=ka(yo,Nr,[function(){var e=this,t=e._self._c;return t("label",{staticClass:"setting_label"},[t("a",{staticClass:"cursor--help",attrs:{href:"https://help.ifttt.com/hc/en-us/articles/115010230347-Webhooks-service-FAQ",target:"_blank"}},[e._v("IFTTT")]),e._v(" KEY：")])},function(){var e=this,t=e._self._c;return t("label",{staticClass:"setting_label"},[t("a",{staticClass:"cursor--help",attrs:{href:"https://github.com/Finb/Bark",target:"_blank"}},[e._v("BARK")]),e._v(" KEY：")])},function(){var e=this,t=e._self._c;return t("footer",{staticClass:"footer"},[t("ul",{staticClass:"footer_tip"},[t("li",[e._v("关于配置文件的完整说明，参考文档: "),t("a",{attrs:{href:"https://github.com/elecV2/elecV2P-dei/blob/master/docs/10-config.md",target:"elecV2PDoc"}},[e._v("10-config.md")])]),e._v(" "),t("li",[e._v("通知及脚本运行和网络请求相关设置对使用 nodejs 模式运行的脚本无效")]),e._v(" "),t("li",[e._v("除了初始化相关设置之外，其他设置保存后立即生效。CTRL+S 快捷保存")]),e._v(" "),t("li",[e._v("关于通知类相关设置参考: "),t("a",{attrs:{href:"https://github.com/elecV2/elecV2P-dei/tree/master/docs/07-feed&notify.md",target:"elecV2PDoc"}},[e._v("07-feed.md")]),e._v("。 其他参考: "),t("a",{attrs:{href:"https://github.com/elecV2/elecV2P-dei/tree/master/docs",target:"elecV2PDoc"}},[e._v("全部说明文档")]),e._v(" 相关项")])])])}],!1,null,"b5ef0062",null).exports;var wo=function(){var e=this,t=e._self._c;return t("section",{on:{keydown:function(t){return(t.type.indexOf("key")||83===t.keyCode)&&t.ctrlKey?(t.preventDefault(),t.stopPropagation(),t.shiftKey||t.altKey||t.metaKey?null:e.taskSave()):null}}},[t("header",{staticClass:"header"},[e._v(e._s(e.$ta("timed","task")))]),e._v(" "),t("main",{staticClass:"content",on:{click:function(t){e.menu={}},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:(t.preventDefault(),t.stopPropagation(),t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:(e.menu={},void(e.taskChecked="none")))}}},[t("contextmenu",{attrs:{menus:e.menu.list,pos:e.menu.pos}}),e._v(" "),t("movegroup",{attrs:{show:e.show,gpoptions:e.gnamelist},on:{choose:function(t){return e.taskMoveToGroup(t)}}}),e._v(" "),t("div",{staticClass:"etable"},[t("table",{staticClass:"elecTable"},[t("caption",{staticClass:"elecTable_caption"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"elecTable_input elecTable_input--caption",class:{eopacity:e.search},attrs:{placeholder:e.$ta("search","task"),title:"输入名称/时间/任务内容中的关键字进行过滤显示"},domProps:{value:e.search},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:(t.preventDefault(),t.stopPropagation(),t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:void(e.search=""))},input:function(t){t.target.composing||(e.search=t.target.value)}}}),e._v(" "),t("span",[e._v(e._s(e.$ta("task","list"))+" - "+e._s(e.taskstatus))]),e._v(" "),t("span",{staticClass:"icon icon_caption--sync",attrs:{title:"刷新当前任务列表"},domProps:{innerHTML:e._s(e.icon.sync)},on:{click:function(t){return e.taskInit()}}})]),e._v(" "),t("thead",[t("tr",[t("th",{staticClass:"elecTable_th elecTable_th--check",attrs:{title:e.$ta("checkall","/","checknone")}},[t("input",{staticClass:"echeckbox",attrs:{type:"checkbox"},on:{change:function(t){return e.taskCkall(t)}}})]),e._v(" "),t("th",{staticClass:"elecTable_th elecTable_th--name"},[e._v(e._s(e.$t("name")))]),e._v(" "),t("th",{staticClass:"elecTable_th task_time",attrs:{colspan:"2"}},[e._v(e._s(e.$t("time")))]),e._v(" "),t("th",{staticClass:"elecTable_th minw600",attrs:{colspan:"2",title:"enter: 开始定时任务\nctrl+enter: 测试运行任务\nalt +enter: 查看任务日志"}},[e._v(e._s(e.$t("task")))]),e._v(" "),t("th",{staticClass:"elecTable_th minw62",attrs:{title:e.$t("status")}},[e._v(e._s(e.$t("status_short")))]),e._v(" "),t("th",{staticClass:"elecTable_th elecTable_cell100",attrs:{colspan:"2",title:e.$t("operate")}},[e._v(e._s(e.$t("operate_short")))])])]),e._v(" "),e._l(e.grouplist,(function(s,i){return t("tbody",{key:i,class:{elecTable_group:"normal"!==i,"elecTable_group--bottom":"normal"!==i},style:{background:e.tasklists[i]&&e.tasklists[i].bkcolor},attrs:{tabindex:"-1"},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.altKey?(t.preventDefault(),t.ctrlKey||t.shiftKey||t.metaKey?null:e.taskLog(t)):null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey?(t.preventDefault(),t.shiftKey||t.altKey||t.metaKey?null:e.taskTest(t)):null}],keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.preventDefault(),t.ctrlKey||t.shiftKey||t.altKey||t.metaKey?null:e.taskStartDelegate(t))}}},["normal"!==i?t("tr",[t("td",{staticClass:"elecTable_td"},[t("input",{staticClass:"echeckbox",attrs:{type:"checkbox"},on:{change:function(t){return e.taskGroupCheck(i,t)}}})]),e._v(" "),t("td",{staticClass:"elecTable_td"},[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.tasklists[i].name,expression:"tasklists[gid].name",modifiers:{trim:!0}}],staticClass:"elecTable_input",attrs:{placeholder:"id: "+i},domProps:{value:e.tasklists[i].name},on:{input:function(t){t.target.composing||e.$set(e.tasklists[i],"name",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),t("td",{staticClass:"elecTable_td",attrs:{colspan:"5"}},[t("div",{staticClass:"eflex w100"},[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.tasklists[i].note,expression:"tasklists[gid].note",modifiers:{trim:!0}}],staticClass:"elecTable_input",attrs:{type:"text",placeholder:"分组备注说明（可省略"},domProps:{value:e.tasklists[i].note},on:{input:function(t){t.target.composing||e.$set(e.tasklists[i],"note",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.trim.lazy",value:e.tasklists[i].bkcolor,expression:"tasklists[gid].bkcolor",modifiers:{trim:!0,lazy:!0}}],staticClass:"elecTable_input elecTable_cell100 elecBtn--mleft",attrs:{placeholder:"背景色",title:"当前分组背景颜色/图片"},domProps:{value:e.tasklists[i].bkcolor},on:{change:function(t){e.$set(e.tasklists[i],"bkcolor",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),t("span",{staticClass:"elecBtn elecBtn--mleft elecBtn--uncheck"},[e._v(e._s(e.tasklists[i].active)+"/"+e._s(e.tasklists[i].total))])])]),e._v(" "),t("td",{staticClass:"elecTable_td elecTable_cell100",attrs:{colspan:"2"}},[t("span",{directives:[{name:"show",rawName:"v-show",value:e.tasklists[i].collapse,expression:"tasklists[gid].collapse"}],staticClass:"icon--op",domProps:{innerHTML:e._s(e.icon.downcircle)},on:{click:function(t){return e.taskGroupOp(i)}}}),e._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:!e.tasklists[i].collapse,expression:"!tasklists[gid].collapse"}],staticClass:"icon--op",domProps:{innerHTML:e._s(e.icon.upcircle)},on:{click:function(t){return e.taskGroupOp(i)}}}),e._v(" "),t("span",{staticClass:"icon--op",domProps:{innerHTML:e._s(e.icon.delete)},on:{click:function(t){return e.taskGroupDelete(i)}}})])]):e._e(),e._v(" "),e._l(s,(function(s,i){return t("tr",{key:i,class:{"elecTable_tr--disabled":!s.running,"elecTable_tr--selected":e.taskChecked[i]}},[t("td",{staticClass:"elecTable_td"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.taskChecklist,expression:"taskChecklist"}],staticClass:"echeckbox",attrs:{type:"checkbox"},domProps:{value:i,checked:Array.isArray(e.taskChecklist)?e._i(e.taskChecklist,i)>-1:e.taskChecklist},on:{change:function(t){var s=e.taskChecklist,n=t.target,a=!!n.checked;if(Array.isArray(s)){var r=i,o=e._i(s,r);n.checked?o<0&&(e.taskChecklist=s.concat([r])):o>-1&&(e.taskChecklist=s.slice(0,o).concat(s.slice(o+1)))}else e.taskChecklist=a}}})]),e._v(" "),t("td",{staticClass:"elecTable_td"},[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:s.name,expression:"titem.name",modifiers:{trim:!0}}],staticClass:"elecTable_input",attrs:{"data-tid":i,placeholder:"id: "+s.id},domProps:{value:s.name},on:{input:function(t){t.target.composing||e.$set(s,"name",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),t("td",{staticClass:"elecTable_td"},[t("select",{directives:[{name:"model",rawName:"v-model",value:s.type,expression:"titem.type"}],staticClass:"elecTable_select",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(s,"type",t.target.multiple?i:i[0])}}},[t("option",{attrs:{value:"cron"}},[e._v(e._s(e.type_of_time.cron))]),e._v(" "),t("option",{attrs:{value:"schedule"}},[e._v(e._s(e.type_of_time.schedule))])])]),e._v(" "),t("td",{staticClass:"elecTable_td"},[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:s.time,expression:"titem.time",modifiers:{trim:!0}}],staticClass:"elecTable_input",attrs:{"data-tid":i},domProps:{value:s.time},on:{input:function(t){t.target.composing||e.$set(s,"time",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),t("td",{staticClass:"elecTable_td task_select"},[t("select",{directives:[{name:"model",rawName:"v-model",value:s.job.type,expression:"titem.job.type"}],staticClass:"elecTable_select",on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(s.job,"type",t.target.multiple?i:i[0])},function(e){"exec"===s.job.type&&(s.job.target="node -v")}]}},e._l(e.jobtype_select,(function(s,i){return t("option",{key:i,domProps:{value:i}},[e._v(e._s(s))])})),0)]),e._v(" "),t("td",{staticClass:"elecTable_td"},[/^task/.test(s.job.type)?t("select",{directives:[{name:"model",rawName:"v-model.trim",value:s.job.target,expression:"titem.job.target",modifiers:{trim:!0}}],staticClass:"elecTable_select",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(s.job,"target",t.target.multiple?i:i[0])}}},e._l(e.normlist,(function(s,i){return t("option",{key:i,domProps:{value:i}},[e._v(e._s(s.name))])})),0):t("input",{directives:[{name:"model",rawName:"v-model.trim",value:s.job.target,expression:"titem.job.target",modifiers:{trim:!0}}],staticClass:"elecTable_input",attrs:{"data-tid":i},domProps:{value:s.job.target},on:{input:function(t){t.target.composing||e.$set(s.job,"target",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),t("td",{staticClass:"elecTable_td",on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.taskMenu(t,i)},contextmenu:function(t){return t.preventDefault(),t.stopPropagation(),e.taskMenu(t,i)}}},[t("span",{directives:[{name:"show",rawName:"v-show",value:s.running,expression:"titem.running"}],staticClass:"icon--op icon--run",domProps:{innerHTML:e._s(e.icon.sync)}}),e._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:!s.running,expression:"!titem.running"}],staticClass:"icon--op",domProps:{innerHTML:e._s(e.icon.pause)}})]),e._v(" "),t("td",{staticClass:"elecTable_td elecTable_cell100",attrs:{colspan:"2"}},[t("span",{directives:[{name:"show",rawName:"v-show",value:s.running,expression:"titem.running"}],staticClass:"icon--op",domProps:{innerHTML:e._s(e.icon.pause)},on:{click:function(t){return e.taskStop(i)}}}),e._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:!s.running,expression:"!titem.running"}],staticClass:"icon--op",domProps:{innerHTML:e._s(e.icon.play)},on:{click:function(t){return e.taskStart(i)}}}),e._v(" "),t("span",{staticClass:"icon--op",domProps:{innerHTML:e._s(e.icon.delete)},on:{click:function(t){return e.taskDelete(i)}}})])])}))],2)})),e._v(" "),t("tbody",[t("tr",[t("td",{staticClass:"center border_top1",attrs:{colspan:"9"}},[t("span",{staticClass:"elecTable_addbtn",on:{click:function(t){return e.taskNew()}}},[e._v(e._s(e.$ta("new","timed","task")))]),e._v(" "),t("span",{staticClass:"elecTable_addbtn",on:{click:function(t){return e.subNew()}}},[e._v(e._s(e.$ta("add","task","sub")))]),e._v(" "),t("span",{staticClass:"elecTable_addbtn folderbk",on:{click:function(t){return e.taskImport()}}},[e._v(e._s(e.$ta("import","local","sub")))]),e._v(" "),t("span",{staticClass:"elecTable_addbtn",class:{"elecTable_addbtn--selected":1===e.subeishow},on:{click:function(t){return e.taskExport()}}},[e._v(e._s(e.$t("export"))+e._s(e.taskChecklist.length?e.$ta("","checked","task"):e.$ta("","task","list")))]),e._v(" "),t("span",{staticClass:"elecTable_addbtn",attrs:{title:"更新会覆盖本地同名文件"},on:{click:function(t){return e.jsUpdate()}}},[e._v(e._s(e.$ta("update","remote","script")))])])]),e._v(" "),t("tr",{directives:[{name:"show",rawName:"v-show",value:e.taskChecklist.length,expression:"taskChecklist.length"}]},[t("td",{staticClass:"center",attrs:{colspan:"9"}},[t("span",{staticClass:"elecTable_addbtn elecTable_addbtn--check",on:{click:function(t){e.show.groupchoose=!0}}},[e._v(e._s(e.$ta("moveto","agroup")))]),e._v(" "),t("span",{staticClass:"elecTable_addbtn elecTable_addbtn--uncheck",on:{click:function(t){return e.taskCkall(t)}}},[e._v(e._s(e.$ta("cancel","checked","task")))]),e._v(" "),t("span",{staticClass:"elecTable_addbtn greenbk",on:{click:function(t){return e.taskStart(e.taskChecklist)}}},[e._v(e._s(e.$ta("start","checked","task")))]),e._v(" "),t("span",{staticClass:"elecTable_addbtn elecTable_addbtn--stop",on:{click:function(t){return e.taskStop(e.taskChecklist)}}},[e._v(e._s(e.$ta("stop","checked","task")))]),e._v(" "),t("span",{staticClass:"elecTable_addbtn elecTable_addbtn--clear",on:{click:function(t){return e.taskDelete(e.taskChecklist)}}},[e._v(e._s(e.$ta("delete","checked","task"))+" "+e._s(e.taskChecklist.length))])])])]),e._v(" "),t("tbody",e._l(e.sublist,(function(s,i,n){return t("tr",{key:i,class:{"elecTable_tr--selected":e.subimport.tid===i}},[t("td",{staticClass:"elecTable_td"},[t("input",{staticClass:"echeckbox",attrs:{type:"checkbox"},on:{change:function(t){return e.tasksubCheck(i,t)}}})]),e._v(" "),t("td",{staticClass:"elecTable_td"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.name,expression:"titem.name"}],staticClass:"elecTable_input",attrs:{placeholder:"订阅名称"},domProps:{value:s.name},on:{input:function(t){t.target.composing||e.$set(s,"name",t.target.value)}}})]),e._v(" "),t("td",{staticClass:"elecTable_td",class:{greenbk:"none"!==s.update_type},attrs:{title:"自动更新订阅任务"}},[t("select",{directives:[{name:"model",rawName:"v-model",value:s.update_type,expression:"titem.update_type"}],staticClass:"elecTable_select",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(s,"update_type",t.target.multiple?i:i[0])}}},[t("option",{attrs:{value:"none"}},[e._v(e._s(e.type_of_time.noupdate))]),e._v(" "),t("option",{attrs:{value:"cron"}},[e._v(e._s(e.type_of_time.cron))]),e._v(" "),t("option",{attrs:{value:"schedule"}},[e._v(e._s(e.type_of_time.schedule))])])]),e._v(" "),t("td",{staticClass:"elecTable_td",class:{greenbk:"none"!==s.update_type}},[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:s.time,expression:"titem.time",modifiers:{trim:!0}}],staticClass:"elecTable_input",attrs:{"data-tid":i,placeholder:"自动更新时间"},domProps:{value:s.time},on:{input:function(t){t.target.composing||e.$set(s,"time",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),t("td",{staticClass:"elecTable_td",attrs:{title:"同名任务更新方式"}},[t("select",{directives:[{name:"model",rawName:"v-model",value:s.job.type,expression:"titem.job.type"}],staticClass:"elecTable_select",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(s.job,"type",t.target.multiple?i:i[0])}}},e._l(e.subselect,(function(s,i){return t("option",{key:i,domProps:{value:i}},[e._v(e._s(s))])})),0)]),e._v(" "),t("td",{staticClass:"elecTable_td"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.job.target,expression:"titem.job.target"}],staticClass:"elecTable_input",attrs:{placeholder:"订阅链接，不兼容其他软件的订阅格式。请勿添加不信任的来源链接"},domProps:{value:s.job.target},on:{input:function(t){t.target.composing||e.$set(s.job,"target",t.target.value)}}})]),e._v(" "),t("td",{staticClass:"elecTable_td",attrs:{colspan:"2"}},[t("button",{staticClass:"elecBtn",on:{click:function(t){return e.subGet(s.job.target,i)}}},[e._v(e._s(e.$t("fetch")))])]),e._v(" "),t("td",{staticClass:"elecTable_td minw62"},[t("span",{staticClass:"icon--op",domProps:{innerHTML:e._s(e.icon.delete)},on:{click:function(t){return e.subDelete(i)}}})])])})),0),e._v(" "),t("tbody",{directives:[{name:"show",rawName:"v-show",value:1===e.subeishow,expression:"subeishow === 1"}],staticClass:"border_top"},[t("tr",[t("td",{staticClass:"elecTable_td",attrs:{colspan:"6"}},[t("div",{staticClass:"subdetail_head"},[t("label",{staticClass:"subdetail_label"},[e._v(e._s(e.$ta("sub","name"))+": ")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.lazy.trim",value:e.subexport.name,expression:"subexport.name",modifiers:{lazy:!0,trim:!0}}],staticClass:"elecTable_input subdetail_name",attrs:{placeholder:"elecV2P 定时任务订阅"},domProps:{value:e.subexport.name},on:{change:function(t){e.$set(e.subexport,"name",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),t("label",{staticClass:"subdetail_label"},[e._v(e._s(e.$ta("sub","note"))+": ")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.lazy.trim",value:e.subexport.note,expression:"subexport.note",modifiers:{lazy:!0,trim:!0}}],staticClass:"elecTable_input subdetail_note",attrs:{placeholder:"这是一个适用于 elecV2P 的定时任务订阅。请不要添加未知来源的订阅"},domProps:{value:e.subexport.note},on:{change:function(t){e.$set(e.subexport,"note",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})])]),e._v(" "),t("td",{staticClass:"elecTable_td",attrs:{colspan:"3"}},[t("button",{staticClass:"elecBtn greenbk",on:{click:function(t){return e.taskExportDownload()}}},[e._v(e._s(e.$t("exportsub")))])])]),e._v(" "),t("tr",[t("td",{staticClass:"elecTable_td",attrs:{colspan:"9"}},[t("textarea",{directives:[{name:"model",rawName:"v-model.lazy.trim",value:e.subexportstr,expression:"subexportstr",modifiers:{lazy:!0,trim:!0}}],staticClass:"editor_textarea subdetail_content",attrs:{placeholder:'订阅内容格式如下: \n{\n  name: "订阅名称",\n  note: "订阅描述，可省略。不兼容其他软件的订阅格式。详细说明参考: https://github.com/elecV2/elecV2P-dei/tree/master/docs/06-task.md",\n  list: [\n    {\n      "name": "清空日志",\n      "type": "cron",\n      "time": "30 59 23 * * *",\n      "job": {\n        "type": "runjs",\n        "target": "https://raw.githubusercontent.com/elecV2/elecV2P/master/script/JSFile/deletelog.js"\n      }\n    }\n  ]\n}'},domProps:{value:e.subexportstr},on:{change:function(t){e.subexportstr=t.target.value.trim()},blur:function(t){return e.$forceUpdate()}}})])])]),e._v(" "),t("tbody",{directives:[{name:"show",rawName:"v-show",value:2===e.subeishow,expression:"subeishow === 2"}],staticClass:"border_top"},[t("tr",[t("td",{staticClass:"elecTable_td",attrs:{colspan:"6"}},[t("div",{staticClass:"subdetail_head"},[t("label",{staticClass:"subdetail_label"},[e._v(e._s(e.$ta("sub","name"))+": ")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.subimport.name,expression:"subimport.name",modifiers:{trim:!0}}],staticClass:"elecTable_input subdetail_name",attrs:{placeholder:"elecV2P 定时任务订阅"},domProps:{value:e.subimport.name},on:{input:function(t){t.target.composing||e.$set(e.subimport,"name",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),e._v(" "),t("label",{staticClass:"subdetail_label"},[e._v(e._s(e.$ta("sub","note"))+": ")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.lazy.trim",value:e.subimport.note,expression:"subimport.note",modifiers:{lazy:!0,trim:!0}}],staticClass:"elecTable_input subdetail_note",attrs:{placeholder:"elecV2P 定时任务订阅。请不要添加未知来源的订阅"},domProps:{value:e.subimport.note},on:{change:function(t){e.$set(e.subimport,"note",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})])]),e._v(" "),t("td",{staticClass:"elecTable_td",attrs:{colspan:"2",title:"绿色背景: 任务添加时即开始定时"}},[t("button",{staticClass:"elecBtn greenbk",on:{click:function(t){return e.subAll()}}},[e._v(e._s(e.tasksubChecklist.length?e.$ta("add","checked_short"):e.$ta("add","all")))])]),e._v(" "),t("td",{staticClass:"elecTable_td minw62"},[t("span",{staticClass:"icon--op",domProps:{innerHTML:e._s(e.icon.delete)},on:{click:function(t){return e.subClear()}}})])]),e._v(" "),e._l(e.subimport.list,(function(s,i){return t("tr",{key:i,class:{"elecTable_tr--selected":-1!==e.tasksubChecklist.indexOf(i)}},[t("td",{staticClass:"elecTable_td"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.tasksubChecklist,expression:"tasksubChecklist"}],staticClass:"echeckbox",attrs:{type:"checkbox"},domProps:{value:i,checked:Array.isArray(e.tasksubChecklist)?e._i(e.tasksubChecklist,i)>-1:e.tasksubChecklist},on:{change:function(t){var s=e.tasksubChecklist,n=t.target,a=!!n.checked;if(Array.isArray(s)){var r=i,o=e._i(s,r);n.checked?o<0&&(e.tasksubChecklist=s.concat([r])):o>-1&&(e.tasksubChecklist=s.slice(0,o).concat(s.slice(o+1)))}else e.tasksubChecklist=a}}})]),e._v(" "),t("td",{staticClass:"elecTable_td"},[t("input",{directives:[{name:"model",rawName:"v-model.lazy.trim",value:s.name,expression:"titem.name",modifiers:{lazy:!0,trim:!0}}],staticClass:"elecTable_input",domProps:{value:s.name},on:{change:function(t){e.$set(s,"name",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),t("td",{staticClass:"elecTable_td"},[t("select",{directives:[{name:"model",rawName:"v-model",value:s.type,expression:"titem.type"}],staticClass:"elecTable_select",on:{change:[function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(s,"type",t.target.multiple?i:i[0])},function(e){s.time="cron"===s.type?"30 10 0 * * *":"schedule"===s.type?"3 2 3 2":""}]}},[t("option",{attrs:{value:"cron"}},[e._v(e._s(e.type_of_time.cron))]),e._v(" "),t("option",{attrs:{value:"schedule"}},[e._v(e._s(e.type_of_time.schedule))])])]),e._v(" "),t("td",{staticClass:"elecTable_td"},[t("input",{directives:[{name:"model",rawName:"v-model.lazy.trim",value:s.time,expression:"titem.time",modifiers:{lazy:!0,trim:!0}}],staticClass:"elecTable_input",domProps:{value:s.time},on:{change:function(t){e.$set(s,"time",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),t("td",{staticClass:"elecTable_td task_select"},[t("select",{directives:[{name:"model",rawName:"v-model",value:s.job.type,expression:"titem.job.type"}],staticClass:"elecTable_select",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(s.job,"type",t.target.multiple?i:i[0])}}},e._l(e.jobtype_select,(function(s,i){return t("option",{key:i,domProps:{value:i}},[e._v(e._s(s))])})),0)]),e._v(" "),t("td",{staticClass:"elecTable_td"},[t("input",{directives:[{name:"model",rawName:"v-model.lazy.trim",value:s.job.target,expression:"titem.job.target",modifiers:{lazy:!0,trim:!0}}],staticClass:"elecTable_input",domProps:{value:s.job.target},on:{change:function(t){e.$set(s.job,"target",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),t("td",{staticClass:"elecTable_td",class:{greenbk:!1!==s.running},attrs:{colspan:"3"}},[t("button",{staticClass:"elecBtn",on:{click:function(t){return t.preventDefault(),e.subTaskAdd(s)}}},[e._v(e._s(e.$t("add","task")))])])])})),e._v(" "),t("tr",{directives:[{name:"show",rawName:"v-show",value:e.subimport.author||e.subimport.date||e.subimport.resource,expression:"(subimport.author || subimport.date || subimport.resource)"}]},[t("td",{staticClass:"elecTable_td elecTable_td--subinfo",attrs:{colspan:"9"}},[t("span",{},[e._v(e._s(e.subimport.author?e.$t("author")+": "+e.subimport.author:""))]),e._v(" "),t("span",{staticClass:"mleft30"},[e._v(e._s(e.subimport.date?e.$ta("update","date")+": "+e.subimport.date:""))]),e._v(" "),t("span",{staticClass:"mleft30"},[e._v(e._s(e.subimport.resource?e.$ta("update","address")+": "+e.subimport.resource:""))])])])],2)],2)]),e._v(" "),t("p",{staticClass:"center"},[t("button",{staticClass:"elecBtn elecBtn--long elecBtn--tasksave",on:{click:function(t){return e.taskSave()}}},[e._v(e._s(e.$t("save")))])]),e._v(" "),t("log",{attrs:{logs:e.logs,title:e.tasklogs,collapse:e.collapse}})],1),e._v(" "),t("footer",{staticClass:"footer"},[t("ul",[t("li",[t("strong",[e._v(e._s(e.type_of_time.cron))]),e._v(" "+e._s(e.$t("format").toLowerCase())+": (*) * * * * *（"+e._s(e.$ta("five","or","six","cron","format").toLowerCase())+"）")]),e._v(" "),t("li",[t("strong",[e._v(e._s(e.type_of_time.schedule))]),e._v(" "+e._s(e.$t("format").toLowerCase())+": 30 999 3 2（"+e._s(e.$ta("countdown","seconds","/","repeat","times","/","random","seconds","/","random","times"))+"）"),t("i",[e._v(e._s(e.$ta("last_three","optional")))])]),e._v(" "),t("li",[e._v(e._s(e.$ta("task","input","shortcut"))+": enter - "+e._s(e.$ta("start","task"))+" ctrl+enter - "+e._s(e.$ta("test","run","task"))+" alt+enter - "+e._s(e.$ta("open","task","run","logs")))]),e._v(" "),t("li",[e._v(e._s(e.$ta("more","detail"))+" "),t("a",{attrs:{href:"https://github.com/elecV2/elecV2P-dei/tree/master/docs/06-task.md",target:"elecV2PDoc"}},[e._v(e._s(e.$t("document"))+": 06-task.md")])])])])])};wo._withStripped=!0;var ko=function(){var e=this,t=e._self._c;return e.show.groupchoose?t("VueDragResize",{attrs:{className:"ediv",dragHandle:".ediv_title--name",parent:!0,"prevent-deactivation":!1,active:!0,w:"480",h:"92",z:"9",resizable:!1,draggable:!0,handles:["tl","tr","bl","br"],"lock-aspect-ratio":!1}},[t("h3",{staticClass:"ediv_title"},[t("span",{staticClass:"ediv_title--name"},[e._v("请选择分组")]),e._v(" "),t("span",{staticClass:"ediv_title--close",on:{click:function(t){e.show.groupchoose=!e.show.groupchoose}}},[e._v("x")])]),e._v(" "),t("div",{staticClass:"ediv_content"},[t("div",{staticClass:"mgselect"},[t("label",{staticClass:"elecTable_label mgselect_label"},[e._v("移动到此分组: ")]),e._v(" "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.choose,expression:"choose"}],staticClass:"elecTable_select mgselect_choose",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.choose=t.target.multiple?s:s[0]}}},[t("option",{attrs:{value:"new"}},[e._v("新的分组")]),e._v(" "),t("option",{attrs:{value:"none"}},[e._v("不属于任何分组")]),e._v(" "),e._l(e.gpoptions,(function(s,i){return t("option",{key:i,domProps:{value:i}},[e._v(e._s(s))])}))],2),e._v(" "),t("button",{staticClass:"elecBtn greenbk",on:{click:function(t){return e.groupChoose()}}},[e._v("确定")])])])]):e._e()};ko._withStripped=!0;var Co=s(432),xo=s.n(Co);const To=ka({name:"movegroup",props:["show","gpoptions"],components:{VueDragResize:xo()},data:()=>({choose:"new"}),methods:{groupChoose(){this.$emit("choose",this.choose)}}},ko,[],!1,null,"05f31d25",null).exports,So={name:"task",data(){return{tasklists:{},subexport:{},subimport:{},taskimorn:!1,taskimtid:"",subeishow:0,taskstatus:"",jobtype_select:{runjs:this.$t("run")+" JS",exec:"SHELL "+this.$t("cmd"),taskstart:this.$ta("start","task"),taskstop:this.$ta("stop","","task")},subselect:{skip:this.$t("skip"),replace:this.$t("replace"),addition:this.$t("addition")},type_of_time:{cron:this.$t("cron"),schedule:this.$t("countdown"),noupdate:this.$t("noupdate")},logs:[],icon:wa,taskChecklist:[],tasksubChecklist:[],menu:{pos:[0,0],list:[]},show:{groupchoose:!1},search:"",collapse:{loginfo:!0},tasklogs:this.$ta("task","run","logs")}},components:{log:tr,contextmenu:Or,movegroup:To},computed:{normlist(){let e={};for(let t in this.tasklists)if(this.tasklists[t])switch(this.tasklists[t].type){case"cron":case"schedule":e[t]=this.tasklists[t]}return e},tnamelist(){let e={};for(let t in this.normlist)e[this.normlist[t].name]=t;return e},gnamelist(){let e={};for(let t in this.tasklists)"group"===this.tasklists[t].type&&(e[t]=this.tasklists[t].name);return e},sublist(){let e={};for(let t in this.tasklists)"sub"===this.tasklists[t].type&&(e[t]=this.tasklists[t]);return e},searchlist(){if(!this.search)return this.tasklists;let e={},t=new RegExp(this.search);for(let s in this.normlist)t.test(this.normlist[s].name+this.normlist[s].time+this.normlist[s].job.target)&&(e[s]=this.normlist[s]);return e},grouplist(){let e={},t={},s={running:0,total:0,sub:Object.keys(this.sublist).length};for(let i in this.searchlist){if("sub"===this.searchlist[i].type){this.searchlist[i].update_type||(this.searchlist[i].update_type="none");continue}if("group"===this.searchlist[i].type){e[i]||(e[i]={},this.searchlist[i].total=0,this.searchlist[i].active=0,this.searchlist[i].bkcolor||(this.searchlist[i].bkcolor=this.$uStr.randomColor({max:200})),void 0===this.searchlist[i].collapse&&(this.searchlist[i].collapse=!1));continue}s.total++,this.searchlist[i].running&&s.running++;let n=this.searchlist[i].group;n&&this.searchlist[n]&&"group"===this.searchlist[n].type?(e[n]||(e[n]={},this.searchlist[n].total=0,this.searchlist[n].active=0,this.searchlist[n].bkcolor||(this.searchlist[n].bkcolor=this.$uStr.randomColor({max:200})),void 0===this.searchlist[n].collapse&&(this.searchlist[n].collapse=!1)),this.searchlist[n].collapse||(e[n][i]=this.searchlist[i]),this.searchlist[n].total++,this.searchlist[i].running&&this.searchlist[n].active++):t[i]=this.searchlist[i]}return this.taskstatus=s.running+"/"+s.total+"/"+s.sub,e.normal=t,e},subexportstr:{get(){return JSON.stringify(this.subexport,null,2)},set(e){let t=this.$sJson(e);t?Object.assign(this.subexport,t):this.$message.error("订阅内容格式不正确, 已自动退回到修改前内容",10)}},taskChecked:{get(){let e=[];return this.taskChecklist.forEach((t=>{e[t]=!0})),e},set(e){"all"===e?this.taskChecklist=Object.keys(this.search?this.searchlist:this.normlist):"none"===e?this.taskChecklist=[]:this.normlist[e]&&-1===this.taskChecklist.indexOf(e)&&this.taskChecklist.push(e)}}},watch:{taskimorn(e){!1===e?this.$delete(this.tasklists,"localtemp"):this.taskimtid=Object.keys(this.sublist)[0]}},created(){this.taskInit();let e=this.$wsrecv.add("tasklog",(e=>{this.logs.length>=200||/\x1b\[H/.test(e)?this.logs=[e]:/\r|(\x1b\[F)/.test(e)?this.logs.splice(0,1,e):this.logs.unshift(e)}));e&&this.logs.unshift(`[${this.$logHead("websocket error")}][${this.$sTime(null,1)}] ${e}, 日志无法传输`),this.$wsrecv.add("task",(e=>{if("init"!==e.op)if(this.tasklists[e.tid])switch(e.op){case"start":this.$set(this.tasklists[e.tid],"running",!0);break;case"stop":this.$set(this.tasklists[e.tid],"running",!1);break;default:console.error("unknow task operation")}else e.tid&&e.taskinfo&&this.taskCheck(e.taskinfo)?this.tasklists[e.tid]=e.taskinfo:console.error("任务暂不存在",e);else this.taskInit()}))},methods:{taskInit(){const e=this.$message.loading("获取任务列表中...",0);this.$axios.get("/task").then((e=>{if(-1===e.data.rescode)return this.$message.error("获取任务列表失败",e.data.message),void this.logs.unshift(`[${this.$logHead("taskInit info")}][${this.$sTime(null,1)}] 获取任务列表失败: ${e.data.message}`);this.tasklists=e.data||{},this.subexport={},this.subimport={},this.subeishow=0,console.debug(`[${this.$logHead("taskInit info")}][${this.$sTime(null,1)}]`,"当前 elecV2P 任务分组数",Object.keys(this.grouplist).length-1),this.$message.success("成功获取任务列表",this.taskstatus),this.logs.unshift(`[${this.$logHead("taskInit info")}][${this.$sTime(null,1)}] 成功获取任务列表: ${this.taskstatus}`)})).catch((e=>{this.$message.error("获取任务列表失败",e.message),this.logs.unshift(`[${this.$logHead("taskInit error")}][${this.$sTime(null,1)}] 获取任务列表失败: ${e.message}`),console.error("获取任务列表失败",e)})).finally(e)},taskNewId(e=8){let t=this.$uStr.euid(e);return this.tasklists[t]?this.taskNewId():t},taskNew(e=this.taskNewId()){let t={},s={};Math.random()>.6?(t.type="schedule",t.time="3 2 2"):(t.type="cron",t.time="20 10 0 * * *"),Math.random()<.5?(s.type="runjs",s.target="test.js"):(s.type="exec",s.target="node -v"),this.$set(this.tasklists,e,{id:e,name:this.$ta("new","task")+(Object.keys(this.normlist).length+1),type:t.type,time:t.time,job:s,running:!1})},taskCheck(e){if(!e)return this.$message.error("请输入任务内容"),this.logs.unshift(`[${this.$logHead("taskAdd error")}][${this.$sTime(null,1)}] 没有任何任务信息`),!1;if(!e.name)return this.$message.error("请输入任务名"),this.logs.unshift(`[${this.$logHead("taskAdd error")}][${this.$sTime(null,1)}] 没有任务名称`),!1;if(!/schedule|cron/.test(e.type))return this.$message.error("非法任务类型",e.type),this.logs.unshift(`[${this.$logHead("taskAdd error")}][${this.$sTime(null,1)}] ${e.name} 任务类型 ${e.type} 有误`),!1;let t=e.time.split(" ");return"cron"===e.type&&5!==t.length&&6!==t.length?(this.$message.error(e.time,"不符合 cron 时间格式标准"),this.logs.unshift(`[${this.$logHead("taskAdd error")}][${this.$sTime(null,1)}] ${e.name} 时间: ${e.time} 不符合 cron 时间格式标准`),!1):"schedule"===e.type&&t.filter((e=>/^\d+$/.test(e))).length!==t.length?(this.$message.error(e.time,"不符合",this.type_of_time.schedule,"时间格式标准"),this.logs.unshift(`[${this.$logHead("taskAdd error")}][${this.$sTime(null,1)}] ${e.name} 时间: ${e.time} 不符合 ${this.type_of_time.schedule} 时间格式标准`),!1):!!(e.job&&e.job.type&&e.job.target)||(this.$message.error("任务内容填写不完整"),this.logs.unshift(`[${this.$logHead("taskAdd error")}][${this.$sTime(null,1)}] ${e.name} 任务内容填写不完整`),!1)},taskStart(e){let t,s="array"===this.$sType(e);if(s)t=[],e.forEach((e=>{this.taskCheck(this.tasklists[e])&&(this.tasklists[e].id=e,this.tasklists[e].running=!0,t.push(this.tasklists[e]))}));else{if(!this.taskCheck(this.tasklists[e]))return;if(this.tasklists[e].running)return void this.$message.error(this.tasklists[e].name,"正在运行中");this.tasklists[e].id=e,this.tasklists[e].running=!0,t=this.tasklists[e]}let i=!1;const n=this.$message.loading("任务上传准备执行中...",0);this.$axios.put("/task",{op:"start",data:{task:t}}).then((e=>{0===e.data.rescode?this.$message.success("定时任务已开始"):i=e.data.message})).catch((e=>{console.error(e),i=e.message})).finally((()=>{n(),i&&(s||(this.tasklists[e].running=!1),this.$message.error("开始任务失败"),this.logs.unshift(`[${this.$logHead("taskStart error")}][${this.$sTime(null,1)}] 开始任务执行失败: ${i}`))}))},taskStop(e){let t="array"===this.$sType(e);if(!t){if(!1===this.tasklists[e].running)return void this.$message.success(this.tasklists[e].name,"已停止，无需任何操作");this.tasklists[e].running=!1}let s=!1;const i=this.$message.loading("任务停止命令执行中...",0);this.$axios.put("/task",{op:"stop",data:{tid:e}}).then((e=>{0===e.data.rescode?this.$message.success("相关定时任务已停止"):s=e.data.message})).catch((e=>{s=e.message,console.error(e)})).finally((()=>{i(),s&&(t||(this.tasklists[e].running=!0),this.$message.error("停止任务失败"),this.logs.unshift(`[${this.$logHead("taskStop error")}][${this.$sTime(null,1)}] 停止任务失败: ${s}`))}))},taskDelete(e){if("array"===this.$sType(e)){if(confirm(`确定删除这 ${e.length} 个定时任务？`)){const t=this.$message.loading("定时任务批量删除中...",0);this.$axios.put("/task",{op:"delete",data:{tid:e}}).then((t=>{0===t.data.rescode?(this.$message.success("定时任务批量删除完成"),e.forEach((e=>this.$delete(this.tasklists,e))),this.logs.unshift(`[${this.$logHead("taskDelete info")}][${this.$sTime(null,1)}] 定时任务批量删除完成`),this.taskChecked="none"):(this.$message.error("定时任务批量删除失败"),this.logs.unshift(`[${this.$logHead("taskDelete error")}][${this.$sTime(null,1)}] 定时任务批量删除失败 ${t.data.message}`))})).catch((e=>{this.$message.error("定时任务批量删除失败",e.message),this.logs.unshift(`[${this.$logHead("taskDelete error")}][${this.$sTime(null,1)}] 定时任务批量删除: ${e.message}`),console.error(e)})).finally(t)}}else if(confirm(`确定删除任务 ${this.tasklists[e].name}？`)){const t=this.$message.loading("定时任务",this.tasklists[e].name,"删除中...",0);this.$axios.put("/task",{op:"delete",data:{tid:e}}).then((t=>{0===t.data.rescode?(this.$message.success("成功删除任务:",this.tasklists[e].name),this.logs.unshift(`[${this.$logHead("taskDelete info")}][${this.$sTime(null,1)}] 成功删除任务: ${this.tasklists[e].name}`),this.$delete(this.tasklists,e)):(this.$message.error("任务:",this.tasklists[e].name,"删除失败"),this.logs.unshift(`[${this.$logHead("taskDelete error")}][${this.$sTime(null,1)}] 任务: ${this.tasklists[e].name} 删除失败 ${t.data.message}`))})).catch((e=>{this.$message.error("删除任务失败",e.message),this.logs.unshift(`[${this.$logHead("taskDelete error")}][${this.$sTime(null,1)}] 删除任务失败: ${e.message}`),console.error(e)})).finally(t)}},taskSave(){this.search="";const e=this.$message.loading("正在保存当前任务列表...",0);this.$axios.post("/task",this.tasklists).then((e=>{-1===e.data.rescode?(this.$message.error("当前任务列表保存失败"),this.logs.unshift(`[${this.$logHead("taskSave error")}][${this.$sTime(null,1)}] 当前任务列表保存失败：${e.data.message}`)):(this.$message.success("当前任务列表已保存",this.taskstatus),this.logs.unshift(`[${this.$logHead("taskSave info")}][${this.$sTime(null,1)}] 当前任务列表已保存 ${this.taskstatus}，将在 elecV2P 下次启动时自动恢复`))})).catch((e=>{console.error(e),this.$message.error("当前任务列表保存失败",e.message),this.logs.unshift(`[${this.$logHead("taskSave error")}][${this.$sTime(null,1)}] 当前任务列表保存失败：${e.message}`)})).finally(e)},taskStartDelegate(e){let t=e.target.dataset.tid;t&&this.taskStart(t)},taskTest(e){let t=e.target?e.target.dataset.tid:e;if(!t)return;if(!this.taskCheck(this.tasklists[t]))return;let s=this.tasklists[t].running;this.tasklists[t].running=!0;const i=this.$message.loading("任务测试运行中...",0);this.logs.unshift(`[${this.$logHead("taskStart info")}][${this.$sTime(null,1)}] 立即测试运行定时任务: ${this.tasklists[t].name}`),this.collapse.loginfo=!1,this.$axios.put("/task",{op:"test",data:{tid:"totest",task:this.tasklists[t]}}).then((e=>{let s=this.$sString(e.data.message)||"无";this.$message.success(this.tasklists[t].name,"测试运行结果:",s),this.logs.unshift(`[${this.$logHead("taskTest info")}][${this.$sTime(null,1)}] ${this.tasklists[t].name} 测试运行结果: ${s}`)})).catch((e=>{console.error(e),this.$message.error(this.tasklists[t].name,"测试运行失败",e.message),this.logs.unshift(`[${this.$logHead("taskTest error")}][${this.$sTime(null,1)}] ${this.tasklists[t].name} 测试运行失败: ${e.message}`)})).finally((()=>{i(),this.tasklists[t].running=s}))},taskLog(e){let t=e.target?e.target.dataset.tid:e;t&&(this.tasklists[t]?"runjs"===this.tasklists[t].job.type?/^https?:\/\/\S{4}/.test(this.tasklists[t].job.target)?this.$uApi.open(`./logs/${this.$uStr.surlName(this.tasklists[t].job.target.split(" ")[0])}.log`):this.$uApi.open(`./logs/${this.tasklists[t].job.target.split(" ")[0].replace(/\/|\\/g,"-")}.log`):"exec"===this.tasklists[t].job.type?this.$uApi.open(`./logs/${this.tasklists[t].name}.task.log`):this.$message.error("该任务类型不支持查看日志"):this.$message.error("任务不存在"))},subNew(e=this.taskNewId()){this.$set(this.tasklists,e,{name:this.$ta("task","sub")+(Object.keys(this.sublist).length+1),type:"sub",update_type:"none",time:"26 5 * * *",job:{type:"skip",target:""}})},async subGet(e,t){if(!e||!/^https?:\/\/\S{4}|^\/?efss\//.test(e))return void this.$message.error("请输入正确的订阅地址",6);if(!/\.json$/.test(e)&&!confirm("该订阅内容可能并不是 JSON 格式，确认继续？"))return;let s=this.$message.loading("正在获取订阅信息...",0),i="";try{i=await this.$axios.get(e,{crossdomain:!0})}catch(t){if(this.logs.unshift(`[${this.$logHead("taskSub error")}][${this.$sTime(null,1)}] 获取订阅信息失败 ${t.message}`),t.response)return s(),this.$message.error(`获取订阅内容失败，服务器返回状态码 ${t.response.status}`),void console.debug(`获取订阅内容失败，服务器返回状态码 ${t.response.status}`,t.response.data);if(/^https?:\/\/\S{4}/.test(e)){this.logs.unshift(`[${this.$logHead("taskSub info")}][${this.$sTime(null,1)}] 即将尝试从服务器端获取该订阅内容`),this.$message.error("获取订阅信息失败",t.message,"即将尝试从服务器端获取该订阅内容");try{i=await this.$axios.get("/data?type=stream&url="+e)}catch(t){return s(),this.$message.error("获取订阅信息失败",t.message,"请检测网络后重试"),void this.logs.unshift(`[${this.$logHead("taskSub error")}][${this.$sTime(null,1)}] 从 ${e} 获取订阅信息失败 ${t.message}，请检测网络后重试`)}}}if(200!==i.status||-1===i.data.rescode)return s(),this.logs.unshift(`[${this.$logHead("taskSub error")}][${this.$sTime(null,1)}] 该订阅链接 ${e} 返回结果有误 ${this.$sString(i.data)} 请确认输入地址是否正确`),this.$message.error("该订阅返回状态不正确，请确认当前网络环境或输入地址是否正常"),void console.error(i);s();let n=this.$sJson(i.data);n&&n.name&&n.list?("localtemp"===t&&(t=this.taskNewId(),this.$set(this.tasklists,t,this.tasklists.localtemp)),n.tid=t,n.resource=n.resource||n.surl,n.note=n.note||n.desc,this.subimport=n,this.taskimorn=!1,this.subeishow=2,this.$message.success("成功获取订阅信息"),this.logs.unshift(`[${this.$logHead("taskSub info")}][${this.$sTime(null,1)}] 成功获取订阅 ${n.name} 内容`),n.time&&!this.sublist[t].time&&(this.sublist[t].time=n.time,this.sublist[t].update_type=n.update_type||n.type||"none"),"定时任务订阅"===this.sublist[t].name&&(this.sublist[t].name=n.name)):(this.$message.error("该订阅内容无法解析"),this.logs.unshift(`[${this.$logHead("taskSub error")}][${this.$sTime(null,1)}] 该订阅 ${e} 内容并不符合 elecV2P 订阅格式，请确认订阅链接及内容无误后再次添加`))},subDelete(e){if(this.subimport.tid===e)return this.subeishow=0,void(this.subimport.tid=null);if(!this.tasklists[e].job.target||confirm("确定删除订阅："+this.tasklists[e].name+" （并不会删除相关任务）")){const t=this.$message.loading(this.tasklists[e].name,"删除中...",0);this.$axios.put("/task",{op:"delete",data:{tid:e}}).then((t=>{this.$message.success("成功删除订阅:",this.tasklists[e].name),this.logs.unshift(`[${this.$logHead("taskSub info")}][${this.$sTime(null,1)}] 成功删除订阅: ${this.tasklists[e].name}`),this.$delete(this.tasklists,e)})).catch((e=>{console.error(e),this.$message.error("删除订阅失败",e.message),this.logs.unshift(`[${this.$logHead("taskSub error")}][${this.$sTime(null,1)}] 删除订阅失败 ${e.message}`)})).finally(t)}},subClear(){this.subeishow=0,this.subimport.tid=null,this.taskimorn&&(this.taskimorn=!1)},taskExport(){if(1===this.subeishow)return void(this.subeishow=0);let e={name:"elecV2P 定时任务订阅",author:"留个名字",note:"xx 导出的任务订阅。该订阅适用于 elecV2P，与其他软件并不兼容。相关说明参考：https://github.com/elecV2/elecV2P-dei/tree/master/docs/06-task.md",date:this.$sTime(),type:"task",list:[]};if(this.taskChecklist.length)this.taskChecklist.forEach((t=>{this.normlist[t]&&this.normlist[t].name&&this.normlist[t].time&&this.normlist[t].job&&e.list.push({name:this.normlist[t].name,type:this.normlist[t].type,time:this.normlist[t].time,running:this.normlist[t].running,job:this.normlist[t].job})}));else for(let t in this.normlist)e.list.push({name:this.normlist[t].name,type:this.normlist[t].type,time:this.normlist[t].time,running:this.normlist[t].running,job:this.normlist[t].job});this.subimport={},this.subexport=e,this.subeishow=1,this.taskimorn=!1},taskExportDownload(){this.subexport.name&&this.subexport.list?(this.$uApi.saveAsFile(this.subexport,this.subexport.name+".json"),this.logs.unshift(`[${this.$logHead("taskExport info")}][${this.$sTime(null,1)}] 成功导出订阅：${this.subexport.name}`)):(this.$message.error("订阅信息不完整"),this.logs.unshift(`[${this.$logHead("taskExport error")}][${this.$sTime(null,1)}] 订阅导出失败，订阅信息填写不完整`))},taskImport(){this.$uApi.getFile({accept:".json",type:"text"}).then((e=>{let t=e.content,s=this.$sJson(t);s&&s.name&&s.list?(s.resource=s.resource||s.surl,s.note=s.note||s.desc,this.subimport=s,this.subimport.tid="local",this.subeishow=2,0===Object.keys(this.sublist).length&&this.subNew("localtemp"),this.logs.unshift(`[${this.$logHead("taskImport info")}][${this.$sTime(null,1)}] 成功获取本地订阅: ${s.name}`),this.taskimorn=!0,this.$message.success("成功获取本地订阅任务列表")):(console.error("elecV2P 无法解析该订阅内容",t),this.$message.error("该订阅内容无法解析"),this.logs.unshift(`[${this.$logHead("taskImport error")}][${this.$sTime(null,1)}] 导入的本地订阅内容并不符合 elecV2P 订阅格式，请尝试修改后再次添加\n${this.$sString(t).slice(-300)}`))})).catch((e=>{this.subimport={},console.debug(e)}))},async jsUpdate(){let e=[];if(this.taskChecklist.length)this.taskChecklist.forEach((t=>{this.tasklists[t]&&this.tasklists[t].job&&"runjs"===this.tasklists[t].job.type&&/^https?:\/\/\S{4}/.test(this.tasklists[t].job.target)&&e.push(this.tasklists[t].job.target.split(" ")[0])}));else for(let t in this.tasklists)this.tasklists[t]&&this.tasklists[t].job&&"runjs"===this.tasklists[t].job.type&&/^https?:\/\/\S{4}/.test(this.tasklists[t].job.target)&&e.push(this.tasklists[t].job.target.split(" ")[0]);if(e.length){if(confirm("共有 "+e.length+" 个远程脚本等待更新，确定继续？")){const t=this.$message.loading("正在更新远程 JS...",0);for(let t of e){this.logs.unshift(`[${this.$logHead("taskJSUP info")}][${this.$sTime(null,1)}] 开始更新下载 ${t}`);let e=await this.$axios.put("/jsfile",{op:"jsdownload",name:this.$uStr.surlName(t),url:t}).catch((e=>this.$message.error(e.message)));0===e.data.rescode?this.logs.unshift(`[${this.$logHead("taskJSUP info")}][${this.$sTime(null,1)}] 更新完成 ${e.data.message} `):this.logs.unshift(`[${this.$logHead("taskJSUP error")}][${this.$sTime(null,1)}] 更新失败 ${e.data.message} `)}t(),this.$message.success("全部远程脚本更新完成")}}else{const e=this.$ta("current","")+(this.taskChecklist.length?this.$ta("checked","task"):this.$ta("task","list"))+this.$ta("","dthave","remote","script");this.$message.error(e),this.logs.unshift(`[${this.$logHead("taskJSUP error")}][${this.$sTime(null,1)}] ${e}`)}},subTaskForm(e,{type:t="skip",belong:s}){if(!this.taskCheck(e))return!1;if(!e.id)if(this.tnamelist[e.name])if(this.logs.unshift(`[${this.$logHead("taskSubAdd info")}][${this.$sTime(null,1)}] 检测到同名任务: ${e.name}，当前同名任务更新方式为: ${this.subselect[t]}`),"replace"===t)e.id=this.tnamelist[e.name];else{if("addition"!==t)return this.logs.unshift(`[${this.$logHead("taskSubAdd info")}][${this.$sTime(null,1)}] 跳过添加同名任务: ${e.name}`),!1;e.id=this.taskNewId()}else e.id=this.taskNewId();return!1!==e.running&&(e.running=!0),s&&"local"!==s&&(e.belong=s),e},subTaskAdd(e){let t=this.subimport.tid,s="";if("local"===t)s=this.sublist[this.taskimtid].job.type;else{if(!this.sublist[t]||!this.sublist[t].job)return Promise.reject("未知错误，订阅可能不存在");s=this.sublist[t].job.type}let i=[],n=e=>{let n=this.subTaskForm(e,{type:s,belong:t});n&&i.push(n)};if("array"===this.$sType(e)?e.forEach((e=>n(e))):n(e),0===i.length){let e="没有新的任务需要添加";return this.$message.success(e),this.logs.unshift(`[${this.$logHead("taskSubAdd info")}][${this.$sTime(null,1)}] ${e}`),Promise.resolve(e)}let a=this.$message.loading("正在添加定时任务...",0);return new Promise(((e,t)=>{this.$axios.put("/task",{op:"add",data:{task:i,type:s}}).then((e=>{0===e.data.rescode?(this.$message.success("定时任务添加成功"),this.logs.unshift(`[${this.$logHead("taskSubAdd info")}][${this.$sTime(null,1)}] 定时任务添加完成`),JSON.parse(JSON.stringify(i)).forEach((e=>{this.$set(this.tasklists,e.id,e)}))):(this.$message.error("定时任务添加失败"),this.logs.unshift(`[${this.$logHead("taskSubAdd error")}][${this.$sTime(null,1)}] 添加定时任务失败 ${e.data.message}`))})).catch((e=>{console.error(e),this.$message.error("定时任务添加失败",e.message),this.logs.unshift(`[${this.$logHead("taskSubAdd error")}][${this.$sTime(null,1)}] 添加定时任务失败 ${e.message}`)})).finally((()=>{e(),a()}))}))},subAll(){if(this.subimport.list&&this.subimport.list.length){let e=[];this.tasksubChecklist.length?this.tasksubChecklist.forEach((t=>{e.push(this.subimport.list[t])})):e=this.subimport.list,this.logs.unshift(`[${this.$logHead("taskSubAdd info")}][${this.$sTime(null,1)}] 开始添加订阅 ${this.subimport.name} 中的任务`),this.subTaskAdd(e).catch((e=>this.$message.error(e))).finally((()=>{this.tasksubChecklist=[]}))}else this.$message.error("并没有可以导入的定时任务"),this.logs.unshift(`[${this.$logHead("taskSubAdd error")}][${this.$sTime(null,1)}] 当前订阅列表为空`)},tasksubCheck(e,t){if(e&&t)if(t.target.checked){let t=JSON.parse(JSON.stringify(this.normlist)),s=!0;this.taskChecklist.forEach((e=>{t[e]=-1}));for(let i in t){t[i].belong===e&&(this.taskChecklist.push(i),s&&(s=!1))}s&&this.$message.success("列表中暂时还没有该订阅内的定时任务")}else this.taskChecklist=this.taskChecklist.filter((t=>this.tasklists[t]&&this.tasklists[t].belong!==e))},taskCkall(e){this.taskChecked=e.target.checked?"all":"none"},taskMenu(e,t){let s=[],i=this.taskTest,n=this.taskLog;if(s.push({label:"立即测试运行",bkcolor:"var(--icon-bk)",click(){i(t)}},{label:"查看任务日志",click(){n(t)}}),"runjs"===this.tasklists[t].job.type){let e=this.tasklists[t].job.target.split(" ")[0],i=this.$uApi.store.setCache;s.push({label:"查看脚本内容",method:"nav",param:"jsmanage",click(){i("scriptview",e)}})}this.menu={pos:this.$uApi.getCursorPos(e,160,32*s.length),list:s}},taskGroupCheck(e,t){if(e&&t)if(t.target.checked)for(let t in this.normlist)this.normlist[t].group===e&&(this.taskChecked=t);else this.taskChecklist=this.taskChecklist.filter((t=>this.normlist[t].group!==e))},taskGroupDelete(e){if(!this.tasklists[e])return void this.$message.error("分组",e,"暂不存在");let t=this.tasklists[e].name,s=Object.keys(this.grouplist[e]);if(0===s.length||confirm("确定删除分组 "+t+"（并不会删除该分组下的任务）？")){const i=this.$message.loading(t,"删除中...",0);this.$axios.put("/task",{op:"delete",data:{tid:e}}).then((i=>{this.$message.success("成功删除分组",t,""+(s.length?s.length+"个任务已移动到普通列表":"")),this.logs.unshift(`[${this.$logHead("taskGroup info")}][${this.$sTime(null,1)}] 成功删除分组: ${t}`),s.forEach((e=>{this.$delete(this.normlist[e],"group")})),this.$delete(this.tasklists,e),console.debug(i.data)})).catch((e=>{console.error(e),this.$message.error("删除分组失败",e.message),this.logs.unshift(`[${this.$logHead("taskGroup error")}][${this.$sTime(null,1)}] 删除分组失败 ${e.message}`)})).finally(i)}},taskGroupOp(e){this.$set(this.tasklists[e],"collapse",!this.tasklists[e].collapse)},taskMoveToGroup(e){"new"===e&&(e=this.taskNewId(),this.$set(this.tasklists,e,{name:"新的分组 "+Object.keys(this.grouplist).length,type:"group",note:"关于该分组的一些备注说明",bkcolor:this.$uStr.randomColor({max:200}),collapse:!1})),"none"===e||this.tasklists[e]&&"group"===this.tasklists[e].type?(this.taskChecklist.forEach((t=>{"none"===e?this.$delete(this.tasklists[t],"group"):this.$set(this.tasklists[t],"group",e)})),this.$message.success("成功移动",this.taskChecklist.length,"个定时任务到","none"===e?"普通列表":this.tasklists[e].name),this.logs.unshift(`[${this.$logHead("taskGroup info")}][${this.$sTime(null,1)}] 成功移动 ${this.taskChecklist.length} 个定时任务到 ${"none"===e?"普通列表":this.tasklists[e].name}，保存后生效`),this.show.groupchoose=!1,this.taskChecked="none"):this.$message.error("所选分组不存在，请重新选择")}}};const Oo=ka(So,wo,[],!1,null,"6e5c5756",null).exports;var Eo=function(){var e=this,t=e._self._c;return t("section",{on:{keydown:function(t){return(t.type.indexOf("key")||83===t.keyCode)&&t.ctrlKey?(t.preventDefault(),t.stopPropagation(),e.hostSave()):null}}},[t("header",{staticClass:"header"},[e._v(e._s(e.header))]),e._v(" "),t("main",{staticClass:"content"},[t("div",{staticClass:"mitmset",class:{"mitmset--close":!e.eproxy.enable}},[t("div",{staticClass:"mitmset_status emargin",class:{"mitmset--close":!e.eproxy.enable}},[e._v(e._s(e.$t("status"))+"："+e._s(e.$t(e.eproxy.enable?"enabled":"disabled")))]),e._v(" "),t("div",{staticClass:"mitmset_item emargin"},[t("label",[e._v("ANYPROXY "+e._s(e.$t("port"))+": "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.eproxy.port,expression:"eproxy.port"}],staticClass:"elecTable_input elecTable_input--number mitmset_bl1",attrs:{type:"number"},domProps:{value:e.eproxy.port},on:{input:function(t){t.target.composing||e.$set(e.eproxy,"port",t.target.value)}}})])]),e._v(" "),t("div",{staticClass:"mitmset_item emargin"},[t("label",[e._v("ANYPROXY "+e._s(e.$t("logs"))+": "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.eproxy.webPort,expression:"eproxy.webPort"}],staticClass:"elecTable_input elecTable_input--number mitmset_bl1",attrs:{type:"number"},domProps:{value:e.eproxy.webPort},on:{input:function(t){t.target.composing||e.$set(e.eproxy,"webPort",t.target.value)}}})])]),e._v(" "),t("button",{directives:[{name:"show",rawName:"v-show",value:!e.eproxy.enable,expression:"!eproxy.enable"}],staticClass:"elecBtn w220 greenbk emargin",on:{click:function(t){return e.eproxyToggle("open")}}},[e._v(e._s(e.$t("enable"))+" MITM")]),e._v(" "),t("button",{directives:[{name:"show",rawName:"v-show",value:e.eproxy.enable,expression:"eproxy.enable"}],staticClass:"elecBtn w220 elecBtn--stop emargin",on:{click:function(t){return e.eproxyToggle("close")}}},[e._v(e._s(e.$t("disable"))+" MITM")])]),e._v(" "),t("div",{staticClass:"etable"},[t("table",{staticClass:"elecTable",class:{"elecTable--disabled":!e.mitmhosteble.enable}},[t("caption",{staticClass:"elecTable_caption",class:{"elecTable--disabled":!e.mitmhosteble.enable}},[t("div",{staticClass:"eflex elecTable_caption--left"},[t("span",{attrs:{title:"按照下表进行解析(解析全部可使用单星号 *"}},[e._v(e._s(e.$t("enable"))+"：")]),e._v(" "),t("checkbox",{attrs:{oCheck:e.mitmhosteble}})],1),e._v(" "),t("span",[e._v("MITM HOST "+e._s(e.$t("list"))+" - "+e._s(e.mitmhost.length))]),e._v(" "),t("span",{staticClass:"icon icon_caption--sync",attrs:{title:"刷新当前列表"},domProps:{innerHTML:e._s(e.icon.sync)},on:{click:function(t){return e.mitmInit()}}})]),e._v(" "),t("thead",[t("tr",[t("th",{staticClass:"elecTable_th elecTable_th--check",attrs:{title:"全选/全不选"}},[t("input",{staticClass:"echeckbox",attrs:{type:"checkbox"},on:{change:function(t){return e.mitmCkall(t)}}})]),e._v(" "),t("th",{staticClass:"elecTable_th minw320"},[e._v(e._s(e.$t("host")))]),e._v(" "),t("th",{staticClass:"elecTable_th elecTable_th--name"},[e._v(e._s(e.$t("note")))]),e._v(" "),t("th",{staticClass:"elecTable_th elecTable_th--enable"},[e._v(e._s(e.$t("enable_short")))]),e._v(" "),t("th",{staticClass:"elecTable_th minw62"},[e._v(e._s(e.$t("operate_short")))])])]),e._v(" "),t("tbody",e._l(e.mitmhost,(function(s,i){return t("tr",{key:i,class:{"elecTable_tr--disabled":!s.enable,"elecTable_tr--selected":e.mitmChecked[i]}},[t("td",{staticClass:"elecTable_td"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.mitmCheck,expression:"mitmCheck"}],staticClass:"echeckbox",attrs:{type:"checkbox"},domProps:{value:String(i),checked:Array.isArray(e.mitmCheck)?e._i(e.mitmCheck,String(i))>-1:e.mitmCheck},on:{change:function(t){var s=e.mitmCheck,n=t.target,a=!!n.checked;if(Array.isArray(s)){var r=String(i),o=e._i(s,r);n.checked?o<0&&(e.mitmCheck=s.concat([r])):o>-1&&(e.mitmCheck=s.slice(0,o).concat(s.slice(o+1)))}else e.mitmCheck=a}}})]),e._v(" "),t("td",{staticClass:"elecTable_td"},[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:s.host,expression:"host.host",modifiers:{trim:!0}}],staticClass:"elecTable_input",attrs:{type:"text",placeholder:"e.test.com"},domProps:{value:s.host},on:{input:function(t){t.target.composing||e.$set(s,"host",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),t("td",{staticClass:"elecTable_td"},[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:s.note,expression:"host.note",modifiers:{trim:!0}}],staticClass:"elecTable_input",attrs:{type:"text",placeholder:"备注信息（可省略"},domProps:{value:s.note},on:{input:function(t){t.target.composing||e.$set(s,"note",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),t("td",{staticClass:"elecTable_td"},[t("checkbox",{attrs:{oCheck:s}})],1),e._v(" "),t("td",{staticClass:"elecTable_td"},[t("span",{staticClass:"icon--op cursor",domProps:{innerHTML:e._s(e.icon.delete)},on:{click:function(t){return e.mhostDel(i)}}})])])})),0),e._v(" "),t("tfoot",[t("tr",[t("td",{staticClass:"center border_top1",attrs:{colspan:"5"}},[t("span",{directives:[{name:"show",rawName:"v-show",value:e.mitmCheck.length,expression:"mitmCheck.length"}],staticClass:"elecTable_addbtn elecTable_addbtn--clear",on:{click:function(t){return e.mhostDelCks()}}},[e._v(e._s(e.$ta("delete","checked")))]),e._v(" "),t("span",{staticClass:"elecTable_addbtn",on:{click:function(t){return e.mitmhost.push({host:"",enable:!0})}}},[e._v(e._s(e.$ta("add","host")))])])])])])]),e._v(" "),t("p",{staticClass:"center"},[t("button",{staticClass:"elecBtn elecBtn--long",on:{click:function(t){return e.hostSave()}}},[e._v(e._s(e.$t("save")))])]),e._v(" "),t("pac",{attrs:{config:e.config_pac}}),e._v(" "),t("div",{staticClass:"mitmcrt"},[t("h4",{staticClass:"mitmcrt_title"},[e._v(e._s(e.$ta("self-signed","root","certificate","manage")))]),e._v(" "),t("div",{staticClass:"eflex mitm_border"},[t("div",[t("label",{staticClass:"sfcrt_label"},[e._v(e._s(e.$t("certificate"))+": ")]),t("span",{staticClass:"sfcrt_info"},[e._v(e._s(e.crtinfo.commonName))])]),e._v(" "),t("div",[t("label",{staticClass:"sfcrt_label"},[e._v(e._s(e.$ta("valid","date"))+": ")]),t("span",{staticClass:"sfcrt_info"},[e._v(e._s(e.crtinfo.notBefore)+" "+e._s(e.$t("to"))+" "+e._s(e.crtinfo.notAfter))])]),e._v(" "),t("select",{directives:[{name:"show",rawName:"v-show",value:0===e.crtinfo.rescode,expression:"crtinfo.rescode === 0"},{name:"model",rawName:"v-model",value:e.crt_type,expression:"crt_type"}],staticClass:"elecTable_select minw160",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.crt_type=t.target.multiple?s:s[0]}}},[t("option",{attrs:{value:"crt"}},[e._v("CRT "+e._s(e.$t("certificate")))]),e._v(" "),t("option",{attrs:{value:"p12"}},[e._v("P12 "+e._s(e.$t("certificate")))]),e._v(" "),t("option",{attrs:{value:"dot"}},[e._v(".0 "+e._s(e.$t("certificate")))])]),e._v(" "),t("button",{staticClass:"elecBtn",attrs:{title:"下载当前使用的根证书文件"},on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.crtInstall()}}},[e._v(e._s(e.$ta("download","current","certificate")))]),e._v(" "),t("button",{staticClass:"elecBtn",on:{click:function(t){t.preventDefault(),t.stopPropagation(),e.crthostshow=!e.crthostshow}}},[e._v(e._s(e.$ta("sign","host","certificate")))]),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.crthostshow,expression:"crthostshow"}],staticClass:"sfcrt_self"},[t("label",{staticClass:"sfcrt_label"},[e._v(e._s(e.$t("host")))]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.crt_host,expression:"crt_host"}],staticClass:"elecTable_input sfcrt_host",attrs:{placeholder:"域名 比如 test.com"},domProps:{value:e.crt_host},on:{input:function(t){t.target.composing||(e.crt_host=t.target.value)}}}),e._v(" "),t("button",{staticClass:"elecBtn",on:{click:function(t){return t.preventDefault(),t.stopPropagation(),e.crtHost()}}},[e._v(e._s(e.$ta("generate","and","download")))])])]),e._v(" "),t("div",{staticClass:"eflex mitm_border"},[t("label",{staticClass:"sfcrt_label"},[e._v(e._s(e.$ta("new","root","certificate"))+":")]),e._v(" "),t("div",[t("label",{staticClass:"sfcrt_label"},[e._v(e._s(e.$t("name"))+" ")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.newcrt.commonName,expression:"newcrt.commonName"}],staticClass:"elecTable_input w220",attrs:{type:"text",name:"commonName",placeholder:"elecV2P (全英文字符)"},domProps:{value:e.newcrt.commonName},on:{input:function(t){t.target.composing||e.$set(e.newcrt,"commonName",t.target.value)}}})]),e._v(" "),t("div",{staticClass:"eflex"},[t("label",{staticClass:"sfcrt_label"},[e._v(e._s(e.$ta("force","replace"))+" ")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.newcrt.overwrite,expression:"newcrt.overwrite"}],staticClass:"echeckbox",attrs:{type:"checkbox",name:"overwrite"},domProps:{checked:Array.isArray(e.newcrt.overwrite)?e._i(e.newcrt.overwrite,null)>-1:e.newcrt.overwrite},on:{change:function(t){var s=e.newcrt.overwrite,i=t.target,n=!!i.checked;if(Array.isArray(s)){var a=e._i(s,null);i.checked?a<0&&e.$set(e.newcrt,"overwrite",s.concat([null])):a>-1&&e.$set(e.newcrt,"overwrite",s.slice(0,a).concat(s.slice(a+1)))}else e.$set(e.newcrt,"overwrite",n)}}})]),e._v(" "),t("button",{staticClass:"elecBtn",on:{click:function(t){return e.crtNew()}}},[e._v(e._s(e.$t("generate")))])]),e._v(" "),t("div",{staticClass:"eflex mitm_border"},[t("div",{staticClass:"eupload eupload--crt",attrs:{title:"根证书包含 rootCA.crt/rootCA.key 两部分"}},[t("input",{ref:"crtfiles",staticClass:"eupload_file eupload_file--crt",attrs:{type:"file",multiple:""},on:{change:function(t){return e.crtstoupload()}}}),e._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:e.crtfiles.length,expression:"crtfiles.length"}],staticClass:"eupload_span"},[e._v(e._s(e.crtfilename))])]),e._v(" "),t("button",{staticClass:"elecBtn w220 emargin",on:{click:function(t){return e.crtUpload()}}},[e._v(e._s(e.$ta("start","upload")))])]),e._v(" "),t("div",{staticClass:"eflex mitm_border"},[t("button",{staticClass:"elecBtn minw320 emargin",attrs:{title:"清空 ANYPROXY temp cache 文件夹"},on:{click:function(t){return e.cacheClear()}}},[e._v(e._s(e.$ta("clear","cache","file")))]),e._v(" "),t("button",{staticClass:"elecBtn minw320 emargin",attrs:{title:"删除由根证书签发的其他域名证书"},on:{click:function(t){return e.crtClear()}}},[e._v(e._s(e.$ta("clear","host","certificate")))]),e._v(" "),t("button",{staticClass:"elecBtn minw320 greenbk",on:{click:function(t){return e.eproxyToggle("restart")}}},[e._v(e._s(e.$t("restart"))+" ANYPROXY")])])])],1),e._v(" "),e._m(0)])};Eo._withStripped=!0;var jo=function(){var e=this,t=e._self._c;return t("div",{staticClass:"pacset"},[t("div",{staticClass:"pacaddr eflex"},[t("label",{staticClass:"elabel",attrs:{title:"根据上面的 MITM HOST 列表自动生成 base on mitmhost list"}},[e._v("PAC "+e._s(e.$t("file")))]),e._v(" "),t("span",{staticClass:"elecBtn",on:{click:function(t){return e.pacCopy()}}},[e._v(e._s(e.config.addr))])]),e._v(" "),t("div",{staticClass:"pacproxy eflex emargin"},[t("label",{staticClass:"elabel",attrs:{title:"需要 MITM 的网络请求分流代理地址"}},[e._v(e._s(e.$t("proxy")))]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.config.proxy,expression:"config.proxy",modifiers:{trim:!0}}],staticClass:"elecTable_input",attrs:{placeholder:"127.0.0.1:8001"},domProps:{value:e.config.proxy},on:{input:function(t){t.target.composing||e.$set(e.config,"proxy",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),t("div",{staticClass:"pacproxy eflex emargin"},[t("label",{staticClass:"elabel",attrs:{title:"未匹配到的网络请求走向"}},[e._v(e._s(e.$t("non-matched")))]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.config.final,expression:"config.final",modifiers:{trim:!0}}],staticClass:"elecTable_input",attrs:{placeholder:"DIRECT"},domProps:{value:e.config.final},on:{input:function(t){t.target.composing||e.$set(e.config,"final",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),t("button",{staticClass:"elecBtn",on:{click:function(t){return e.pacSave()}}},[e._v(e._s(e.$t("save")))])])};jo._withStripped=!0;const No={name:"mitm",props:["config"],data:()=>({}),methods:{pacCopy(){this.$uApi.copyToClipboard(this.config.addr+"?u="+Date.now()+"&token="),this.$message.success("成功复制 PAC 文件链接")},pacSave(){const e=this.$message.loading("正在更新 PAC 默认代理...",0);this.$axios.put("/pac",{proxy:this.config.proxy,final:this.config.final}).then((e=>{console.debug("PAC SAVE 返回结果",e.data),0===e.data.rescode?this.$message.success("成功更新 PAC 默认代理",e.data.message):this.$message.error("更新 PAC 默认代理失败",e.data.message)})).catch((e=>{this.$message.error("更新 PAC 默认代理失败",e.message),console.error(e)})).finally(e)}}};const Po={name:"mitm",props:[],data:()=>({header:"MITM",crtfiles:[],mitmhost:[],newcrt:{commonName:"elecV2P",overwrite:!1},crtinfo:{},mitmhosteble:{enable:!0},icon:wa,crt_type:"crt",crt_host:"",mitmCheck:[],eproxy:{enable:!1,port:8001,webPort:8002},crthostshow:!1,config_pac:{addr:Oa.base_url+"/pac",proxy:"127.0.0.1:8001",final:"DIRECT"}}),components:{pac:ka(No,jo,[],!1,null,null,null).exports,checkbox:mr},created(){this.mitmInit()},computed:{mitmChecked:{get(){let e={};return this.mitmCheck.forEach((t=>{e[t]=!0})),e},set(e){"all"===e?this.mitmCheck=Object.keys(this.mitmhost):"none"===e&&(this.mitmCheck=[])}},crtfilename(){let e=[];for(let t=0;t<this.crtfiles.length;t++)e.push(this.crtfiles[t].name);return e.join(", ")}},methods:{mitmInit(){const e=this.$message.loading("正在获取 mitmhost 列表...",0);this.$axios.get("/data?type=mitmhost").then((e=>{e.data.host&&(this.mitmhost=[],e.data.host.forEach((e=>{switch(this.$sType(e)){case"string":this.mitmhost.push({host:e,enable:!0});break;case"object":!1!==e.enable&&(e.enable=!0),this.mitmhost.push(e)}}))),e.data.eproxy&&Object.assign(this.eproxy,e.data.eproxy),this.mitmhosteble.enable=!1!==e.data.enable,e.data.crtinfo&&0===e.data.crtinfo.rescode?this.crtinfo=e.data.crtinfo:this.crtinfo={commonName:"没有检测到相关证书(可能是 ANYPROXY 尚未开启)",notBefore:"无",notAfter:"无"},e.data.pacproxy&&(this.config_pac.proxy=e.data.pacproxy),e.data.pacfinal&&(this.config_pac.final=e.data.pacfinal),this.$message.success("成功获取 mitmhost 列表 "+this.mitmhost.length)})).catch((e=>{this.$message.error("获取 mitmhost 数据失败 "+e.message),console.error("获取 mitmhost 数据失败",e)})).finally(e)},crtstoupload(){this.crtfiles=this.$refs.crtfiles.files},crtUpload(){if(-1===this.crtfilename.indexOf("rootCA.crt")||-1===this.crtfilename.indexOf("rootCA.key"))return void this.$message.error("根证书应该包含 rootCA.crt/rootCA.key 两部分");let e=new FormData;for(let t of this.crtfiles)e.append(t.name,t);this.$axios.post("/crt",e,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{console.log(e.data,e.status),0===e.data.rescode?(this.$message.success("上传成功 "+e.data.message+"\n将在 ANYPROXY 重启后自动应用"),this.crtfiles="",this.$refs.crtfiles.value=""):this.$message.success("上传失败 "+e.data.message)})).catch((()=>{this.$message.error("上传失败 FAILURE!!")}))},crtClear(){if(confirm("清空由之前根证书已签发的所有证书？")){const e=this.$message.loading("证书清除中...",0);this.$axios.put("/crt",{op:"clearcrt"}).then((e=>{this.$message.success("清除完成",e.data.message)})).catch((e=>{this.$message.error("操作失败",e.message),console.error(e)})).finally(e)}},crtInstall(){0===this.crtinfo.rescode?window.open("/crt"+("crt"!==this.crt_type?"?type="+this.crt_type:"")):this.$message.error("当前并没有证书可供下载，可能是 ANYPROXY 尚未开启")},crtNew(){if(!this.newcrt.commonName)return void this.$message.error("请先输入证书名称");const e=this.$message.loading("证书生成中...",0);this.$axios.put("/crt",{op:"new",data:this.newcrt}).then((e=>{0===e.data.rescode?this.$message.success("成功生成新的根证书\n"+e.data.message+"\n将在 ANYPROXY 重启后自动应用"):this.$message.success("自签根证书生成失败\n"+e.data.message)})).catch((e=>{this.$message.error("操作失败 "+e.message),console.error(e)})).finally(e)},hostSave(){let e=0,t=!1,s=this.mitmhost.filter((s=>{if(s.host)return s.enable&&(e++,"*"===s.host&&(t=!0)),!0}));if(confirm(`共 ${e}/${s.length} 个 mitmhost 将被保存，${this.mitmhosteble.enable?t?"包含单独 * 项，将解析所有域名，":"":"但不启用，"}确定保存？`)){this.mitmhost=s;const e=this.$message.loading("mitmhost 上传保存中...",0);this.$axios.put("/data",{type:"mitmhost",data:this.mitmhost,mitmhostenable:this.mitmhosteble.enable}).then((e=>{0===e.data.rescode?this.$message.success("保存成功",e.data.message):this.$message.error("mitmhost 保存失败",e.data.message)})).catch((e=>{this.$message.error("mitmhost 保存失败",e.message),console.error("mitmhost 保存失败",e)})).finally(e)}},cacheClear(){const e=this.$message.loading("清空 ANYPROXY temp cache 文件夹中...",0);this.$axios.delete("/tempcaches").then((e=>{console.debug("清空 ANYPROXY temp cache 返回结果",e.data),0===e.data.rescode?this.$message.success("清空完成",e.data.message):this.$message.error("清空失败",e.data.message)})).catch((e=>{this.$message.error("清空失败",e.message),console.error(e)})).finally(e)},mhostDel(e){this.$delete(this.mitmhost,e)},mhostDelCks(){this.mitmhost=this.mitmhost.filter(((e,t)=>!this.mitmChecked[t])),this.$message.success(`成功删除 ${this.mitmCheck.length} 条规则，保存后正式生效`),this.mitmCheck=[]},crtHost(){this.crt_host?window.open("./crt/new/"+this.crt_host):this.$message.error("请先输入要签发证书的域名")},mitmCkall(e){this.mitmChecked=e.target.checked?"all":"none"},eproxyToggle(e=""){if(this.$wsrecv.connected)switch(e){case"open":if(this.eproxy.enable)return void this.$message.success("当前 MITM 功能已处于启用状态");confirm("确定打开 ANYPROXY，启用 MITM 功能？")&&(this.eproxy.enable=!0,this.$wsrecv.send("eproxy",{...this.eproxy}));break;case"close":if(!this.eproxy.enable)return void this.$message.success("当前 MITM 功能已处于关闭状态");confirm("确定关闭 ANYPROXY，暂停 MITM 功能？")&&(this.eproxy.enable=!1,this.$wsrecv.send("eproxy","close"));break;case"restart":confirm("确定重启 ANYPROXY？")&&(this.eproxy.enable=!0,this.$wsrecv.send("eproxy",{op:"restart",...this.eproxy}));break;default:this.$message.error("未知操作",e)}else this.$message.error("websocket 尚未连接，指令无法发送")}}};const Ao=ka(Po,Eo,[function(){var e=this,t=e._self._c;return t("footer",{staticClass:"footer"},[t("ul",{staticClass:"footer_tip"},[t("li",[e._v("关于 PAC 文件的说明参考文档："),t("a",{staticClass:"tip",attrs:{href:"https://github.com/elecV2/elecV2P-dei/blob/master/docs/Advanced.md",target:"_blank"}},[e._v("Advanced.md")]),e._v(" 相关部分")]),e._v(" "),t("li",[e._v("各个系统的证书安装与信任 参考: "),t("a",{staticClass:"tip",attrs:{href:"https://github.com/alibaba/anyproxy/tree/master/docs-src/cn",target:"_blank"}},[e._v("此页面")]),e._v(" 的证书配置相关部分")]),e._v(" "),t("li",[e._v("生成或上传新的根证书在重启后生效，需要重新下载安装和信任")]),e._v(" "),t("li",[e._v("解析 https 请求的条件：安装信任根证书且相关域名在解析列表中")]),e._v(" "),t("li",[e._v("经常使用 ANYPROXY 代理会产生大量缓存文件，请定期进行清理")])])])}],!1,null,"0b31b9a4",null).exports;var Io=function(){var e=this,t=e._self._c;return t("main",[t("header",{staticClass:"header"},[e._v(e._s(e.header))]),e._v(" "),t("main",{staticClass:"content"},[t("div",{staticClass:"etable"},[t("table",{staticClass:"elecTable",on:{keydown:function(t){return(t.type.indexOf("key")||83===t.keyCode)&&t.ctrlKey?(t.preventDefault(),t.stopPropagation(),t.shiftKey||t.altKey||t.metaKey?null:e.filterSave()):null}}},[t("caption",{staticClass:"elecTable_caption"},[t("span",[e._v("filter.list - "+e._s(e.lists.length))]),e._v(" "),t("span",{staticClass:"icon icon_caption--sync",attrs:{title:"刷新当前列表"},domProps:{innerHTML:e._s(e.icon.sync)},on:{click:function(t){return e.cfInit()}}})]),e._v(" "),e._m(0),e._v(" "),t("tbody",e._l(e.lists,(function({data:s,index:i}){return t("tr",{key:"filter"+i},[t("td",{staticClass:"elecTable_td"},[t("select",{directives:[{name:"model",rawName:"v-model",value:s[0],expression:"data[0]"}],staticClass:"elecTable_select",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(s,0,t.target.multiple?i:i[0])}}},[t("option",[e._v("DOMAIN")]),e._v(" "),t("option",[e._v("DOMAIN-SUFFIX")]),e._v(" "),t("option",[e._v("IP-CIDR")])])]),e._v(" "),t("td",{staticClass:"elecTable_td"},[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:s[1],expression:"data[1]",modifiers:{trim:!0}}],staticClass:"elecTable_input",domProps:{value:s[1]},on:{input:function(t){t.target.composing||e.$set(s,1,t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}})]),e._v(" "),t("td",{staticClass:"elecTable_td"},[t("span",{staticClass:"icon--op",domProps:{innerHTML:e._s(e.icon.delete)},on:{click:function(t){return e.$set(e.orglist[i],"status",-1)}}})])])})),0),e._v(" "),t("tfoot",[t("tr",[t("td",{staticClass:"elecTable_add",attrs:{colspan:"3"},on:{click:function(t){return e.orglist.push({data:["DOMAIN",""],index:e.orglist.length,status:1})}}},[e._v("+")])])])])]),e._v(" "),t("p",{staticClass:"center"},[t("button",{staticClass:"elecBtn elecBtn--long",on:{click:function(t){return e.filterSave()}}},[e._v("保存当前列表")])])]),e._v(" "),t("footer",{staticClass:"footer footer--h48"},[t("div",[t("span",[e._v("该列表用于客户端分流（filter）订阅  地址:")]),e._v(" "),t("strong",[t("a",{attrs:{href:"/filter",target:"elecV2PFilter"}},[e._v(e._s(e.homepage)+"/filter")])])])])])};Io._withStripped=!0;const Ro={name:"filter",data:()=>({icon:wa,header:"客户端订阅分流列表",homepage:location.origin,orglist:[]}),created(){this.cfInit()},computed:{lists(){return this.orglist.filter((e=>-1!==e.status))}},methods:{cfInit(){const e=this.$message.loading("正在获取 filter 列表...",0);this.$axios.get("/data?type=filter").then((e=>{let t=e.data,s=[];t&&t.split(/\n|\r/).forEach((e=>{if(3===e.split(",").length&&!/^(#|\[)/.test(e)){let t=e.split(",");s.push({data:[t[0],t[1]],index:s.length,status:0})}})),this.orglist=s,this.$message.success("成功获取 filter 列表 "+this.orglist.length)})).catch((e=>{this.$message.error("获取 filter 列表失败",e.message),console.error("获取 filter 数据失败",e)})).finally(e)},filterSave(){let e=[];if(e=this.lists.filter((e=>e.data[1]&&/^(DOMAIN(-SUFFIX)?|IP-CIDR)$/.test(e.data[0]))),this.lists.length-e.length)return void this.$message.error("部分规则为空，请填写完成或删除后再进行保存");e=this.lists.map((e=>e.data));const t=this.$message.loading("filter 列表保存中...",0);this.$axios.post("/filterlist",{filterlist:e}).then((e=>{this.$message.success("保存成功",e.data.message)})).catch((e=>{this.$message.error("保存失败",e.message),console.error(e)})).finally(t)}}};const Do=ka(Ro,Io,[function(){var e=this,t=e._self._c;return t("thead",[t("tr",[t("th",{staticClass:"elecTable_th elecTable_th--name"},[e._v("匹配方式")]),e._v(" "),t("th",{staticClass:"elecTable_th"},[e._v("匹配内容")]),e._v(" "),t("th",{staticClass:"elecTable_th minw62"},[e._v("操作")])])])}],!1,null,null,null).exports;var Fo=function(){var e=this,t=e._self._c;return t("section",[t("header",{staticClass:"header"},[e._v(e._s(e.header))]),e._v(" "),e._m(0),e._v(" "),t("footer",{staticClass:"footer footer--h48"},[t("a",{attrs:{href:"https://github.com/elecV2/elecV2P",target:"elecV2PGit"}},[t("i",{staticClass:"icon icon-github",attrs:{"aria-label":"icon: github"}},[t("svg",{attrs:{viewBox:"64 64 896 896","data-icon":"github",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false"}},[t("path",{attrs:{d:"M511.6 76.3C264.3 76.2 64 276.4 64 523.5 64 718.9 189.3 885 363.8 946c23.5 5.9 19.9-10.8 19.9-22.2v-77.5c-135.7 15.9-141.2-73.9-150.3-88.9C215 726 171.5 718 184.5 703c30.9-15.9 62.4 4 98.9 57.9 26.4 39.1 77.9 32.5 104 26 5.7-23.5 17.9-44.5 34.7-60.8-140.6-25.2-199.2-111-199.2-213 0-49.5 16.3-95 48.3-131.7-20.4-60.5 1.9-112.3 4.9-120 58.1-5.2 118.5 41.6 123.2 45.3 33-8.9 70.7-13.6 112.9-13.6 42.4 0 80.2 4.9 113.5 13.9 11.3-8.6 67.3-48.8 121.3-43.9 2.9 7.7 24.7 58.3 5.5 118 32.4 36.8 48.9 82.7 48.9 132.3 0 102.2-59 188.1-200 212.9a127.5 127.5 0 0 1 38.1 91v112.5c.8 9 0 17.9 15 17.9 177.1-59.7 304.6-227 304.6-424.1 0-247.2-200.4-447.3-447.5-447.3z"}})])]),e._v(" Github ")]),e._v(" "),t("a",{attrs:{href:"https://t.me/elecV2",target:"elecV2PTG"}},[t("i",{staticClass:"icon icon-robot",attrs:{"aria-label":"icon: robot"}},[t("svg",{attrs:{viewBox:"64 64 896 896","data-icon":"robot",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false"}},[t("path",{attrs:{d:"M300 328a60 60 0 1 0 120 0 60 60 0 1 0-120 0zM852 64H172c-17.7 0-32 14.3-32 32v660c0 17.7 14.3 32 32 32h680c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-32 660H204V128h616v596zM604 328a60 60 0 1 0 120 0 60 60 0 1 0-120 0zm250.2 556H169.8c-16.5 0-29.8 14.3-29.8 32v36c0 4.4 3.3 8 7.4 8h729.1c4.1 0 7.4-3.6 7.4-8v-36c.1-17.7-13.2-32-29.7-32zM664 508H360c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}})])]),e._v(" Telegram ")])])])};Fo._withStripped=!0;const Lo=ka({name:"about",data:()=>({header:"ABOUT"})},Fo,[function(){var e=this,t=e._self._c;return t("main",{staticClass:"content"},[t("div",{staticClass:"about"},[t("h4",{staticClass:"about_title"},[e._v("简介")]),e._v(" "),t("p",[e._v("elecV2P - customize personal network.")]),e._v(" "),t("p",[e._v("elecV2P 是一款基于 NodeJS，可通过 JS 修改网络请求，以及定时运行脚本或 SHELL 指令的网络工具。")]),e._v(" "),t("br"),e._v(" "),t("p",[e._v("项目地址："),t("a",{attrs:{href:"https://github.com/elecV2/elecV2P",target:"elecV2PGit"}},[e._v("https://github.com/elecV2/elecV2P")]),t("br"),e._v("说明文档："),t("a",{attrs:{href:"https://github.com/elecV2/elecV2P-dei/tree/master/docs",target:"elecV2PDoc"}},[e._v("https://github.com/elecV2/elecV2P-dei/tree/master/docs")])]),e._v(" "),t("h4",{staticClass:"about_title"},[e._v("功能")]),e._v(" "),t("ul",[t("li",[e._v("查看/修改 网络请求 (MITM)")]),e._v(" "),t("li",[e._v("定时执行 JS/SHELL 脚本")]),e._v(" "),t("li",[e._v("FEED/IFTTT/自定义 通知")]),e._v(" "),t("li",[e._v("EFSS 基础文件管理")])]),e._v(" "),t("h4",{staticClass:"about_title"},[e._v("项目已开源")]),e._v(" "),t("p",[e._v("前端源文件位于 web/src 目录，修改后使用 yarn build 命令进行打包。")]),e._v(" "),t("p",[e._v("在使用时，如果有任何问题或建议，欢迎一起交流 "),t("a",{attrs:{href:"https://github.com/elecV2/elecV2P/issues",target:"elecV2PGit"}},[e._v("open a issue")]),e._v("。")]),e._v(" "),t("h4",{staticClass:"about_title"},[e._v("贡献/参考")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://github.com/alibaba/anyproxy",target:"_blank"}},[e._v("anyproxy")])]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/axios/axios",target:"_blank"}},[e._v("axios")])]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/cheeriojs/cheerio",target:"_blank"}},[e._v("cheerio")])]),e._v(" "),t("li",[t("a",{attrs:{href:"https://expressjs.com",target:"_blank"}},[e._v("express")])]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/merencia/node-cron",target:"_blank"}},[e._v("node-cron")])]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/dylang/node-rss",target:"_blank"}},[e._v("node-rss")])]),e._v(" "),t("li",[t("a",{attrs:{href:"https://pm2.keymetrics.io/",target:"_blank"}},[e._v("pm2")])]),e._v(" "),t("li",[t("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[e._v("vue")])]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/mauricius/vue-draggable-resizable",target:"_blank"}},[e._v("vue-draggable-resizable")])]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/ajaxorg/ace",target:"_blank"}},[e._v("ace")])]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/cthackers/adm-zip",target:"_blank"}},[e._v("adm-zip")])]),e._v(" "),t("li",[t("a",{attrs:{href:"https://www.antdv.com",target:"_blank"}},[e._v("Ant Design Vue")])])]),e._v(" "),t("h5",{staticClass:"about_tip"},[t("i",[e._v(" • Don't be evil. "),t("small",[e._v("(Because I am already one)")])])])])])}],!1,null,"055bd4a3",null).exports;var Ho=function(){var e=this,t=e._self._c;return t("section",[t("header",{staticClass:"header"},[e._v(e._s(e.$t("donation")))]),e._v(" "),t("main",{staticClass:"content"},[t("div",{staticClass:"donation"},[e._m(0),e._v(" "),e._m(1),e._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:e.userid,expression:"userid"}],attrs:{title:"可多台设备共用（设置相同 WEBHOOK TOKEN）"}},[t("p",[e._v("当前用户 ID: "+e._s(e.userid))]),e._v(" "),e._m(2)])]),e._v(" "),t("div",{staticClass:"todo"},[t("h2",{directives:[{name:"show",rawName:"v-show",value:!e.tododata,expression:"!tododata"}],staticClass:"todotitle",on:{click:e.todoget}},[e._v("查看 Todo-Done-Project")]),e._v(" "),t("div",{domProps:{innerHTML:e._s(e.tododata)}})])]),e._v(" "),e._m(3)])};Ho._withStripped=!0;const Uo={name:"donation",data(){return{userid:this.$uApi.store.get("userid"),tododata:""}},created(){this.$uApi.store.getCache("bSponsor")||this.$axios.get("/data?type=sponsors").then((e=>{if(0===e.data.rescode){let t=e.data.resdata;this.$uApi.store.set("sponsors",this.$uStr.ebufEncrypt(JSON.stringify(t.sponsors),"elecV2P_sponsors")),this.userid!==t.userid&&(this.userid=t.userid,this.$uApi.store.set("userid",this.userid)),(this.$uApi.store.getCache("sponsors").has(this.userid)||-1!==t.sponsors.indexOf(this.userid))&&(this.$message.success("感谢您的赞助，相关权益已激活，请回到首页并刷新"),this.$uApi.store.setCache("bSponsor",!0))}console.debug("get sponsors lists",e.data)})).catch((e=>{console.debug("获取 sponsors lists 失败",e.message)}))},methods:{todoget(){if(this.tododata)return;const e=this.$message.loading("获取 todo lists 中...",0);this.$axios.get("https://raw.githubusercontent.com/elecV2/elecV2P/master/Todo.md").then((e=>{this.$message.success("获取成功"),this.tododata=e.data})).catch((e=>{this.$message.error("获取失败 "+e.message),console.error(e),this.tododata="点击前往：<a target='elecV2PGit' href='https://github.com/elecV2/elecV2P/blob/master/Todo.md'>https://github.com/elecV2/elecV2P</a> 查看"})).finally(e)}}};const Mo=ka(Uo,Ho,[function(){var e=this,t=e._self._c;return t("p",[e._v("如果你觉得本项目还不错的话，"),t("a",{attrs:{href:"https://github.com/elecV2/elecV2P",target:"elecV2PGit"}},[e._v("给个 Star")]),e._v(" ，或者赞助打赏一下")])},function(){var e=this._self._c;return e("div",{staticClass:"donationpic"},[e("img",{staticClass:"donationpic_item",attrs:{alt:"wechat",src:"https://elecv2.github.io/src/wechat.png"}}),this._v(" "),e("img",{staticClass:"donationpic_item",attrs:{alt:"alipay",src:"https://elecv2.github.io/src/alipay.png"}})])},function(){var e=this,t=e._self._c;return t("p",{staticClass:"tip"},[e._v("* 赞助 10 元及以上，体验"),t("a",{staticClass:"tip",attrs:{href:"https://github.com/elecV2/elecV2P-dei/tree/master/examples/theme",target:"elecV2PDoc"}},[e._v(" 主题功能")]),e._v("（请附上用户 ID）")])},function(){var e=this,t=e._self._c;return t("footer",{staticClass:"footer"},[t("span",[e._v("BTC: 1GtN4T1GB4YUf4YWynqr1Vgv4sdgLepoo9")]),e._v(" "),t("span",[e._v("ETH: 0x2455850dAC2f44309E3e208E5ffAF5945308E76a")])])}],!1,null,"51001bdc",null).exports;var Bo=function(){var e=this,t=e._self._c;return e.bIsHide?e._e():t("div",{staticClass:"hold"},[t("h4",{staticClass:"hold_title"},[e._v("$HOLD: "+e._s(e.title))]),e._v(" "),t("div",{staticClass:"hold_edit"},[t("div",{staticClass:"hold_left"},[e.request?t("div",{staticClass:"hold_request"},[t("div",{staticClass:"hold_request_flex"},[t("select",{directives:[{name:"model",rawName:"v-model",value:e.request.method,expression:"request.method"}],staticClass:"elecTable_select header_select",on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.request,"method",t.target.multiple?s:s[0])}}},[t("option",[e._v("GET")]),e._v(" "),t("option",[e._v("POST")]),e._v(" "),t("option",[e._v("PUT")]),e._v(" "),t("option",[e._v("DELETE")])]),e._v(" "),t("label",{staticClass:"header_label"},[e._v("HOST : ")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.request.hostname,expression:"request.hostname"}],staticClass:"elecTable_input hostname_input",domProps:{value:e.request.hostname},on:{input:function(t){t.target.composing||e.$set(e.request,"hostname",t.target.value)}}}),e._v(" "),t("label",{staticClass:"header_label"},[e._v(" : ")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.request.port,expression:"request.port"}],staticClass:"elecTable_input port_input",domProps:{value:e.request.port},on:{input:function(t){t.target.composing||e.$set(e.request,"port",t.target.value)}}})]),e._v(" "),t("div",{staticClass:"hold_request_flex"},[t("label",{staticClass:"header_label"},[e._v("PATH : ")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.request.path,expression:"request.path"}],staticClass:"elecTable_input path_input",domProps:{value:e.request.path},on:{input:function(t){t.target.composing||e.$set(e.request,"path",t.target.value)}}})])]):e._e(),e._v(" "),t("div",{staticClass:"hold_header"},[t("h4",{staticClass:"hold_title"},[e._v("header"),t("span",{staticClass:"icon icon-interaction",attrs:{"aria-label":"icon: interaction"},on:{click:function(t){e.bIsTheader=!e.bIsTheader}}},[t("svg",{attrs:{viewBox:"64 64 896 896","data-icon":"interaction",width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false"}},[t("path",{attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656zM304.8 524h50.7c3.7 0 6.8-3 6.8-6.8v-78.9c0-19.7 15.9-35.6 35.5-35.6h205.7v53.4c0 5.7 6.5 8.8 10.9 5.3l109.1-85.7c3.5-2.7 3.5-8 0-10.7l-109.1-85.7c-4.4-3.5-10.9-.3-10.9 5.3V338H397.7c-55.1 0-99.7 44.8-99.7 100.1V517c0 4 3 7 6.8 7zm-4.2 134.9l109.1 85.7c4.4 3.5 10.9.3 10.9-5.3v-53.4h205.7c55.1 0 99.7-44.8 99.7-100.1v-78.9c0-3.7-3-6.8-6.8-6.8h-50.7c-3.7 0-6.8 3-6.8 6.8v78.9c0 19.7-15.9 35.6-35.5 35.6H420.6V568c0-5.7-6.5-8.8-10.9-5.3l-109.1 85.7c-3.5 2.5-3.5 7.8 0 10.5z"}})])])]),e._v(" "),e.bIsTheader?t("textarea",{directives:[{name:"model",rawName:"v-model.lazy",value:e.strheader,expression:"strheader",modifiers:{lazy:!0}}],staticClass:"editor_textarea header_text",domProps:{value:e.strheader},on:{change:function(t){e.strheader=t.target.value}}}):t("div",e._l(e.header,(function(s,i){return t("span",{key:i,staticClass:"header_item"},[t("label",{staticClass:"header_label",attrs:{title:i}},[e._v(e._s(i)+":")]),e._v(" "),t("span",{staticClass:"button_delete",on:{click:function(t){return e.headerDelete(i)}}},[e._v("X")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.header[i],expression:"header[key]"}],staticClass:"elecTable_input header_input",domProps:{value:e.header[i]},on:{input:function(t){t.target.composing||e.$set(e.header,i,t.target.value)}}})])})),0)])]),e._v(" "),t("div",{staticClass:"hold_body"},[t("h4",{staticClass:"hold_title"},[e._v("body")]),e._v(" "),t("textarea",{directives:[{name:"model",rawName:"v-model.lazy",value:e.body,expression:"body",modifiers:{lazy:!0}}],staticClass:"editor_textarea body_text",domProps:{value:e.body},on:{change:function(t){e.body=t.target.value}}})])]),e._v(" "),t("p",{staticClass:"hold_bcont center"},[t("button",{staticClass:"elecBtn hold_button",on:{click:e.holdDone}},[e._v("完成")]),e._v(" "),e.request?t("button",{staticClass:"elecBtn hold_button",on:{click:e.reject}},[e._v("直接返回当前数据")]):e._e()])])};Bo._withStripped=!0;const zo={name:"hold",data:()=>({title:"waiting hold data",request:null,header:{},body:"hello elecV2P",bIsHide:!0,bIsTheader:!1}),computed:{strheader:{get(){return JSON.stringify(this.header,null,4)},set(e){try{this.header=JSON.parse(e)}catch{console.log("hold header string is not a json"),this.$message.error("header 内容并不是正确的 JSON 格式",10)}}}},created(){this.$wsrecv.add("hold",(e=>{"over"===e?(this.bIsHide=!0,this.request=null,this.header={},this.body="hello elecV2P"):(this.title=e.title,this.request=e.request||null,this.header=e.header||{},this.body=e.body,this.bIsHide=!1)}))},methods:{holdDone(){const e={header:this.header,body:this.body};this.request&&(this.request.path=encodeURI(this.request.path),e.request=this.request),this.$wsrecv.send("hold",e),this.bIsHide=!0},reject(){const e={reject:!0,header:this.header,body:this.body};this.$wsrecv.send("hold",e),this.bIsHide=!0},headerDelete(e){this.$delete(this.header,e)}}};const Vo=ka(zo,Bo,[],!1,null,"3afbbebb",null).exports;var Go=function(){var e=this,t=e._self._c;return t("div",{staticClass:"message"},e._l(e.msgs,(function(s,i){return t("div",{key:i,staticClass:"message_item",style:{textAlign:s.align}},[t("span",{staticClass:"message_type icon",domProps:{innerHTML:e._s(e.icon[s.type])}}),e._v(" "),t("span",{staticClass:"message_text",class:{cursor:s.url},attrs:{title:s.url},on:{click:function(t){return e.$uApi.open(s.url)}}},[e._v(e._s(s.text))]),e._v(" "),t("span",{staticClass:"message_remove",on:{click:function(t){return e.msgRemove(i)}}},[e._v("X")])])})),0)};Go._withStripped=!0;const Ko=ka({name:"message",data:()=>({msgs:{},icon:wa}),computed:{},created(){Object.assign(co.message,{success:(...e)=>this.msgShow("success",this.formMsg(e)),error:(...e)=>this.msgShow("error",this.formMsg(e)),loading:(...e)=>this.msgShow("loading",this.formMsg(e)),close:e=>{e?this.msgRemove(e):this.msgs={}}}),this.$wsrecv&&this.$wsrecv.add("message",(e=>{if("object"===Ea(e))switch(e.type){case"success":case"error":case"loading":const t=this.formMsg(e.data);this.msgShow(e.type,t),this.msgNotify(t.msg,{secd:t.secd,url:t.url,tag:t.mid});break;case"close":e.data?this.msgRemove(e.data):this.msgs={};break;default:this.msgShow("error",{msg:"暂不支持的通知类型: "+e.type,secd:10})}else this.msgShow("success",this.formMsg(e))}))},methods:{formMsg(e){if(0===e.length)return{msg:""};if("array"!==Ea(e))return{msg:Na(e)};if(1===e.length)return{msg:Na(e[0])};let t,s,i,n,a=e.pop();return Number.isFinite(a)?t=a:"object"===Ea(a)&&(a.secd||a.url||a.mid||a.align)?(t=a.secd,s=a.url,i=a.mid,n=a.align):e.push(a),{msg:e.map((e=>Na(e))).join(" "),secd:t,url:s,mid:i,align:n}},msgShow(e,{msg:t,secd:s,url:i,mid:n=Ra(),align:a}){return void 0!==t&&""!==t||(t="a empty message",n="empty"),Number.isFinite(s)||(s=(t.match(/\W/g)||t).length/5+(3*Object.keys(this.msgs).length||5)),this.$set(this.msgs,n,{text:t,type:e,secd:s,url:i,align:a}),0!==s&&(this.msgs[n].sTout=setTimeout(this.msgRemove,1e3*s,n)),()=>{this.msgRemove(n)}},msgRemove(e){this.msgs[e]&&(clearTimeout(this.msgs[e].sTout),this.$delete(this.msgs,e))},async getNotifyPerm(){if("undefined"==typeof Notification)return"";let e=Notification.permission;return"granted"===e||"denied"===e?e:(e=await Notification.requestPermission(),void 0===e?new Promise((e=>Notification.requestPermission((t=>e(t))))):e)},async msgNotify(e="",t={}){if("granted"===await this.getNotifyPerm()){t.icon||(t.icon="efss/logo/elecV2P.png");const s=new Notification(t.title||"",{body:e,icon:t.icon,tag:t.tag});t.secd>0&&setTimeout((()=>s.close()),1e3*t.secd),t.url&&(s.onclick=e=>{e.preventDefault(),this.$uApi.open(t.url),s.close()})}}}},Go,[],!1,null,"40ac18ce",null).exports;var qo=function(){var e=this,t=e._self._c;return t("div",{staticClass:"evui"},e._l(e.draglist,(function(s,i){return t("VueDragResize",{key:i,attrs:{className:"ediv",dragHandle:".ediv_title--name",parent:!0,"prevent-deactivation":!1,active:s.active,w:s.width,h:s.height,x:s.left,y:s.top,z:s.z,resizable:s.resizable,draggable:s.draggable,handles:["tl","tr","bl","br"],"lock-aspect-ratio":!1},on:{deactivated:function(e){s.z=1},activated:function(e){s.z=2},resizestop:function(t){return e.updateVal(arguments,i)},dragstop:function(t){return e.updateVal(arguments,i)}}},[t("h3",{staticClass:"ediv_title",style:s.style.title,on:{click:function(e){s.z=2}}},[t("span",{staticClass:"ediv_title--name",attrs:{title:i}},[e._v(e._s(s.title))]),e._v(" "),t("span",{staticClass:"ediv_title--close",on:{click:function(t){return e.evRemove(i)}}},[e._v("x")])]),e._v(" "),t("div",{staticClass:"ediv_content",style:s.style.content,domProps:{innerHTML:e._s(s.content)},on:{click:function(t){return e.evDelegate(t,i)},keydown:function(t){return(t.type.indexOf("key")||83===t.keyCode)&&t.ctrlKey?(t.preventDefault(),t.stopPropagation(),e.evSave(i)):null}}}),e._v(" "),s.cbable?t("div",{staticClass:"ediv_btncontainer"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:s.cbdata,expression:"ediv.cbdata"}],staticClass:"elecTable_input ediv_cbdata",style:s.style.cbdata,attrs:{placeholder:s.cbhint},domProps:{value:s.cbdata},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey?e.cbsubmit(i):null},input:function(t){t.target.composing||e.$set(s,"cbdata",t.target.value)}}}),e._v(" "),t("button",{staticClass:"elecBtn ediv_cbbtn",style:s.style.cbbtn,on:{click:function(t){return e.cbsubmit(i)}}},[e._v(e._s(s.cblabel))])]):e._e()])})),1)};qo._withStripped=!0;const Jo={name:"evui",components:{VueDragResize:xo()},data:()=>({init:{title:"elecV2P 显示窗口",top:0,left:0,width:620,height:360,z:1,active:!0,resizable:!1,draggable:!0,content:"<h1>暂时没有添加任何内容</h1><p>关于 $evui 的使用可参考：<a href='https://github.com/elecV2/elecV2P-dei/tree/master/docs/04-JS.md' target='elecV2PDoc'>说明文档 $evui 部分</a></p>",style:{content:"font-size: 15px"},cbable:!1,cbdata:"",cblabel:"提交",cbhint:"输入返回给后台的数据"},script:"",draglist:{}}),created(){co.evui=e=>this.neweu({...e,type:"local"}),this.$wsrecv&&this.$wsrecv.add("evui",(e=>{let t=this.$sJson(e);if(t)switch(t.data&&t.data.script&&(this.script=t.data.script),t.type){case"neweu":this.neweu(t.data);break;case"close":case"delete":this.draglist[t.id]&&(this.$message.success("收到服务器端关闭",this.draglist[t.id].title,"evui 界面的命令",t.message&&"\n附带信息: "+t.message),this.evRemove(t.id));break;case"contentadd":this.$set(this.draglist[t.id],"content",this.draglist[t.id].content+this.$sString(t.data));break;case"content":this.$set(this.draglist[t.id],"content",this.$sString(t.data));break;case"cbdataadd":let e=this.draglist[t.id].cbdata+"\n"+this.$sString(t.data);this.$set(this.draglist[t.id],"cbdata",e);break;default:this.$set(this.draglist[t.id],"cbdata",this.$sString(t.data))}else this.$message.error("evui 输送的数据有误")}))},watch:{script(e){this.$uApi.injectJs(e)}},methods:{updateVal({...e},t){let s={left:e[0],top:e[1]};void 0!==e[2]&&void 0!==e[3]&&(s.width=e[2],s.height=e[3]),Object.assign(this.draglist[t],s)},neweu(e={}){let t=e.id||this.$uStr.euid();(e={...this.init,...e}).top=e.top||(document.body.clientHeight-Number(e.height||460))/2,e.left=e.left||(document.body.clientWidth-Number(e.width||800))/2,e.top<0&&(e.top=0),e.left<0&&(e.left=0),e.content&&(e.content=this.$sString(e.content)),e.cbdata&&(e.cbdata=this.$sString(e.cbdata)),"object"!==this.$sType(e.style)&&(e.style={content:e.style}),e.script&&(this.script=e.script),this.$set(this.draglist,t,e)},evRemove(e){e?this.draglist[e]&&("local"!==this.draglist[e].type&&this.$wsrecv&&this.$wsrecv.connected&&this.$wsrecv.send(e,"close"),this.$delete(this.draglist,e)):this.$message.error("a id of the evui is expect")},cbsubmit(e){this.$message.success(this.draglist[e].title,"send data:\n",this.draglist[e].cbdata),this.$wsrecv&&this.$wsrecv.send(e,this.draglist[e].cbdata)},evDelegate(e,t){const s=e&&e.target.dataset.method;if(!s)return;this.draglist[t].methods&&this.draglist[t].methods[s]&&this.draglist[t].methods[s](e);"true"!==e.target.dataset.close&&"close"!==s||this.evRemove(t)},evSave(e){this.draglist[e].methods&&this.draglist[e].methods.save&&(this.draglist[e].methods.save(),this.evRemove(e))}}};const Wo=ka(Jo,qo,[],!1,null,null,null).exports;const Yo=ka({name:"app",data:()=>({icon:wa,logo_src:ba,logo_name:"elecV2P",collapsed:window.innerWidth<960,sidermobile:!0,currentpanel:"overview",islangzh:rr.locale.startsWith("zh"),menulist:{overview:Object.create(null),task:Object.create(null),mitm:Object.create(null),rules:Object.create(null),rewrite:Object.create(null),jsmanage:Object.create(null),setting:Object.create(null),cfilter:Object.create(null),about:Object.create(null),donation:Object.create(null)}}),created(){let e=location.hash.slice(1).toLowerCase();this.currentpanel=this.menulist[e]?e:"overview";let t=this.$sJson(this.$uApi.store.get("menunav"));t?this.menulist=t:this.islangzh&&(this.menulist.overview.name="基础信息",this.menulist.task.name="定时任务",this.menulist.rewrite.name="重写请求",this.menulist.jsmanage.name="脚本管理",this.menulist.setting.name="设置相关",this.menulist.cfilter.name="分流列表",this.menulist.about.name="简介说明",this.menulist.donation.name="赞助打赏");let s=this.$sJson(this.$uApi.store.get("theme"));s&&this.themeApply(s),addEventListener("hashchange",(e=>{let t=location.hash.slice(1).toLowerCase();this.currentpanel=this.menulist[t]?t:"overview"})),addEventListener("load",(e=>{"serviceWorker"in navigator?(navigator.serviceWorker.register("/sw.js").catch((e=>{console.error("service worker registration failed",e)})),navigator.serviceWorker.addEventListener("controllerchange",(()=>{console.debug("a new service worker activated"),this.$message.success("a new service worker activated")}))):("http:"===location.protocol||this.$uApi.store.getCache("bChecked")||this.$message.error("该浏览器暂不支持 service workers，webUI 部分功能可能受限"),console.error("This browser does not support service workers. webUI 部分功能可能受限")),location.search.includes("token")&&history.replaceState(null,"","/"+location.hash)}))},components:{overview:hr,rules:vr,rewrite:br,jsmanage:jr,setting:$o,task:Oo,mitm:Ao,cfilter:Do,about:Lo,donation:Mo,hold:Vo,message:Ko,evui:Wo},computed:{navlist(){let e=Object.create(null),t=this.$uApi.store.getCache("bSponsor");for(let s in this.menulist)"setting"===s||"donation"===s&&!t?(this.menulist[s].show=!0,e[s]=this.menulist[s]):!1!==this.menulist[s].show&&(e[s]=this.menulist[s]);return e}},methods:{nav(e){location.hash="#"+e,this.sidermobile||(this.sidermobile=!0)},edelegate(e){if("nav"===e.target.dataset.method){let t=e.target.dataset.panel||e.target.dataset.param;t&&this.nav(t)}},menunav(e=null,t=!1){if(!e)return void console.debug("menu nav are expect");if(!t&&JSON.stringify(e)===JSON.stringify(this.menulist))return void console.debug("same menu nav, no need to update");let s={...this.menulist};for(let t in e)s[t]&&(s[t]=e[t]);this.menulist=s,this.$uApi.store.set("menunav",JSON.stringify(s))},themeApply(e=null){if(!e)return void console.error("theme object is expect");if("logo"===e.type)return!1===e.enable?(this.logo_src=ba,void(this.logo_name="elecV2P")):(e.src&&(this.logo_src=e.src),void(e.name&&(this.logo_name=e.name)));if(e.simple&&(e=e.simple),!0!==e.enable)return this.$uApi.removeItem(".evtheme"),this.$uApi.injectMeta("theme-color","#003153"),void this.$uApi.store.set("theme",JSON.stringify(e));let t="";e.mainbk&&(t=`--main-bk: ${e.mainbk};`,e.mainbk.startsWith("#")&&(t+=`--secd-fc: ${e.mainbk.padEnd(7,8).slice(0,7)}b8;`)),e.maincl&&(t+=`--main-cl: ${e.maincl};`,e.maincl.startsWith("#")&&(t+=`--secd-bk: ${e.maincl.padEnd(7,8).slice(0,7)}b8;`)),e.appbk&&(/^http/.test(e.appbk)&&(e.appbk=`url(${e.appbk})`),t+=`background: ${e.appbk};`),t&&(t=`#app{${t}}`),e.style&&(t+=e.style,/--main-fc/.test(e.style)&&this.$uApi.hashToLogo()),this.$uApi.injectCss(t),this.$uApi.injectMeta("theme-color",e.mainbk),this.$uApi.store.set("theme",JSON.stringify(e))},srcErr(){this.$message.error("LOGO 图标加载失败，自动生成替换图标"),this.logo_src=this.$uApi.hashToLogo(this.$uApi.store.get("userid"),this.logo_name,4)}}},_a,[],!1,null,"10ee03bb",null).exports;function Xo(e,t){return function(){return e.apply(t,arguments)}}const{toString:Zo}=Object.prototype,{getPrototypeOf:Qo}=Object,el=(tl=Object.create(null),e=>{const t=Zo.call(e);return tl[t]||(tl[t]=t.slice(8,-1).toLowerCase())});var tl;const sl=e=>(e=e.toLowerCase(),t=>el(t)===e),il=e=>t=>typeof t===e,{isArray:nl}=Array,al=il("undefined");const rl=sl("ArrayBuffer");const ol=il("string"),ll=il("function"),cl=il("number"),ul=e=>null!==e&&"object"==typeof e,hl=e=>{if("object"!==el(e))return!1;const t=Qo(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},dl=sl("Date"),pl=sl("File"),ml=sl("Blob"),fl=sl("FileList"),vl=sl("URLSearchParams"),[gl,_l,bl,yl]=["ReadableStream","Request","Response","Headers"].map(sl);function $l(e,t,{allOwnKeys:s=!1}={}){if(null==e)return;let i,n;if("object"!=typeof e&&(e=[e]),nl(e))for(i=0,n=e.length;i<n;i++)t.call(null,e[i],i,e);else{const n=s?Object.getOwnPropertyNames(e):Object.keys(e),a=n.length;let r;for(i=0;i<a;i++)r=n[i],t.call(null,e[r],r,e)}}function wl(e,t){t=t.toLowerCase();const s=Object.keys(e);let i,n=s.length;for(;n-- >0;)if(i=s[n],t===i.toLowerCase())return i;return null}const kl="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,Cl=e=>!al(e)&&e!==kl;const xl=(Tl="undefined"!=typeof Uint8Array&&Qo(Uint8Array),e=>Tl&&e instanceof Tl);var Tl;const Sl=sl("HTMLFormElement"),Ol=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),El=sl("RegExp"),jl=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),i={};$l(s,((s,n)=>{let a;!1!==(a=t(s,n,e))&&(i[n]=a||s)})),Object.defineProperties(e,i)},Nl="abcdefghijklmnopqrstuvwxyz",Pl="0123456789",Al={DIGIT:Pl,ALPHA:Nl,ALPHA_DIGIT:Nl+Nl.toUpperCase()+Pl};const Il=sl("AsyncFunction"),Rl=(Dl="function"==typeof setImmediate,Fl=ll(kl.postMessage),Dl?setImmediate:Fl?((e,t)=>(kl.addEventListener("message",(({source:s,data:i})=>{s===kl&&i===e&&t.length&&t.shift()()}),!1),s=>{t.push(s),kl.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e));var Dl,Fl;const Ll="undefined"!=typeof queueMicrotask?queueMicrotask.bind(kl):"undefined"!=typeof process&&process.nextTick||Rl,Hl={isArray:nl,isArrayBuffer:rl,isBuffer:function(e){return null!==e&&!al(e)&&null!==e.constructor&&!al(e.constructor)&&ll(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||ll(e.append)&&("formdata"===(t=el(e))||"object"===t&&ll(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&rl(e.buffer),t},isString:ol,isNumber:cl,isBoolean:e=>!0===e||!1===e,isObject:ul,isPlainObject:hl,isReadableStream:gl,isRequest:_l,isResponse:bl,isHeaders:yl,isUndefined:al,isDate:dl,isFile:pl,isBlob:ml,isRegExp:El,isFunction:ll,isStream:e=>ul(e)&&ll(e.pipe),isURLSearchParams:vl,isTypedArray:xl,isFileList:fl,forEach:$l,merge:function e(){const{caseless:t}=Cl(this)&&this||{},s={},i=(i,n)=>{const a=t&&wl(s,n)||n;hl(s[a])&&hl(i)?s[a]=e(s[a],i):hl(i)?s[a]=e({},i):nl(i)?s[a]=i.slice():s[a]=i};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&$l(arguments[e],i);return s},extend:(e,t,s,{allOwnKeys:i}={})=>($l(t,((t,i)=>{s&&ll(t)?e[i]=Xo(t,s):e[i]=t}),{allOwnKeys:i}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,s,i)=>{e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},toFlatObject:(e,t,s,i)=>{let n,a,r;const o={};if(t=t||{},null==e)return t;do{for(n=Object.getOwnPropertyNames(e),a=n.length;a-- >0;)r=n[a],i&&!i(r,e,t)||o[r]||(t[r]=e[r],o[r]=!0);e=!1!==s&&Qo(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},kindOf:el,kindOfTest:sl,endsWith:(e,t,s)=>{e=String(e),(void 0===s||s>e.length)&&(s=e.length),s-=t.length;const i=e.indexOf(t,s);return-1!==i&&i===s},toArray:e=>{if(!e)return null;if(nl(e))return e;let t=e.length;if(!cl(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},forEachEntry:(e,t)=>{const s=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=s.next())&&!i.done;){const s=i.value;t.call(e,s[0],s[1])}},matchAll:(e,t)=>{let s;const i=[];for(;null!==(s=e.exec(t));)i.push(s);return i},isHTMLForm:Sl,hasOwnProperty:Ol,hasOwnProp:Ol,reduceDescriptors:jl,freezeMethods:e=>{jl(e,((t,s)=>{if(ll(e)&&-1!==["arguments","caller","callee"].indexOf(s))return!1;const i=e[s];ll(i)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")}))}))},toObjectSet:(e,t)=>{const s={},i=e=>{e.forEach((e=>{s[e]=!0}))};return nl(e)?i(e):i(String(e).split(t)),s},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,s){return t.toUpperCase()+s})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:wl,global:kl,isContextDefined:Cl,ALPHABET:Al,generateString:(e=16,t=Al.ALPHA_DIGIT)=>{let s="";const{length:i}=t;for(;e--;)s+=t[Math.random()*i|0];return s},isSpecCompliantForm:function(e){return!!(e&&ll(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),s=(e,i)=>{if(ul(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[i]=e;const n=nl(e)?[]:{};return $l(e,((e,t)=>{const a=s(e,i+1);!al(a)&&(n[t]=a)})),t[i]=void 0,n}}return e};return s(e,0)},isAsyncFn:Il,isThenable:e=>e&&(ul(e)||ll(e))&&ll(e.then)&&ll(e.catch),setImmediate:Rl,asap:Ll};function Ul(e,t,s,i,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),i&&(this.request=i),n&&(this.response=n,this.status=n.status?n.status:null)}Hl.inherits(Ul,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Hl.toJSONObject(this.config),code:this.code,status:this.status}}});const Ml=Ul.prototype,Bl={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Bl[e]={value:e}})),Object.defineProperties(Ul,Bl),Object.defineProperty(Ml,"isAxiosError",{value:!0}),Ul.from=(e,t,s,i,n,a)=>{const r=Object.create(Ml);return Hl.toFlatObject(e,r,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),Ul.call(r,e.message,t,s,i,n),r.cause=e,r.name=e.name,a&&Object.assign(r,a),r};const zl=Ul;function Vl(e){return Hl.isPlainObject(e)||Hl.isArray(e)}function Gl(e){return Hl.endsWith(e,"[]")?e.slice(0,-2):e}function Kl(e,t,s){return e?e.concat(t).map((function(e,t){return e=Gl(e),!s&&t?"["+e+"]":e})).join(s?".":""):t}const ql=Hl.toFlatObject(Hl,{},null,(function(e){return/^is[A-Z]/.test(e)}));const Jl=function(e,t,s){if(!Hl.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const i=(s=Hl.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Hl.isUndefined(t[e])}))).metaTokens,n=s.visitor||c,a=s.dots,r=s.indexes,o=(s.Blob||"undefined"!=typeof Blob&&Blob)&&Hl.isSpecCompliantForm(t);if(!Hl.isFunction(n))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Hl.isDate(e))return e.toISOString();if(!o&&Hl.isBlob(e))throw new zl("Blob is not supported. Use a Buffer instead.");return Hl.isArrayBuffer(e)||Hl.isTypedArray(e)?o&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,s,n){let o=e;if(e&&!n&&"object"==typeof e)if(Hl.endsWith(s,"{}"))s=i?s:s.slice(0,-2),e=JSON.stringify(e);else if(Hl.isArray(e)&&function(e){return Hl.isArray(e)&&!e.some(Vl)}(e)||(Hl.isFileList(e)||Hl.endsWith(s,"[]"))&&(o=Hl.toArray(e)))return s=Gl(s),o.forEach((function(e,i){!Hl.isUndefined(e)&&null!==e&&t.append(!0===r?Kl([s],i,a):null===r?s:s+"[]",l(e))})),!1;return!!Vl(e)||(t.append(Kl(n,s,a),l(e)),!1)}const u=[],h=Object.assign(ql,{defaultVisitor:c,convertValue:l,isVisitable:Vl});if(!Hl.isObject(e))throw new TypeError("data must be an object");return function e(s,i){if(!Hl.isUndefined(s)){if(-1!==u.indexOf(s))throw Error("Circular reference detected in "+i.join("."));u.push(s),Hl.forEach(s,(function(s,a){!0===(!(Hl.isUndefined(s)||null===s)&&n.call(t,s,Hl.isString(a)?a.trim():a,i,h))&&e(s,i?i.concat(a):[a])})),u.pop()}}(e),t};function Wl(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Yl(e,t){this._pairs=[],e&&Jl(e,this,t)}const Xl=Yl.prototype;Xl.append=function(e,t){this._pairs.push([e,t])},Xl.toString=function(e){const t=e?function(t){return e.call(this,t,Wl)}:Wl;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const Zl=Yl;function Ql(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ec(e,t,s){if(!t)return e;const i=s&&s.encode||Ql,n=s&&s.serialize;let a;if(a=n?n(t,s):Hl.isURLSearchParams(t)?t.toString():new Zl(t,s).toString(i),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}const tc=class{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!s&&s.synchronous,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Hl.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},sc={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ic={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:Zl,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},nc="undefined"!=typeof window&&"undefined"!=typeof document,ac="object"==typeof navigator&&navigator||void 0,rc=nc&&(!ac||["ReactNative","NativeScript","NS"].indexOf(ac.product)<0),oc="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,lc=nc&&window.location.href||"http://localhost",cc={...i,...ic};const uc=function(e){function t(e,s,i,n){let a=e[n++];if("__proto__"===a)return!0;const r=Number.isFinite(+a),o=n>=e.length;if(a=!a&&Hl.isArray(i)?i.length:a,o)return Hl.hasOwnProp(i,a)?i[a]=[i[a],s]:i[a]=s,!r;i[a]&&Hl.isObject(i[a])||(i[a]=[]);return t(e,s,i[a],n)&&Hl.isArray(i[a])&&(i[a]=function(e){const t={},s=Object.keys(e);let i;const n=s.length;let a;for(i=0;i<n;i++)a=s[i],t[a]=e[a];return t}(i[a])),!r}if(Hl.isFormData(e)&&Hl.isFunction(e.entries)){const s={};return Hl.forEachEntry(e,((e,i)=>{t(function(e){return Hl.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),i,s,0)})),s}return null};const hc={transitional:sc,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",i=s.indexOf("application/json")>-1,n=Hl.isObject(e);n&&Hl.isHTMLForm(e)&&(e=new FormData(e));if(Hl.isFormData(e))return i?JSON.stringify(uc(e)):e;if(Hl.isArrayBuffer(e)||Hl.isBuffer(e)||Hl.isStream(e)||Hl.isFile(e)||Hl.isBlob(e)||Hl.isReadableStream(e))return e;if(Hl.isArrayBufferView(e))return e.buffer;if(Hl.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(n){if(s.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Jl(e,new cc.classes.URLSearchParams,Object.assign({visitor:function(e,t,s,i){return cc.isNode&&Hl.isBuffer(e)?(this.append(t,e.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=Hl.isFileList(e))||s.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Jl(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return n||i?(t.setContentType("application/json",!1),function(e,t,s){if(Hl.isString(e))try{return(t||JSON.parse)(e),Hl.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(s||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||hc.transitional,s=t&&t.forcedJSONParsing,i="json"===this.responseType;if(Hl.isResponse(e)||Hl.isReadableStream(e))return e;if(e&&Hl.isString(e)&&(s&&!this.responseType||i)){const s=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(e){if(s){if("SyntaxError"===e.name)throw zl.from(e,zl.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:cc.classes.FormData,Blob:cc.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Hl.forEach(["delete","get","head","post","put","patch"],(e=>{hc.headers[e]={}}));const dc=hc,pc=Hl.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),mc=Symbol("internals");function fc(e){return e&&String(e).trim().toLowerCase()}function vc(e){return!1===e||null==e?e:Hl.isArray(e)?e.map(vc):String(e)}function gc(e,t,s,i,n){return Hl.isFunction(i)?i.call(this,t,s):(n&&(t=s),Hl.isString(t)?Hl.isString(i)?-1!==t.indexOf(i):Hl.isRegExp(i)?i.test(t):void 0:void 0)}class _c{constructor(e){e&&this.set(e)}set(e,t,s){const i=this;function n(e,t,s){const n=fc(t);if(!n)throw new Error("header name must be a non-empty string");const a=Hl.findKey(i,n);(!a||void 0===i[a]||!0===s||void 0===s&&!1!==i[a])&&(i[a||t]=vc(e))}const a=(e,t)=>Hl.forEach(e,((e,s)=>n(e,s,t)));if(Hl.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(Hl.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a((e=>{const t={};let s,i,n;return e&&e.split("\n").forEach((function(e){n=e.indexOf(":"),s=e.substring(0,n).trim().toLowerCase(),i=e.substring(n+1).trim(),!s||t[s]&&pc[s]||("set-cookie"===s?t[s]?t[s].push(i):t[s]=[i]:t[s]=t[s]?t[s]+", "+i:i)})),t})(e),t);else if(Hl.isHeaders(e))for(const[t,i]of e.entries())n(i,t,s);else null!=e&&n(t,e,s);return this}get(e,t){if(e=fc(e)){const s=Hl.findKey(this,e);if(s){const e=this[s];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=s.exec(e);)t[i[1]]=i[2];return t}(e);if(Hl.isFunction(t))return t.call(this,e,s);if(Hl.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=fc(e)){const s=Hl.findKey(this,e);return!(!s||void 0===this[s]||t&&!gc(0,this[s],s,t))}return!1}delete(e,t){const s=this;let i=!1;function n(e){if(e=fc(e)){const n=Hl.findKey(s,e);!n||t&&!gc(0,s[n],n,t)||(delete s[n],i=!0)}}return Hl.isArray(e)?e.forEach(n):n(e),i}clear(e){const t=Object.keys(this);let s=t.length,i=!1;for(;s--;){const n=t[s];e&&!gc(0,this[n],n,e,!0)||(delete this[n],i=!0)}return i}normalize(e){const t=this,s={};return Hl.forEach(this,((i,n)=>{const a=Hl.findKey(s,n);if(a)return t[a]=vc(i),void delete t[n];const r=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,s)=>t.toUpperCase()+s))}(n):String(n).trim();r!==n&&delete t[n],t[r]=vc(i),s[r]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Hl.forEach(this,((s,i)=>{null!=s&&!1!==s&&(t[i]=e&&Hl.isArray(s)?s.join(", "):s)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const s=new this(e);return t.forEach((e=>s.set(e))),s}static accessor(e){const t=(this[mc]=this[mc]={accessors:{}}).accessors,s=this.prototype;function i(e){const i=fc(e);t[i]||(!function(e,t){const s=Hl.toCamelCase(" "+t);["get","set","has"].forEach((i=>{Object.defineProperty(e,i+s,{value:function(e,s,n){return this[i].call(this,t,e,s,n)},configurable:!0})}))}(s,e),t[i]=!0)}return Hl.isArray(e)?e.forEach(i):i(e),this}}_c.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Hl.reduceDescriptors(_c.prototype,(({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[s]=e}}})),Hl.freezeMethods(_c);const bc=_c;function yc(e,t){const s=this||dc,i=t||s,n=bc.from(i.headers);let a=i.data;return Hl.forEach(e,(function(e){a=e.call(s,a,n.normalize(),t?t.status:void 0)})),n.normalize(),a}function $c(e){return!(!e||!e.__CANCEL__)}function wc(e,t,s){zl.call(this,null==e?"canceled":e,zl.ERR_CANCELED,t,s),this.name="CanceledError"}Hl.inherits(wc,zl,{__CANCEL__:!0});const kc=wc;function Cc(e,t,s){const i=s.config.validateStatus;s.status&&i&&!i(s.status)?t(new zl("Request failed with status code "+s.status,[zl.ERR_BAD_REQUEST,zl.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s)):e(s)}const xc=function(e,t){e=e||10;const s=new Array(e),i=new Array(e);let n,a=0,r=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=i[r];n||(n=l),s[a]=o,i[a]=l;let u=r,h=0;for(;u!==a;)h+=s[u++],u%=e;if(a=(a+1)%e,a===r&&(r=(r+1)%e),l-n<t)return;const d=c&&l-c;return d?Math.round(1e3*h/d):void 0}};const Tc=function(e,t){let s,i,n=0,a=1e3/t;const r=(t,a=Date.now())=>{n=a,s=null,i&&(clearTimeout(i),i=null),e.apply(null,t)};return[(...e)=>{const t=Date.now(),o=t-n;o>=a?r(e,t):(s=e,i||(i=setTimeout((()=>{i=null,r(s)}),a-o)))},()=>s&&r(s)]},Sc=(e,t,s=3)=>{let i=0;const n=xc(50,250);return Tc((s=>{const a=s.loaded,r=s.lengthComputable?s.total:void 0,o=a-i,l=n(o);i=a;e({loaded:a,total:r,progress:r?a/r:void 0,bytes:o,rate:l||void 0,estimated:l&&r&&a<=r?(r-a)/l:void 0,event:s,lengthComputable:null!=r,[t?"download":"upload"]:!0})}),s)},Oc=(e,t)=>{const s=null!=e;return[i=>t[0]({lengthComputable:s,total:e,loaded:i}),t[1]]},Ec=e=>(...t)=>Hl.asap((()=>e(...t))),jc=cc.hasStandardBrowserEnv?function(){const e=cc.navigator&&/(msie|trident)/i.test(cc.navigator.userAgent),t=document.createElement("a");let s;function i(s){let i=s;return e&&(t.setAttribute("href",i),i=t.href),t.setAttribute("href",i),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return s=i(window.location.href),function(e){const t=Hl.isString(e)?i(e):e;return t.protocol===s.protocol&&t.host===s.host}}():function(){return!0},Nc=cc.hasStandardBrowserEnv?{write(e,t,s,i,n,a){const r=[e+"="+encodeURIComponent(t)];Hl.isNumber(s)&&r.push("expires="+new Date(s).toGMTString()),Hl.isString(i)&&r.push("path="+i),Hl.isString(n)&&r.push("domain="+n),!0===a&&r.push("secure"),document.cookie=r.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Pc(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Ac=e=>e instanceof bc?{...e}:e;function Ic(e,t){t=t||{};const s={};function i(e,t,s){return Hl.isPlainObject(e)&&Hl.isPlainObject(t)?Hl.merge.call({caseless:s},e,t):Hl.isPlainObject(t)?Hl.merge({},t):Hl.isArray(t)?t.slice():t}function n(e,t,s){return Hl.isUndefined(t)?Hl.isUndefined(e)?void 0:i(void 0,e,s):i(e,t,s)}function a(e,t){if(!Hl.isUndefined(t))return i(void 0,t)}function r(e,t){return Hl.isUndefined(t)?Hl.isUndefined(e)?void 0:i(void 0,e):i(void 0,t)}function o(s,n,a){return a in t?i(s,n):a in e?i(void 0,s):void 0}const l={url:a,method:a,data:a,baseURL:r,transformRequest:r,transformResponse:r,paramsSerializer:r,timeout:r,timeoutMessage:r,withCredentials:r,withXSRFToken:r,adapter:r,responseType:r,xsrfCookieName:r,xsrfHeaderName:r,onUploadProgress:r,onDownloadProgress:r,decompress:r,maxContentLength:r,maxBodyLength:r,beforeRedirect:r,transport:r,httpAgent:r,httpsAgent:r,cancelToken:r,socketPath:r,responseEncoding:r,validateStatus:o,headers:(e,t)=>n(Ac(e),Ac(t),!0)};return Hl.forEach(Object.keys(Object.assign({},e,t)),(function(i){const a=l[i]||n,r=a(e[i],t[i],i);Hl.isUndefined(r)&&a!==o||(s[i]=r)})),s}const Rc=e=>{const t=Ic({},e);let s,{data:i,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:r,headers:o,auth:l}=t;if(t.headers=o=bc.from(o),t.url=ec(Pc(t.baseURL,t.url),e.params,e.paramsSerializer),l&&o.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),Hl.isFormData(i))if(cc.hasStandardBrowserEnv||cc.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(!1!==(s=o.getContentType())){const[e,...t]=s?s.split(";").map((e=>e.trim())).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...t].join("; "))}if(cc.hasStandardBrowserEnv&&(n&&Hl.isFunction(n)&&(n=n(t)),n||!1!==n&&jc(t.url))){const e=a&&r&&Nc.read(r);e&&o.set(a,e)}return t},Dc="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,s){const i=Rc(e);let n=i.data;const a=bc.from(i.headers).normalize();let r,o,l,c,u,{responseType:h,onUploadProgress:d,onDownloadProgress:p}=i;function m(){c&&c(),u&&u(),i.cancelToken&&i.cancelToken.unsubscribe(r),i.signal&&i.signal.removeEventListener("abort",r)}let f=new XMLHttpRequest;function v(){if(!f)return;const i=bc.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());Cc((function(e){t(e),m()}),(function(e){s(e),m()}),{data:h&&"text"!==h&&"json"!==h?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:i,config:e,request:f}),f=null}f.open(i.method.toUpperCase(),i.url,!0),f.timeout=i.timeout,"onloadend"in f?f.onloadend=v:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(v)},f.onabort=function(){f&&(s(new zl("Request aborted",zl.ECONNABORTED,e,f)),f=null)},f.onerror=function(){s(new zl("Network Error",zl.ERR_NETWORK,e,f)),f=null},f.ontimeout=function(){let t=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const n=i.transitional||sc;i.timeoutErrorMessage&&(t=i.timeoutErrorMessage),s(new zl(t,n.clarifyTimeoutError?zl.ETIMEDOUT:zl.ECONNABORTED,e,f)),f=null},void 0===n&&a.setContentType(null),"setRequestHeader"in f&&Hl.forEach(a.toJSON(),(function(e,t){f.setRequestHeader(t,e)})),Hl.isUndefined(i.withCredentials)||(f.withCredentials=!!i.withCredentials),h&&"json"!==h&&(f.responseType=i.responseType),p&&([l,u]=Sc(p,!0),f.addEventListener("progress",l)),d&&f.upload&&([o,c]=Sc(d),f.upload.addEventListener("progress",o),f.upload.addEventListener("loadend",c)),(i.cancelToken||i.signal)&&(r=t=>{f&&(s(!t||t.type?new kc(null,e,f):t),f.abort(),f=null)},i.cancelToken&&i.cancelToken.subscribe(r),i.signal&&(i.signal.aborted?r():i.signal.addEventListener("abort",r)));const g=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(i.url);g&&-1===cc.protocols.indexOf(g)?s(new zl("Unsupported protocol "+g+":",zl.ERR_BAD_REQUEST,e)):f.send(n||null)}))},Fc=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let s,i=new AbortController;const n=function(e){if(!s){s=!0,r();const t=e instanceof Error?e:this.reason;i.abort(t instanceof zl?t:new kc(t instanceof Error?t.message:t))}};let a=t&&setTimeout((()=>{a=null,n(new zl(`timeout ${t} of ms exceeded`,zl.ETIMEDOUT))}),t);const r=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(n):e.removeEventListener("abort",n)})),e=null)};e.forEach((e=>e.addEventListener("abort",n)));const{signal:o}=i;return o.unsubscribe=()=>Hl.asap(r),o}},Lc=function*(e,t){let s=e.byteLength;if(!t||s<t)return void(yield e);let i,n=0;for(;n<s;)i=n+t,yield e.slice(n,i),n=i},Hc=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:s}=await t.read();if(e)break;yield s}}finally{await t.cancel()}},Uc=(e,t,s,i)=>{const n=async function*(e,t){for await(const s of Hc(e))yield*Lc(s,t)}(e,t);let a,r=0,o=e=>{a||(a=!0,i&&i(e))};return new ReadableStream({async pull(e){try{const{done:t,value:i}=await n.next();if(t)return o(),void e.close();let a=i.byteLength;if(s){let e=r+=a;s(e)}e.enqueue(new Uint8Array(i))}catch(e){throw o(e),e}},cancel:e=>(o(e),n.return())},{highWaterMark:2})},Mc="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,Bc=Mc&&"function"==typeof ReadableStream,zc=Mc&&("function"==typeof TextEncoder?(Vc=new TextEncoder,e=>Vc.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Vc;const Gc=(e,...t)=>{try{return!!e(...t)}catch(e){return!1}},Kc=Bc&&Gc((()=>{let e=!1;const t=new Request(cc.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),qc=Bc&&Gc((()=>Hl.isReadableStream(new Response("").body))),Jc={stream:qc&&(e=>e.body)};var Wc;Mc&&(Wc=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!Jc[e]&&(Jc[e]=Hl.isFunction(Wc[e])?t=>t[e]():(t,s)=>{throw new zl(`Response type '${e}' is not supported`,zl.ERR_NOT_SUPPORT,s)})})));const Yc=async(e,t)=>{const s=Hl.toFiniteNumber(e.getContentLength());return null==s?(async e=>{if(null==e)return 0;if(Hl.isBlob(e))return e.size;if(Hl.isSpecCompliantForm(e)){const t=new Request(cc.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Hl.isArrayBufferView(e)||Hl.isArrayBuffer(e)?e.byteLength:(Hl.isURLSearchParams(e)&&(e+=""),Hl.isString(e)?(await zc(e)).byteLength:void 0)})(t):s},Xc=Mc&&(async e=>{let{url:t,method:s,data:i,signal:n,cancelToken:a,timeout:r,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:u,withCredentials:h="same-origin",fetchOptions:d}=Rc(e);c=c?(c+"").toLowerCase():"text";let p,m=Fc([n,a&&a.toAbortSignal()],r);const f=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let v;try{if(l&&Kc&&"get"!==s&&"head"!==s&&0!==(v=await Yc(u,i))){let e,s=new Request(t,{method:"POST",body:i,duplex:"half"});if(Hl.isFormData(i)&&(e=s.headers.get("content-type"))&&u.setContentType(e),s.body){const[e,t]=Oc(v,Sc(Ec(l)));i=Uc(s.body,65536,e,t)}}Hl.isString(h)||(h=h?"include":"omit");const n="credentials"in Request.prototype;p=new Request(t,{...d,signal:m,method:s.toUpperCase(),headers:u.normalize().toJSON(),body:i,duplex:"half",credentials:n?h:void 0});let a=await fetch(p);const r=qc&&("stream"===c||"response"===c);if(qc&&(o||r&&f)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=a[t]}));const t=Hl.toFiniteNumber(a.headers.get("content-length")),[s,i]=o&&Oc(t,Sc(Ec(o),!0))||[];a=new Response(Uc(a.body,65536,s,(()=>{i&&i(),f&&f()})),e)}c=c||"text";let g=await Jc[Hl.findKey(Jc,c)||"text"](a,e);return!r&&f&&f(),await new Promise(((t,s)=>{Cc(t,s,{data:g,headers:bc.from(a.headers),status:a.status,statusText:a.statusText,config:e,request:p})}))}catch(t){if(f&&f(),t&&"TypeError"===t.name&&/fetch/i.test(t.message))throw Object.assign(new zl("Network Error",zl.ERR_NETWORK,e,p),{cause:t.cause||t});throw zl.from(t,t&&t.code,e,p)}}),Zc={http:null,xhr:Dc,fetch:Xc};Hl.forEach(Zc,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));const Qc=e=>`- ${e}`,eu=e=>Hl.isFunction(e)||null===e||!1===e,tu=e=>{e=Hl.isArray(e)?e:[e];const{length:t}=e;let s,i;const n={};for(let a=0;a<t;a++){let t;if(s=e[a],i=s,!eu(s)&&(i=Zc[(t=String(s)).toLowerCase()],void 0===i))throw new zl(`Unknown adapter '${t}'`);if(i)break;n[t||"#"+a]=i}if(!i){const e=Object.entries(n).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));let s=t?e.length>1?"since :\n"+e.map(Qc).join("\n"):" "+Qc(e[0]):"as no adapter specified";throw new zl("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return i};function su(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new kc(null,e)}function iu(e){su(e),e.headers=bc.from(e.headers),e.data=yc.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return tu(e.adapter||dc.adapter)(e).then((function(t){return su(e),t.data=yc.call(e,e.transformResponse,t),t.headers=bc.from(t.headers),t}),(function(t){return $c(t)||(su(e),t&&t.response&&(t.response.data=yc.call(e,e.transformResponse,t.response),t.response.headers=bc.from(t.response.headers))),Promise.reject(t)}))}const nu="1.7.7",au={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{au[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}}));const ru={};au.transitional=function(e,t,s){function i(e,t){return"[Axios v1.7.7] Transitional option '"+e+"'"+t+(s?". "+s:"")}return(s,n,a)=>{if(!1===e)throw new zl(i(n," has been removed"+(t?" in "+t:"")),zl.ERR_DEPRECATED);return t&&!ru[n]&&(ru[n]=!0,console.warn(i(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(s,n,a)}};const ou={assertOptions:function(e,t,s){if("object"!=typeof e)throw new zl("options must be an object",zl.ERR_BAD_OPTION_VALUE);const i=Object.keys(e);let n=i.length;for(;n-- >0;){const a=i[n],r=t[a];if(r){const t=e[a],s=void 0===t||r(t,a,e);if(!0!==s)throw new zl("option "+a+" must be "+s,zl.ERR_BAD_OPTION_VALUE)}else if(!0!==s)throw new zl("Unknown option "+a,zl.ERR_BAD_OPTION)}},validators:au},lu=ou.validators;class cu{constructor(e){this.defaults=e,this.interceptors={request:new tc,response:new tc}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t;Error.captureStackTrace?Error.captureStackTrace(t={}):t=new Error;const s=t.stack?t.stack.replace(/^.+\n/,""):"";try{e.stack?s&&!String(e.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+s):e.stack=s}catch(e){}}throw e}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=Ic(this.defaults,t);const{transitional:s,paramsSerializer:i,headers:n}=t;void 0!==s&&ou.assertOptions(s,{silentJSONParsing:lu.transitional(lu.boolean),forcedJSONParsing:lu.transitional(lu.boolean),clarifyTimeoutError:lu.transitional(lu.boolean)},!1),null!=i&&(Hl.isFunction(i)?t.paramsSerializer={serialize:i}:ou.assertOptions(i,{encode:lu.function,serialize:lu.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=n&&Hl.merge(n.common,n[t.method]);n&&Hl.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete n[e]})),t.headers=bc.concat(a,n);const r=[];let o=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,r.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,h=0;if(!o){const e=[iu.bind(this),void 0];for(e.unshift.apply(e,r),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);h<u;)c=c.then(e[h++],e[h++]);return c}u=r.length;let d=t;for(h=0;h<u;){const e=r[h++],t=r[h++];try{d=e(d)}catch(e){t.call(this,e);break}}try{c=iu.call(this,d)}catch(e){return Promise.reject(e)}for(h=0,u=l.length;h<u;)c=c.then(l[h++],l[h++]);return c}getUri(e){return ec(Pc((e=Ic(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}Hl.forEach(["delete","get","head","options"],(function(e){cu.prototype[e]=function(t,s){return this.request(Ic(s||{},{method:e,url:t,data:(s||{}).data}))}})),Hl.forEach(["post","put","patch"],(function(e){function t(t){return function(s,i,n){return this.request(Ic(n||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:s,data:i}))}}cu.prototype[e]=t(),cu.prototype[e+"Form"]=t(!0)}));const uu=cu;class hu{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const s=this;this.promise.then((e=>{if(!s._listeners)return;let t=s._listeners.length;for(;t-- >0;)s._listeners[t](e);s._listeners=null})),this.promise.then=e=>{let t;const i=new Promise((e=>{s.subscribe(e),t=e})).then(e);return i.cancel=function(){s.unsubscribe(t)},i},e((function(e,i,n){s.reason||(s.reason=new kc(e,i,n),t(s.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new hu((function(t){e=t})),cancel:e}}}const du=hu;const pu={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(pu).forEach((([e,t])=>{pu[t]=e}));const mu=pu;const fu=function e(t){const s=new uu(t),i=Xo(uu.prototype.request,s);return Hl.extend(i,uu.prototype,s,{allOwnKeys:!0}),Hl.extend(i,s,null,{allOwnKeys:!0}),i.create=function(s){return e(Ic(t,s))},i}(dc);fu.Axios=uu,fu.CanceledError=kc,fu.CancelToken=du,fu.isCancel=$c,fu.VERSION=nu,fu.toFormData=Jl,fu.AxiosError=zl,fu.Cancel=fu.CanceledError,fu.all=function(e){return Promise.all(e)},fu.spread=function(e){return function(t){return e.apply(null,t)}},fu.isAxiosError=function(e){return Hl.isObject(e)&&!0===e.isAxiosError},fu.mergeConfig=Ic,fu.AxiosHeaders=bc,fu.formToJSON=e=>uc(Hl.isHTMLForm(e)?new FormData(e):e),fu.getAdapter=tu,fu.HttpStatusCode=mu,fu.default=fu;const vu=fu,gu={address:Oa.base_url.replace("http","ws")+"/elecV2P",trynum:0,trying:!1,reconnectnum:5,reconnectgap:10,wsrecv:{connected:!1,add(e,t){if(e&&"function"==typeof t)return this.lists[e]?this.lists[e].push(t):(this.lists[e]=[t],this.id&&function(e){if(gu.wsrecv.send)gu.wsrecv.send("ready",e);else{const t={times:5,gap:3};t.tmpInt=setInterval((()=>{gu.wsrecv.send?(gu.wsrecv.send("ready",e),clearInterval(t.tmpInt),delete t.tmpInt):t.times<=0?(console.debug("wsrecv no send method yet"),clearInterval(t.tmpInt),delete t.tmpInt):t.times--}),1e3*t.gap)}}(e)),this.connected?void 0:"websocket "+lr("disconnected");console.error("websocket recver and a callbak function is expect")},dispatch(e,t){this.lists.minishell&&this.lists.minishell.forEach((s=>s({type:e,data:t}))),"minishell"!==e&&this.lists[e]?this.lists[e].forEach((e=>e(t))):this.lists.minishell||console.debug("there are no recver",e,"to render data",t)},lists:{},connect(){_u()}},upstatus(e){this.wsrecv.lists.elecV2Pstatus&&this.wsrecv.lists.elecV2Pstatus.forEach((t=>t({clients:e})))}};async function _u(){if(gu.trynum++,gu.wsrecv.connected)return void console.log(`[${Ba("websocket info")}][${Ha(null,1)}] websocket ${lr("connected")}`);if(gu.trying)return void console.log(`[${Ba("websocket info")}][${Ha(null,1)}] websocket is trying to connect...`);console.log(`[${Ba("websocket info")}][${Ha(null,1)}] 第 ${gu.trynum} 次尝试 websocket 连接中`),gu.upstatus(`第 ${gu.trynum} 次尝试连接中`);const e=new WebSocket(gu.address);gu.trying=!0,e.onopen=()=>{console.log(`[${Ba("websocket info")}][${Ha(null,1)}] WebSocket connected: ${gu.address}`),oo({off:!1}),gu.trynum=0,gu.trying=!1,gu.wsrecv.connected=!0,gu.upstatus(lr("connected")),gu.wsrecv.send=(t,s)=>{e.send(JSON.stringify({type:t,data:s,id:gu.wsrecv.id}))}},e.onmessage=e=>{try{e=JSON.parse(e.data),gu.wsrecv.dispatch(e.type,e.data)}catch(e){console.error("websocket data error:",e)}},e.onclose=e=>{console.error("WebSocket closed",e),gu.wsrecv.connected=!1,1008===e.code||4003===e.code?(gu.upstatus("无访问权限"),gu.wsrecv.dispatch("message",{type:"error",data:[`websocket 连接失败\n${e.reason}`]})):(gu.upstatus(lr("disconnected")),function(){if(gu.trynum>=gu.reconnectnum){let e="连接失败，请检查网络后尝试刷新页面";return console.error(`[${Ba("websocket error")}][${Ha(null,1)}] websocket ${e}`),gu.upstatus(e),gu.wsrecv.dispatch("tasklog",`[${Ba("websocket error")}][${Ha(null,1)}] [31mwebsocket ${e}`),void gu.wsrecv.dispatch("jsmanage",`[${Ba("websocket error")}][${Ha(null,1)}] [31mwebsocket ${e}`)}oo();const e=gu.reconnectgap*gu.trynum+5;console.log(`[${Ba("websocket info")}][${Ha(null,1)}] 客户端将在 ${e} 秒后尝试第 ${gu.trynum+1}/${gu.reconnectnum} 次重连`),gu.upstatus(`${lr("disconnected")}，${e} 秒后尝试第 ${gu.trynum+1}/${gu.reconnectnum} 次重连 ${Ha().split(" ").pop()}`),gu.wsrecv.dispatch("tasklog",`[${Ba("websocket error")}][${Ha(null,1)}] [31mwebsocket ${lr("disconnected")}，将在 ${e} 秒后尝试重连（如果不是手动断开或网络问题，可能是某个脚本运行出错，导致 elecV2P 重启，请根据 errors.log 和当前时间，找到相应脚本进行修改）`),gu.wsrecv.dispatch("jsmanage",`[${Ba("websocket error")}][${Ha(null,1)}] [31mwebsocket ${lr("disconnected")}，将在 ${e} 秒后尝试重连（如果不是手动断开或网络问题，可能是某个脚本运行出错，导致 elecV2P 重启，请根据 errors.log 和当前时间，找到相应脚本进行修改）`),setTimeout((()=>{_u()}),1e3*e)}())},e.onerror=e=>{console.debug("WebSocket error",e),gu.trying=!1,gu.wsrecv.connected=!1}}gu.wsrecv.add("init",(e=>{e.secunset&&!Lr.get("secunset")&&(gu.wsrecv.dispatch("message",{type:"success",data:["当前 webUI 端口所有用户可访问，如部署在公网\n请务必前往 SETTING/设置 界面打开安全访问",{url:"#setting",secd:0}]}),console.log(`[${Ba("elecV2P notify")}][${Ha(null,1)}] 当前 webUI 端口所有用户可访问，如部署在公网请务必前往 SETTING/设置 界面打开安全访问`),Lr.set("secunset","true")),e.vernum?(gu.wsrecv.id=e.id,Object.keys(gu.wsrecv.lists).forEach((e=>{gu.wsrecv.send("ready",e),"jsmanage"!==e&&"tasklog"!==e||gu.wsrecv.lists[e].forEach((e=>e(`[${Ba("websocket info")}][${Ha(null,1)}] websocket ${lr("connected")}`)))})),console.log(`[${Ba("elecV2P info")}][${Ha(null,1)}] 当前 elecV2P 后台版本 ${e.version}`),console.log(`[${Ba("elecV2P info")}][${Ha(null,1)}] 当前 elecV2P webUI 版本 ${Oa.version}`),Oa.vernum<e.vernum&&(gu.wsrecv.dispatch("message",{type:"error",data:[`当前 webUI 版本低于后台 v${e.version}，可能正在使用缓存页面\n请点击该通知或使用 ctrl+F5 刷新当前页面\n(如果此提醒一直存在可能需要手动进行升级)`,{url:"reload"}]}),console.log(`[${Ba("elecV2P info")}][${Ha(null,1)}] 当前 elecV2P 后台版本 ${e.version}`)),e.userid&&(console.debug(`[${Ba("elecV2P notify")}][${Ha(null,1)}] 当前 elecV2P userid ${e.userid}`),Lr.set("userid",e.userid),Lr.getCache("sponsors").has(e.userid)&&Lr.setCache("bSponsor",!0)),e.glogslicebegin&&(Oa.glogslicebegin=e.glogslicebegin)):console.error(`[${Ba("elecV2P error")}][${Ha(null,1)}] 获取 elecV2P 后台版本号失败`)})),_u();const bu=gu.wsrecv;ti.prototype.$axios=vu,ti.prototype.$wsrecv=bu,ti.prototype.$sType=Ea,ti.prototype.$sString=Na,ti.prototype.$sJson=ja,ti.prototype.$sTime=Ha,ti.prototype.$logHead=Ba,ti.prototype.$uStr=e,ti.prototype.$uApi=t,ti.prototype.$evui=e=>co.evui(e),ti.prototype.$message=co.message,ti.prototype.$t=lr,ti.prototype.$ta=function(...e){const t=or[rr.locale]||or[rr.fallbackLocale],s=t.join_gap;return e.map((e=>t[e]||e)).join(s)},ti.config.productionTip=!1,new ti({el:"#app",render:e=>e(Yo)})})()})();